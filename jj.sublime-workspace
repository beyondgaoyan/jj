{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"max",
				"max-width:   (property)"
			],
			[
				"c",
				"colspan	Attr"
			],
			[
				"PRIN",
				"print_r"
			],
			[
				"acd",
				"act_id"
			],
			[
				"isin",
				"is_int"
			],
			[
				"prin",
				"print_r"
			],
			[
				"sh",
				"shuffle"
			],
			[
				"pro",
				"proCur  (variable)"
			],
			[
				"CHO",
				"Choujiang_user  (variable)"
			],
			[
				"C",
				"Choujiang_user"
			],
			[
				"t",
				"target	Attr"
			],
			[
				"s",
				"scroll"
			],
			[
				"no",
				"no-repeat"
			],
			[
				"image",
				"imagesgy"
			],
			[
				"f",
				"font-family"
			],
			[
				"background-c",
				"background-color"
			],
			[
				"p",
				"padding"
			]
		]
	},
	"buffers":
	[
		{
			"file": "flow.php",
			"settings":
			{
				"buffer_size": 93148,
				"line_ending": "Windows"
			}
		},
		{
			"contents": "<?php\n\n/**\n * ECSHOP 公用函数库\n * ============================================================================\n * * 版权所有 2005-2012 上海商派网络科技有限公司，并保留所有权利。\n * 网站地址: http://www.ecshop.com；\n * ----------------------------------------------------------------------------\n * 这不是一个自由软件！您只能在不用于商业目的的前提下对程序代码进行修改和\n * 使用；不允许对程序代码以任何形式任何目的的再发布。\n * ============================================================================\n * $Author: liubo $\n * $Id: lib_common.php 17217 2011-01-19 06:29:08Z liubo $\n*/\n\nif (!defined('IN_ECS'))\n{\n    die('Hacking attempt');\n}\n\n/**\n * 创建像这样的查询: \"IN('a','b')\";\n *\n * @access   public\n * @param    mix      $item_list      列表数组或字符串\n * @param    string   $field_name     字段名称\n *\n * @return   void\n */\nfunction db_create_in($item_list, $field_name = '')\n{\n    if (empty($item_list))\n    {\n        return $field_name . \" IN ('') \";\n    }\n    else\n    {\n        if (!is_array($item_list))\n        {\n            $item_list = explode(',', $item_list);\n        }\n        $item_list = array_unique($item_list);\n        $item_list_tmp = '';\n        foreach ($item_list AS $item)\n        {\n            if ($item !== '')\n            {\n                $item_list_tmp .= $item_list_tmp ? \",'$item'\" : \"'$item'\";\n            }\n        }\n        if (empty($item_list_tmp))\n        {\n            return $field_name . \" IN ('') \";\n        }\n        else\n        {\n            return $field_name . ' IN (' . $item_list_tmp . ') ';\n        }\n    }\n}\n\n/**\n * 验证输入的邮件地址是否合法\n *\n * @access  public\n * @param   string      $email      需要验证的邮件地址\n *\n * @return bool\n */\nfunction is_email($user_email)\n{\n    $chars = \"/^([a-z0-9+_]|\\\\-|\\\\.)+@(([a-z0-9_]|\\\\-)+\\\\.)+[a-z]{2,6}\\$/i\";\n    if (strpos($user_email, '@') !== false && strpos($user_email, '.') !== false)\n    {\n        if (preg_match($chars, $user_email))\n        {\n            return true;\n        }\n        else\n        {\n            return false;\n        }\n    }\n    else\n    {\n        return false;\n    }\n}\n\n/**\n * 检查是否为一个合法的时间格式\n *\n * @access  public\n * @param   string  $time\n * @return  void\n */\nfunction is_time($time)\n{\n    $pattern = '/[\\d]{4}-[\\d]{1,2}-[\\d]{1,2}\\s[\\d]{1,2}:[\\d]{1,2}:[\\d]{1,2}/';\n\n    return preg_match($pattern, $time);\n}\n\n/**\n * 获得查询时间和次数，并赋值给smarty\n *\n * @access  public\n * @return  void\n */\nfunction assign_query_info()\n{\n    if ($GLOBALS['db']->queryTime == '')\n    {\n        $query_time = 0;\n    }\n    else\n    {\n        if (PHP_VERSION >= '5.0.0')\n        {\n            $query_time = number_format(microtime(true) - $GLOBALS['db']->queryTime, 6);\n        }\n        else\n        {\n            list($now_usec, $now_sec)     = explode(' ', microtime());\n            list($start_usec, $start_sec) = explode(' ', $GLOBALS['db']->queryTime);\n            $query_time = number_format(($now_sec - $start_sec) + ($now_usec - $start_usec), 6);\n        }\n    }\n    $GLOBALS['smarty']->assign('query_info', sprintf($GLOBALS['_LANG']['query_info'], $GLOBALS['db']->queryCount, $query_time));\n\n    /* 内存占用情况 */\n    if ($GLOBALS['_LANG']['memory_info'] && function_exists('memory_get_usage'))\n    {\n        $GLOBALS['smarty']->assign('memory_info', sprintf($GLOBALS['_LANG']['memory_info'], memory_get_usage() / 1048576));\n    }\n\n    /* 是否启用了 gzip */\n    $gzip_enabled = gzip_enabled() ? $GLOBALS['_LANG']['gzip_enabled'] : $GLOBALS['_LANG']['gzip_disabled'];\n    $GLOBALS['smarty']->assign('gzip_enabled', $gzip_enabled);\n}\n\n/**\n * 创建地区的返回信息\n *\n * @access  public\n * @param   array   $arr    地区数组 *\n * @return  void\n */\nfunction region_result($parent, $sel_name, $type)\n{\n    global $cp;\n\n    $arr = get_regions($type, $parent);\n    foreach ($arr AS $v)\n    {\n        $region      =& $cp->add_node('region');\n        $region_id   =& $region->add_node('id');\n        $region_name =& $region->add_node('name');\n\n        $region_id->set_data($v['region_id']);\n        $region_name->set_data($v['region_name']);\n    }\n    $select_obj =& $cp->add_node('select');\n    $select_obj->set_data($sel_name);\n}\n\n/**\n * 获得指定国家的所有省份\n *\n * @access      public\n * @param       int     country    国家的编号\n * @return      array\n */\nfunction get_regions($type = 0, $parent = 0)\n{\n    $sql = 'SELECT region_id, region_name FROM ' . $GLOBALS['ecs']->table('region') .\n            \" WHERE region_type = '$type' AND parent_id = '$parent'\";\n\n    return $GLOBALS['db']->GetAll($sql);\n}\n\n/**\n * 获得配送区域中指定的配送方式的配送费用的计算参数\n *\n * @access  public\n * @param   int     $area_id        配送区域ID\n *\n * @return array;\n */\nfunction get_shipping_config($area_id)\n{\n    /* 获得配置信息 */\n    $sql = 'SELECT configure FROM ' . $GLOBALS['ecs']->table('shipping_area') . \" WHERE shipping_area_id = '$area_id'\";\n    $cfg = $GLOBALS['db']->GetOne($sql);\n\n    if ($cfg)\n    {\n        /* 拆分成配置信息的数组 */\n        $arr = unserialize($cfg);\n    }\n    else\n    {\n        $arr = array();\n    }\n\n    return $arr;\n}\n\n/**\n * 初始化会员数据整合类\n *\n * @access  public\n * @return  object\n */\nfunction &init_users()\n{\n    $set_modules = false;\n    static $cls = null;\n    if ($cls != null)\n    {\n        return $cls;\n    }\n    include_once(ROOT_PATH . 'includes/modules/integrates/' . $GLOBALS['_CFG']['integrate_code'] . '.php');\n    $cfg = unserialize($GLOBALS['_CFG']['integrate_config']);\n    $cls = new $GLOBALS['_CFG']['integrate_code']($cfg);\n\n    return $cls;\n}\n\n/**\n * 获得指定分类下的子分类的数组\n *\n * @access  public\n * @param   int     $cat_id     分类的ID\n * @param   int     $selected   当前选中分类的ID\n * @param   boolean $re_type    返回的类型: 值为真时返回下拉列表,否则返回数组\n * @param   int     $level      限定返回的级数。为0时返回所有级数\n * @param   int     $is_show_all 如果为true显示所有分类，如果为false隐藏不可见分类。\n * @return  mix\n */\nfunction cat_list($cat_id = 0, $selected = 0, $re_type = true, $level = 0, $is_show_all = true)\n{\n    static $res = NULL;\n\n    if ($res === NULL)\n    {\n        $data = read_static_cache('cat_pid_releate');\n        if ($data === false)\n        {\n            $sql = \"SELECT c.cat_id, c.cat_name, c.measure_unit, c.parent_id, c.is_show, c.show_in_nav, c.grade, c.sort_order, COUNT(s.cat_id) AS has_children \".\n                'FROM ' . $GLOBALS['ecs']->table('category') . \" AS c \".\n                \"LEFT JOIN \" . $GLOBALS['ecs']->table('category') . \" AS s ON s.parent_id=c.cat_id \".\n                \"GROUP BY c.cat_id \".\n                'ORDER BY c.parent_id, c.sort_order ASC';\n            $res = $GLOBALS['db']->getAll($sql);\n\n            $sql = \"SELECT cat_id, COUNT(*) AS goods_num \" .\n                    \" FROM \" . $GLOBALS['ecs']->table('goods') .\n                    \" WHERE is_delete = 0 AND is_on_sale = 1 \" .\n                    \" GROUP BY cat_id\";\n            $res2 = $GLOBALS['db']->getAll($sql);\n\n            $sql = \"SELECT gc.cat_id, COUNT(*) AS goods_num \" .\n                    \" FROM \" . $GLOBALS['ecs']->table('goods_cat') . \" AS gc , \" . $GLOBALS['ecs']->table('goods') . \" AS g \" .\n                    \" WHERE g.goods_id = gc.goods_id AND g.is_delete = 0 AND g.is_on_sale = 1 \" .\n                    \" GROUP BY gc.cat_id\";\n            $res3 = $GLOBALS['db']->getAll($sql);\n\n            $newres = array();\n            foreach($res2 as $k=>$v)\n            {\n                $newres[$v['cat_id']] = $v['goods_num'];\n                foreach($res3 as $ks=>$vs)\n                {\n                    if($v['cat_id'] == $vs['cat_id'])\n                    {\n                    $newres[$v['cat_id']] = $v['goods_num'] + $vs['goods_num'];\n                    }\n                }\n            }\n\n            foreach($res as $k=>$v)\n            {\n                $res[$k]['goods_num'] = !empty($newres[$v['cat_id']]) ? $newres[$v['cat_id']] : 0;\n            }\n            //如果数组过大，不采用静态缓存方式\n            if (count($res) <= 1000)\n            {\n                write_static_cache('cat_pid_releate', $res);\n            }\n        }\n        else\n        {\n            $res = $data;\n        }\n    }\n\n    if (empty($res) == true)\n    {\n        return $re_type ? '' : array();\n    }\n\n    $options = cat_options($cat_id, $res); // 获得指定分类下的子分类的数组\n\n    $children_level = 99999; //大于这个分类的将被删除\n    if ($is_show_all == false)\n    {\n        foreach ($options as $key => $val)\n        {\n            if ($val['level'] > $children_level)\n            {\n                unset($options[$key]);\n            }\n            else\n            {\n                if ($val['is_show'] == 0)\n                {\n                    unset($options[$key]);\n                    if ($children_level > $val['level'])\n                    {\n                        $children_level = $val['level']; //标记一下，这样子分类也能删除\n                    }\n                }\n                else\n                {\n                    $children_level = 99999; //恢复初始值\n                }\n            }\n        }\n    }\n\n    /* 截取到指定的缩减级别 */\n    if ($level > 0)\n    {\n        if ($cat_id == 0)\n        {\n            $end_level = $level;\n        }\n        else\n        {\n            $first_item = reset($options); // 获取第一个元素\n            $end_level  = $first_item['level'] + $level;\n        }\n\n        /* 保留level小于end_level的部分 */\n        foreach ($options AS $key => $val)\n        {\n            if ($val['level'] >= $end_level)\n            {\n                unset($options[$key]);\n            }\n        }\n    }\n\n    if ($re_type == true)\n    {\n        $select = '';\n        foreach ($options AS $var)\n        {\n            $select .= '<option value=\"' . $var['cat_id'] . '\" ';\n            $select .= ($selected == $var['cat_id']) ? \"selected='ture'\" : '';\n            $select .= '>';\n            if ($var['level'] > 0)\n            {\n                $select .= str_repeat('&nbsp;', $var['level'] * 4);\n            }\n            $select .= htmlspecialchars(addslashes($var['cat_name']), ENT_QUOTES) . '</option>';\n        }\n\n        return $select;\n    }\n    else\n    {\n        foreach ($options AS $key => $value)\n        {\n            $options[$key]['url'] = build_uri('category', array('cid' => $value['cat_id']), $value['cat_name']);\n        }\n\n        return $options;\n    }\n}\n\n/**\n * 过滤和排序所有分类，返回一个带有缩进级别的数组\n *\n * @access  private\n * @param   int     $cat_id     上级分类ID\n * @param   array   $arr        含有所有分类的数组\n * @param   int     $level      级别\n * @return  void\n */\nfunction cat_options($spec_cat_id, $arr)\n{\n    static $cat_options = array();\n\n    if (isset($cat_options[$spec_cat_id]))\n    {\n        return $cat_options[$spec_cat_id];\n    }\n\n    if (!isset($cat_options[0]))\n    {\n        $level = $last_cat_id = 0;\n        $options = $cat_id_array = $level_array = array();\n        $data = read_static_cache('cat_option_static');\n        if ($data === false)\n        {\n            while (!empty($arr))\n            {\n                foreach ($arr AS $key => $value)\n                {\n                    $cat_id = $value['cat_id'];\n                    if ($level == 0 && $last_cat_id == 0)\n                    {\n                        if ($value['parent_id'] > 0)\n                        {\n                            break;\n                        }\n\n                        $options[$cat_id]          = $value;\n                        $options[$cat_id]['level'] = $level;\n                        $options[$cat_id]['id']    = $cat_id;\n                        $options[$cat_id]['name']  = $value['cat_name'];\n                        unset($arr[$key]);\n\n                        if ($value['has_children'] == 0)\n                        {\n                            continue;\n                        }\n                        $last_cat_id  = $cat_id;\n                        $cat_id_array = array($cat_id);\n                        $level_array[$last_cat_id] = ++$level;\n                        continue;\n                    }\n\n                    if ($value['parent_id'] == $last_cat_id)\n                    {\n                        $options[$cat_id]          = $value;\n                        $options[$cat_id]['level'] = $level;\n                        $options[$cat_id]['id']    = $cat_id;\n                        $options[$cat_id]['name']  = $value['cat_name'];\n                        unset($arr[$key]);\n\n                        if ($value['has_children'] > 0)\n                        {\n                            if (end($cat_id_array) != $last_cat_id)\n                            {\n                                $cat_id_array[] = $last_cat_id;\n                            }\n                            $last_cat_id    = $cat_id;\n                            $cat_id_array[] = $cat_id;\n                            $level_array[$last_cat_id] = ++$level;\n                        }\n                    }\n                    elseif ($value['parent_id'] > $last_cat_id)\n                    {\n                        break;\n                    }\n                }\n\n                $count = count($cat_id_array);\n                if ($count > 1)\n                {\n                    $last_cat_id = array_pop($cat_id_array);\n                }\n                elseif ($count == 1)\n                {\n                    if ($last_cat_id != end($cat_id_array))\n                    {\n                        $last_cat_id = end($cat_id_array);\n                    }\n                    else\n                    {\n                        $level = 0;\n                        $last_cat_id = 0;\n                        $cat_id_array = array();\n                        continue;\n                    }\n                }\n\n                if ($last_cat_id && isset($level_array[$last_cat_id]))\n                {\n                    $level = $level_array[$last_cat_id];\n                }\n                else\n                {\n                    $level = 0;\n                }\n            }\n            //如果数组过大，不采用静态缓存方式\n            if (count($options) <= 2000)\n            {\n                write_static_cache('cat_option_static', $options);\n            }\n        }\n        else\n        {\n            $options = $data;\n        }\n        $cat_options[0] = $options;\n    }\n    else\n    {\n        $options = $cat_options[0];\n    }\n\n    if (!$spec_cat_id)\n    {\n        return $options;\n    }\n    else\n    {\n        if (empty($options[$spec_cat_id]))\n        {\n            return array();\n        }\n\n        $spec_cat_id_level = $options[$spec_cat_id]['level'];\n\n        foreach ($options AS $key => $value)\n        {\n            if ($key != $spec_cat_id)\n            {\n                unset($options[$key]);\n            }\n            else\n            {\n                break;\n            }\n        }\n\n        $spec_cat_id_array = array();\n        foreach ($options AS $key => $value)\n        {\n            if (($spec_cat_id_level == $value['level'] && $value['cat_id'] != $spec_cat_id) ||\n                ($spec_cat_id_level > $value['level']))\n            {\n                break;\n            }\n            else\n            {\n                $spec_cat_id_array[$key] = $value;\n            }\n        }\n        $cat_options[$spec_cat_id] = $spec_cat_id_array;\n\n        return $spec_cat_id_array;\n    }\n}\n\n/**\n * 载入配置信息\n *\n * @access  public\n * @return  array\n */\nfunction load_config()\n{\n    $arr = array();\n\n    $data = read_static_cache('shop_config');\n    if ($data === false)\n    {\n        $sql = 'SELECT code, value FROM ' . $GLOBALS['ecs']->table('shop_config') . ' WHERE parent_id > 0';\n        $res = $GLOBALS['db']->getAll($sql);\n\n        foreach ($res AS $row)\n        {\n            $arr[$row['code']] = $row['value'];\n        }\n\n        /* 对数值型设置处理 */\n        $arr['watermark_alpha']      = intval($arr['watermark_alpha']);\n        $arr['market_price_rate']    = floatval($arr['market_price_rate']);\n        $arr['integral_scale']       = floatval($arr['integral_scale']);\n        //$arr['integral_percent']     = floatval($arr['integral_percent']);\n        $arr['cache_time']           = intval($arr['cache_time']);\n        $arr['thumb_width']          = intval($arr['thumb_width']);\n        $arr['thumb_height']         = intval($arr['thumb_height']);\n        $arr['image_width']          = intval($arr['image_width']);\n        $arr['image_height']         = intval($arr['image_height']);\n        $arr['best_number']          = !empty($arr['best_number']) && intval($arr['best_number']) > 0 ? intval($arr['best_number'])     : 3;\n        $arr['new_number']           = !empty($arr['new_number']) && intval($arr['new_number']) > 0 ? intval($arr['new_number'])      : 3;\n        $arr['hot_number']           = !empty($arr['hot_number']) && intval($arr['hot_number']) > 0 ? intval($arr['hot_number'])      : 3;\n        $arr['promote_number']       = !empty($arr['promote_number']) && intval($arr['promote_number']) > 0 ? intval($arr['promote_number'])  : 3;\n        $arr['top_number']           = intval($arr['top_number'])      > 0 ? intval($arr['top_number'])      : 10;\n        $arr['history_number']       = intval($arr['history_number'])  > 0 ? intval($arr['history_number'])  : 5;\n        $arr['comments_number']      = intval($arr['comments_number']) > 0 ? intval($arr['comments_number']) : 5;\n        $arr['article_number']       = intval($arr['article_number'])  > 0 ? intval($arr['article_number'])  : 5;\n        $arr['page_size']            = intval($arr['page_size'])       > 0 ? intval($arr['page_size'])       : 10;\n        $arr['bought_goods']         = intval($arr['bought_goods']);\n        $arr['goods_name_length']    = intval($arr['goods_name_length']);\n        $arr['top10_time']           = intval($arr['top10_time']);\n        $arr['goods_gallery_number'] = intval($arr['goods_gallery_number']) ? intval($arr['goods_gallery_number']) : 5;\n        $arr['no_picture']           = !empty($arr['no_picture']) ? str_replace('../', './', $arr['no_picture']) : 'images/no_picture.gif'; // 修改默认商品图片的路径\n        $arr['qq']                   = !empty($arr['qq']) ? $arr['qq'] : '';\n        $arr['ww']                   = !empty($arr['ww']) ? $arr['ww'] : '';\n        $arr['default_storage']      = isset($arr['default_storage']) ? intval($arr['default_storage']) : 1;\n        $arr['min_goods_amount']     = isset($arr['min_goods_amount']) ? floatval($arr['min_goods_amount']) : 0;\n        $arr['one_step_buy']         = empty($arr['one_step_buy']) ? 0 : 1;\n        $arr['invoice_type']         = empty($arr['invoice_type']) ? array('type' => array(), 'rate' => array()) : unserialize($arr['invoice_type']);\n        $arr['show_order_type']      = isset($arr['show_order_type']) ? $arr['show_order_type'] : 0;    // 显示方式默认为列表方式\n        $arr['help_open']            = isset($arr['help_open']) ? $arr['help_open'] : 1;    // 显示方式默认为列表方式\n\n        if (!isset($GLOBALS['_CFG']['ecs_version']))\n        {\n            /* 如果没有版本号则默认为2.0.5 */\n            $GLOBALS['_CFG']['ecs_version'] = 'v2.0.5';\n        }\n\n        //限定语言项\n        $lang_array = array('zh_cn', 'zh_tw', 'en_us');\n        if (empty($arr['lang']) || !in_array($arr['lang'], $lang_array))\n        {\n            $arr['lang'] = 'zh_cn'; // 默认语言为简体中文\n        }\n\n        if (empty($arr['integrate_code']))\n        {\n            $arr['integrate_code'] = 'ecshop'; // 默认的会员整合插件为 ecshop\n        }\n        write_static_cache('shop_config', $arr);\n    }\n    else\n    {\n        $arr = $data;\n    }\n\n    return $arr;\n}\n\n/**\n * 取得品牌列表\n * @return array 品牌列表 id => name\n */\nfunction get_brand_list()\n{\n    $sql = 'SELECT brand_id, brand_name FROM ' . $GLOBALS['ecs']->table('brand') . ' ORDER BY sort_order';\n    $res = $GLOBALS['db']->getAll($sql);\n\n    $brand_list = array();\n    foreach ($res AS $row)\n    {\n        $brand_list[$row['brand_id']] = addslashes($row['brand_name']);\n    }\n\n    return $brand_list;\n}\n\n/**\n * 获得某个分类下\n *\n * @access  public\n * @param   int     $cat\n * @return  array\n */\nfunction get_brands($cat = 0, $app = 'brand')\n{\n    global $page_libs;\n    $template = basename(PHP_SELF);\n    $template = substr($template, 0, strrpos($template, '.'));\n    include_once(ROOT_PATH . ADMIN_PATH . '/includes/lib_template.php');\n    static $static_page_libs = null;\n    if ($static_page_libs == null)\n    {\n            $static_page_libs = $page_libs;\n    }\n\n    $children = ($cat > 0) ? ' AND ' . get_children($cat) : '';\n\n    $sql = \"SELECT b.brand_id, b.brand_name, b.brand_logo, b.brand_desc, COUNT(*) AS goods_num, IF(b.brand_logo > '', '1', '0') AS tag \".\n            \"FROM \" . $GLOBALS['ecs']->table('brand') . \"AS b, \".\n                $GLOBALS['ecs']->table('goods') . \" AS g \".\n            \"WHERE g.brand_id = b.brand_id $children AND is_show = 1 \" .\n            \" AND g.is_on_sale = 1 AND g.is_alone_sale = 1 AND g.is_delete = 0 \".\n            \"GROUP BY b.brand_id HAVING goods_num > 0 ORDER BY tag DESC, b.sort_order ASC\";\n    if (isset($static_page_libs[$template]['/library/brands.lbi']))\n    {\n        $num = get_library_number(\"brands\");\n        $sql .= \" LIMIT $num \";\n    }\n    $row = $GLOBALS['db']->getAll($sql);\n\n    foreach ($row AS $key => $val)\n    {\n        $row[$key]['url'] = build_uri($app, array('cid' => $cat, 'bid' => $val['brand_id']), $val['brand_name']);\n        $row[$key]['brand_desc'] = htmlspecialchars($val['brand_desc'],ENT_QUOTES);\n    }\n\n    return $row;\n}\n\n/**\n *  所有的促销活动信息\n *\n * @access  public\n * @return  array\n */\nfunction get_promotion_info($goods_id = '')\n{\n    $snatch = array();\n    $group = array();\n    $auction = array();\n    $package = array();\n    $favourable = array();\n\n    $gmtime = gmtime();\n    $sql = 'SELECT act_id, act_name, act_type, start_time, end_time FROM ' . $GLOBALS['ecs']->table('goods_activity') . \" WHERE is_finished=0 AND start_time <= '$gmtime' AND end_time >= '$gmtime'\";\n    if(!empty($goods_id))\n    {\n        $sql .= \" AND goods_id = '$goods_id'\";\n    }\n    $res = $GLOBALS['db']->getAll($sql);\n    foreach ($res as $data)\n    {\n        switch ($data['act_type'])\n        {\n            case GAT_SNATCH: //夺宝奇兵\n                $snatch[$data['act_id']]['act_name'] = $data['act_name'];\n                $snatch[$data['act_id']]['url'] = build_uri('snatch', array('sid' => $data['act_id']));\n                $snatch[$data['act_id']]['time'] = sprintf($GLOBALS['_LANG']['promotion_time'], local_date('Y-m-d', $data['start_time']), local_date('Y-m-d', $data['end_time']));\n                $snatch[$data['act_id']]['sort'] = $data['start_time'];\n                $snatch[$data['act_id']]['type'] = 'snatch';\n                break;\n\n            case GAT_GROUP_BUY: //团购\n                $group[$data['act_id']]['act_name'] = $data['act_name'];\n                $group[$data['act_id']]['url'] = build_uri('group_buy', array('gbid' => $data['act_id']));\n                $group[$data['act_id']]['time'] = sprintf($GLOBALS['_LANG']['promotion_time'], local_date('Y-m-d', $data['start_time']), local_date('Y-m-d', $data['end_time']));\n                $group[$data['act_id']]['sort'] = $data['start_time'];\n                $group[$data['act_id']]['type'] = 'group_buy';\n                break;\n\n            case GAT_AUCTION: //拍卖\n                $auction[$data['act_id']]['act_name'] = $data['act_name'];\n                $auction[$data['act_id']]['url'] = build_uri('auction', array('auid' => $data['act_id']));\n                $auction[$data['act_id']]['time'] = sprintf($GLOBALS['_LANG']['promotion_time'], local_date('Y-m-d', $data['start_time']), local_date('Y-m-d', $data['end_time']));\n                $auction[$data['act_id']]['sort'] = $data['start_time'];\n                $auction[$data['act_id']]['type'] = 'auction';\n                break;\n\n            case GAT_PACKAGE: //礼包\n                $package[$data['act_id']]['act_name'] = $data['act_name'];\n                $package[$data['act_id']]['url'] = 'package.php#' . $data['act_id'];\n                $package[$data['act_id']]['time'] = sprintf($GLOBALS['_LANG']['promotion_time'], local_date('Y-m-d', $data['start_time']), local_date('Y-m-d', $data['end_time']));\n                $package[$data['act_id']]['sort'] = $data['start_time'];\n                $package[$data['act_id']]['type'] = 'package';\n                break;\n        }\n    }\n\n    $user_rank = ',' . $_SESSION['user_rank'] . ',';\n    $favourable = array();\n    $sql = 'SELECT act_id, act_range, act_range_ext, act_name, start_time, end_time FROM ' . $GLOBALS['ecs']->table('favourable_activity') . \" WHERE start_time <= '$gmtime' AND end_time >= '$gmtime'\";\n    if(!empty($goods_id))\n    {\n        $sql .= \" AND CONCAT(',', user_rank, ',') LIKE '%\" . $user_rank . \"%'\";\n    }\n    $res = $GLOBALS['db']->getAll($sql);\n\n    if(empty($goods_id))\n    {\n        foreach ($res as $rows)\n        {\n            $favourable[$rows['act_id']]['act_name'] = $rows['act_name'];\n            $favourable[$rows['act_id']]['url'] = 'activity.php';\n            $favourable[$rows['act_id']]['time'] = sprintf($GLOBALS['_LANG']['promotion_time'], local_date('Y-m-d', $rows['start_time']), local_date('Y-m-d', $rows['end_time']));\n            $favourable[$rows['act_id']]['sort'] = $rows['start_time'];\n            $favourable[$rows['act_id']]['type'] = 'favourable';\n        }\n    }\n    else\n    {\n        $sql = \"SELECT cat_id, brand_id FROM \" . $GLOBALS['ecs']->table('goods') .\n           \"WHERE goods_id = '$goods_id'\";\n        $row = $GLOBALS['db']->getRow($sql);\n        $category_id = $row['cat_id'];\n        $brand_id = $row['brand_id'];\n\n        foreach ($res as $rows)\n        {\n            if ($rows['act_range'] == FAR_ALL)\n            {\n                $favourable[$rows['act_id']]['act_name'] = $rows['act_name'];\n                $favourable[$rows['act_id']]['url'] = 'activity.php';\n                $favourable[$rows['act_id']]['time'] = sprintf($GLOBALS['_LANG']['promotion_time'], local_date('Y-m-d', $rows['start_time']), local_date('Y-m-d', $rows['end_time']));\n                $favourable[$rows['act_id']]['sort'] = $rows['start_time'];\n                $favourable[$rows['act_id']]['type'] = 'favourable';\n            }\n            elseif ($rows['act_range'] == FAR_CATEGORY)\n            {\n                /* 找出分类id的子分类id */\n                $id_list = array();\n                $raw_id_list = explode(',', $rows['act_range_ext']);\n                foreach ($raw_id_list as $id)\n                {\n                    $id_list = array_merge($id_list, array_keys(cat_list($id, 0, false)));\n                }\n                $ids = join(',', array_unique($id_list));\n\n                if (strpos(',' . $ids . ',', ',' . $category_id . ',') !== false)\n                {\n                    $favourable[$rows['act_id']]['act_name'] = $rows['act_name'];\n                    $favourable[$rows['act_id']]['url'] = 'activity.php';\n                    $favourable[$rows['act_id']]['time'] = sprintf($GLOBALS['_LANG']['promotion_time'], local_date('Y-m-d', $rows['start_time']), local_date('Y-m-d', $rows['end_time']));\n                    $favourable[$rows['act_id']]['sort'] = $rows['start_time'];\n                    $favourable[$rows['act_id']]['type'] = 'favourable';\n                }\n            }\n            elseif ($rows['act_range'] == FAR_BRAND)\n            {\n                if (strpos(',' . $rows['act_range_ext'] . ',', ',' . $brand_id . ',') !== false)\n                {\n                    $favourable[$rows['act_id']]['act_name'] = $rows['act_name'];\n                    $favourable[$rows['act_id']]['url'] = 'activity.php';\n                    $favourable[$rows['act_id']]['time'] = sprintf($GLOBALS['_LANG']['promotion_time'], local_date('Y-m-d', $rows['start_time']), local_date('Y-m-d', $rows['end_time']));\n                    $favourable[$rows['act_id']]['sort'] = $rows['start_time'];\n                    $favourable[$rows['act_id']]['type'] = 'favourable';\n                }\n            }\n            elseif ($rows['act_range'] == FAR_GOODS)\n            {\n                if (strpos(',' . $rows['act_range_ext'] . ',', ',' . $goods_id . ',') !== false)\n                {\n                    $favourable[$rows['act_id']]['act_name'] = $rows['act_name'];\n                    $favourable[$rows['act_id']]['url'] = 'activity.php';\n                    $favourable[$rows['act_id']]['time'] = sprintf($GLOBALS['_LANG']['promotion_time'], local_date('Y-m-d', $rows['start_time']), local_date('Y-m-d', $rows['end_time']));\n                    $favourable[$rows['act_id']]['sort'] = $rows['start_time'];\n                    $favourable[$rows['act_id']]['type'] = 'favourable';\n                }\n            }\n        }\n    }\n\n//    if(!empty($goods_id))\n//    {\n//        return array('snatch'=>$snatch, 'group_buy'=>$group, 'auction'=>$auction, 'favourable'=>$favourable);\n//    }\n\n    $sort_time = array();\n    $arr = array_merge($snatch, $group, $auction, $package, $favourable);\n    foreach($arr as $key => $value)\n    {\n        $sort_time[] = $value['sort'];\n    }\n    array_multisort($sort_time, SORT_NUMERIC, SORT_DESC, $arr);\n\n    return $arr;\n}\n\n/**\n * 获得指定分类下所有底层分类的ID\n *\n * @access  public\n * @param   integer     $cat        指定的分类ID\n * @return  string\n */\nfunction get_children($cat = 0)\n{\n    return 'g.cat_id ' . db_create_in(array_unique(array_merge(array($cat), array_keys(cat_list($cat, 0, false)))));\n}\n\n/**\n * 获得指定文章分类下所有底层分类的ID\n *\n * @access  public\n * @param   integer     $cat        指定的分类ID\n *\n * @return void\n */\nfunction get_article_children ($cat = 0)\n{\n    return db_create_in(array_unique(array_merge(array($cat), array_keys(article_cat_list($cat, 0, false)))), 'cat_id');\n}\n\n/**\n * 获取邮件模板\n *\n * @access  public\n * @param:  $tpl_name[string]       模板代码\n *\n * @return array\n */\nfunction get_mail_template($tpl_name)\n{\n    $sql = 'SELECT template_subject, is_html, template_content FROM ' . $GLOBALS['ecs']->table('mail_templates') . \" WHERE template_code = '$tpl_name'\";\n\n    return $GLOBALS['db']->GetRow($sql);\n\n}\n\n/**\n * 记录订单操作记录\n *\n * @access  public\n * @param   string  $order_sn           订单编号\n * @param   integer $order_status       订单状态\n * @param   integer $shipping_status    配送状态\n * @param   integer $pay_status         付款状态\n * @param   string  $note               备注\n * @param   string  $username           用户名，用户自己的操作则为 buyer\n * @return  void\n */\nfunction order_action($order_sn, $order_status, $shipping_status, $pay_status, $note = '', $username = null, $place = 0)\n{\n    if (is_null($username))\n    {\n        $username = $_SESSION['admin_name'];\n    }\n\n    $sql = 'INSERT INTO ' . $GLOBALS['ecs']->table('order_action') .\n                ' (order_id, action_user, order_status, shipping_status, pay_status, action_place, action_note, log_time) ' .\n            'SELECT ' .\n                \"order_id, '$username', '$order_status', '$shipping_status', '$pay_status', '$place', '$note', '\" .gmtime() . \"' \" .\n            'FROM ' . $GLOBALS['ecs']->table('order_info') . \" WHERE order_sn = '$order_sn'\";\n    $GLOBALS['db']->query($sql);\n}\n\n/**\n * 格式化商品价格\n *\n * @access  public\n * @param   float   $price  商品价格\n * @return  string\n */\nfunction price_format($price, $change_price = true)\n{\n    if($price==='')\n    {\n     $price=0;\n    }\n    if ($change_price && defined('ECS_ADMIN') === false)\n    {\n        switch ($GLOBALS['_CFG']['price_format'])\n        {\n            case 0:\n                $price = number_format($price, 2, '.', '');\n                break;\n            case 1: // 保留不为 0 的尾数\n                $price = preg_replace('/(.*)(\\\\.)([0-9]*?)0+$/', '\\1\\2\\3', number_format($price, 2, '.', ''));\n\n                if (substr($price, -1) == '.')\n                {\n                    $price = substr($price, 0, -1);\n                }\n                break;\n            case 2: // 不四舍五入，保留1位\n                $price = substr(number_format($price, 2, '.', ''), 0, -1);\n                break;\n            case 3: // 直接取整\n                $price = intval($price);\n                break;\n            case 4: // 四舍五入，保留 1 位\n                $price = formay($price, 1, '.', '');\n                break;\n            case 5: // 先四舍五入，不保留小数\n                $price = round($price);\n                break;\n        }\n    }\n    else\n    {\n        $price = number_format($price, 2, '.', '');\n    }\n\n    return sprintf($GLOBALS['_CFG']['currency_format'], $price);\n}\n\n/**\n * 返回订单中的虚拟商品\n *\n * @access  public\n * @param   int   $order_id   订单id值\n * @param   bool  $shipping   是否已经发货\n *\n * @return array()\n */\nfunction get_virtual_goods($order_id, $shipping = false)\n{\n    if ($shipping)\n    {\n        $sql = 'SELECT goods_id, goods_name, send_number AS num, extension_code FROM '.\n           $GLOBALS['ecs']->table('order_goods') .\n           \" WHERE order_id = '$order_id' AND extension_code > ''\";\n    }\n    else\n    {\n        $sql = 'SELECT goods_id, goods_name, (goods_number - send_number) AS num, extension_code FROM '.\n           $GLOBALS['ecs']->table('order_goods') .\n           \" WHERE order_id = '$order_id' AND is_real = 0 AND (goods_number - send_number) > 0 AND extension_code > '' \";\n    }\n    $res = $GLOBALS['db']->getAll($sql);\n\n    $virtual_goods = array();\n    foreach ($res AS $row)\n    {\n        $virtual_goods[$row['extension_code']][] = array('goods_id' => $row['goods_id'], 'goods_name' => $row['goods_name'], 'num' => $row['num']);\n    }\n\n    return $virtual_goods;\n}\n\n/**\n *  虚拟商品发货\n *\n * @access  public\n * @param   array  $virtual_goods   虚拟商品数组\n * @param   string $msg             错误信息\n * @param   string $order_sn        订单号。\n * @param   string $process         设定当前流程：split，发货分单流程；other，其他，默认。\n *\n * @return bool\n */\nfunction virtual_goods_ship(&$virtual_goods, &$msg, $order_sn, $return_result = false, $process = 'other')\n{\n    $virtual_card = array();\n    foreach ($virtual_goods AS $code => $goods_list)\n    {\n        /* 只处理虚拟卡 */\n        if ($code == 'virtual_card')\n        {\n            foreach ($goods_list as $goods)\n            {\n                if (virtual_card_shipping($goods, $order_sn, $msg, $process))\n                {\n                    if ($return_result)\n                    {\n                        $virtual_card[] = array('goods_id'=>$goods['goods_id'], 'goods_name'=>$goods['goods_name'], 'info'=>virtual_card_result($order_sn, $goods));\n                    }\n                }\n                else\n                {\n                    return false;\n                }\n            }\n            $GLOBALS['smarty']->assign('virtual_card',      $virtual_card);\n        }\n    }\n\n    return true;\n}\n\n/**\n *  虚拟卡发货\n *\n * @access  public\n * @param   string      $goods      商品详情数组\n * @param   string      $order_sn   本次操作的订单\n * @param   string      $msg        返回信息\n * @param   string      $process    设定当前流程：split，发货分单流程；other，其他，默认。\n *\n * @return  boolen\n */\nfunction virtual_card_shipping ($goods, $order_sn, &$msg, $process = 'other')\n{\n    /* 包含加密解密函数所在文件 */\n    include_once(ROOT_PATH . 'includes/lib_code.php');\n\n    /* 检查有没有缺货 */\n    $sql = \"SELECT COUNT(*) FROM \".$GLOBALS['ecs']->table('virtual_card').\" WHERE goods_id = '$goods[goods_id]' AND is_saled = 0 \";\n    $num = $GLOBALS['db']->GetOne($sql);\n\n    if ($num < $goods['num'])\n    {\n        $msg .= sprintf($GLOBALS['_LANG']['virtual_card_oos'], $goods['goods_name']);\n\n        return false;\n    }\n\n     /* 取出卡片信息 */\n     $sql = \"SELECT card_id, card_sn, card_password, end_date, crc32 FROM \".$GLOBALS['ecs']->table('virtual_card').\" WHERE goods_id = '$goods[goods_id]' AND is_saled = 0  LIMIT \" . $goods['num'];\n     $arr = $GLOBALS['db']->getAll($sql);\n\n     $card_ids = array();\n     $cards = array();\n\n     foreach ($arr as $virtual_card)\n     {\n        $card_info = array();\n\n        /* 卡号和密码解密 */\n        if ($virtual_card['crc32'] == 0 || $virtual_card['crc32'] == crc32(AUTH_KEY))\n        {\n            $card_info['card_sn'] = decrypt($virtual_card['card_sn']);\n            $card_info['card_password'] = decrypt($virtual_card['card_password']);\n        }\n        elseif ($virtual_card['crc32'] == crc32(OLD_AUTH_KEY))\n        {\n            $card_info['card_sn'] = decrypt($virtual_card['card_sn'], OLD_AUTH_KEY);\n            $card_info['card_password'] = decrypt($virtual_card['card_password'], OLD_AUTH_KEY);\n        }\n        else\n        {\n            $msg .= 'error key';\n\n            return false;\n        }\n        $card_info['end_date'] = date($GLOBALS['_CFG']['date_format'], $virtual_card['end_date']);\n        $card_ids[] = $virtual_card['card_id'];\n        $cards[] = $card_info;\n     }\n\n     /* 标记已经取出的卡片 */\n    $sql = \"UPDATE \".$GLOBALS['ecs']->table('virtual_card').\" SET \".\n           \"is_saled = 1 ,\".\n           \"order_sn = '$order_sn' \".\n           \"WHERE \" . db_create_in($card_ids, 'card_id');\n    if (!$GLOBALS['db']->query($sql, 'SILENT'))\n    {\n        $msg .= $GLOBALS['db']->error();\n\n        return false;\n    }\n\n    /* 更新库存 */\n    $sql = \"UPDATE \".$GLOBALS['ecs']->table('goods'). \" SET goods_number = goods_number - '$goods[num]' WHERE goods_id = '$goods[goods_id]'\";\n    $GLOBALS['db']->query($sql);\n\n    if (true)\n    {\n        /* 获取订单信息 */\n        $sql = \"SELECT order_id, order_sn, consignee, email FROM \".$GLOBALS['ecs']->table('order_info'). \" WHERE order_sn = '$order_sn'\";\n        $order = $GLOBALS['db']->GetRow($sql);\n\n        /* 更新订单信息 */\n        if ($process == 'split')\n        {\n            $sql = \"UPDATE \".$GLOBALS['ecs']->table('order_goods'). \"\n                    SET send_number = send_number + '\" . $goods['num'] . \"'\n                    WHERE order_id = '\" . $order['order_id'] . \"'\n                    AND goods_id = '\" . $goods['goods_id'] . \"' \";\n        }\n        else\n        {\n            $sql = \"UPDATE \".$GLOBALS['ecs']->table('order_goods'). \"\n                    SET send_number = '\" . $goods['num'] . \"'\n                    WHERE order_id = '\" . $order['order_id'] . \"'\n                    AND goods_id = '\" . $goods['goods_id'] . \"' \";\n        }\n\n        if (!$GLOBALS['db']->query($sql, 'SILENT'))\n        {\n            $msg .= $GLOBALS['db']->error();\n\n            return false;\n        }\n    }\n\n    /* 发送邮件 */\n    $GLOBALS['smarty']->assign('virtual_card',                   $cards);\n    $GLOBALS['smarty']->assign('order',                          $order);\n    $GLOBALS['smarty']->assign('goods',                          $goods);\n\n    $GLOBALS['smarty']->assign('send_time', date('Y-m-d H:i:s'));\n    $GLOBALS['smarty']->assign('shop_name', $GLOBALS['_CFG']['shop_name']);\n    $GLOBALS['smarty']->assign('send_date', date('Y-m-d'));\n    $GLOBALS['smarty']->assign('sent_date', date('Y-m-d'));\n\n    $tpl = get_mail_template('virtual_card');\n    $content = $GLOBALS['smarty']->fetch('str:' . $tpl['template_content']);\n    send_mail($order['consignee'], $order['email'], $tpl['template_subject'], $content, $tpl['is_html']);\n\n    return true;\n}\n\n/**\n *  返回虚拟卡信息\n *\n * @access  public\n * @param\n *\n * @return void\n */\nfunction virtual_card_result($order_sn, $goods)\n{\n    /* 包含加密解密函数所在文件 */\n    include_once(ROOT_PATH . 'includes/lib_code.php');\n\n    /* 获取已经发送的卡片数据 */\n    $sql = \"SELECT card_sn, card_password, end_date, crc32 FROM \".$GLOBALS['ecs']->table('virtual_card').\" WHERE goods_id= '$goods[goods_id]' AND order_sn = '$order_sn' \";\n    $res= $GLOBALS['db']->query($sql);\n\n    $cards = array();\n\n    while ($row = $GLOBALS['db']->FetchRow($res))\n    {\n        /* 卡号和密码解密 */\n        if ($row['crc32'] == 0 || $row['crc32'] == crc32(AUTH_KEY))\n        {\n            $row['card_sn'] = decrypt($row['card_sn']);\n            $row['card_password'] = decrypt($row['card_password']);\n        }\n        elseif ($row['crc32'] == crc32(OLD_AUTH_KEY))\n        {\n            $row['card_sn'] = decrypt($row['card_sn'], OLD_AUTH_KEY);\n            $row['card_password'] = decrypt($row['card_password'], OLD_AUTH_KEY);\n        }\n        else\n        {\n            $row['card_sn'] = '***';\n            $row['card_password'] = '***';\n        }\n\n        $cards[] = array('card_sn'=>$row['card_sn'], 'card_password'=>$row['card_password'], 'end_date'=>date($GLOBALS['_CFG']['date_format'], $row['end_date']));\n    }\n\n    return $cards;\n}\n\n/**\n * 获取指定 id snatch 活动的结果\n *\n * @access  public\n * @param   int   $id       snatch_id\n *\n * @return  array           array(user_name, bie_price, bid_time, num)\n *                          num通常为1，如果为2表示有2个用户取到最小值，但结果只返回最早出价用户。\n */\nfunction get_snatch_result($id)\n{\n    $sql = 'SELECT u.user_id, u.user_name, u.email, lg.bid_price, lg.bid_time, count(*) as num' .\n            ' FROM ' . $GLOBALS['ecs']->table('snatch_log') . ' AS lg '.\n            ' LEFT JOIN ' . $GLOBALS['ecs']->table('users') . ' AS u ON lg.user_id = u.user_id'.\n            \" WHERE lg.snatch_id = '$id'\".\n            ' GROUP BY lg.bid_price' .\n            ' ORDER BY num ASC, lg.bid_price ASC, lg.bid_time ASC LIMIT 1';\n    $rec = $GLOBALS['db']->GetRow($sql);\n\n    if ($rec)\n    {\n        $rec['bid_time']  = local_date($GLOBALS['_CFG']['time_format'], $rec['bid_time']);\n        $rec['formated_bid_price'] = price_format($rec['bid_price'], false);\n\n        /* 活动信息 */\n        $sql = 'SELECT ext_info \" .\n               \" FROM ' . $GLOBALS['ecs']->table('goods_activity') .\n               \" WHERE act_id= '$id' AND act_type=\" . GAT_SNATCH.\n               \" LIMIT 1\";\n        $row = $GLOBALS['db']->getOne($sql);\n        $info = unserialize($row);\n\n        if (!empty($info['max_price']))\n        {\n            $rec['buy_price'] = ($rec['bid_price'] > $info['max_price']) ? $info['max_price'] : $rec['bid_price'];\n        }\n        else\n        {\n            $rec['buy_price'] = $rec['bid_price'];\n        }\n\n\n\n        /* 检查订单 */\n        $sql = \"SELECT COUNT(*)\" .\n                \" FROM \" . $GLOBALS['ecs']->table('order_info') .\n                \" WHERE extension_code = 'snatch'\" .\n                \" AND extension_id = '$id'\" .\n                \" AND order_status \" . db_create_in(array(OS_CONFIRMED, OS_UNCONFIRMED));\n\n        $rec['order_count'] = $GLOBALS['db']->getOne($sql);\n    }\n\n    return $rec;\n}\n\n/**\n *  清除指定后缀的模板缓存或编译文件\n *\n * @access  public\n * @param  bool       $is_cache  是否清除缓存还是清出编译文件\n * @param  string     $ext       需要删除的文件名，不包含后缀\n *\n * @return int        返回清除的文件个数\n */\nfunction clear_tpl_files($is_cache = true, $ext = '')\n{\n    $dirs = array();\n\n    if (isset($GLOBALS['shop_id']) && $GLOBALS['shop_id'] > 0)\n    {\n        $tmp_dir = DATA_DIR ;\n    }\n    else\n    {\n        $tmp_dir = 'temp';\n    }\n    if ($is_cache)\n    {\n        $cache_dir = ROOT_PATH . $tmp_dir . '/caches/';\n        $dirs[] = ROOT_PATH . $tmp_dir . '/query_caches/';\n        $dirs[] = ROOT_PATH . $tmp_dir . '/static_caches/';\n        for($i = 0; $i < 16; $i++)\n        {\n            $hash_dir = $cache_dir . dechex($i);\n            $dirs[] = $hash_dir . '/';\n        }\n    }\n    else\n    {\n        $dirs[] = ROOT_PATH . $tmp_dir . '/compiled/';\n        $dirs[] = ROOT_PATH . $tmp_dir . '/compiled/admin/';\n    }\n\n    $str_len = strlen($ext);\n    $count   = 0;\n\n    foreach ($dirs AS $dir)\n    {\n        $folder = @opendir($dir);\n\n        if ($folder === false)\n        {\n            continue;\n        }\n\n        while ($file = readdir($folder))\n        {\n            if ($file == '.' || $file == '..' || $file == 'index.htm' || $file == 'index.html')\n            {\n                continue;\n            }\n            if (is_file($dir . $file))\n            {\n                /* 如果有文件名则判断是否匹配 */\n                $pos = ($is_cache) ? strrpos($file, '_') : strrpos($file, '.');\n\n                if ($str_len > 0 && $pos !== false)\n                {\n                    $ext_str = substr($file, 0, $pos);\n\n                    if ($ext_str == $ext)\n                    {\n                        if (@unlink($dir . $file))\n                        {\n                            $count++;\n                        }\n                    }\n                }\n                else\n                {\n                    if (@unlink($dir . $file))\n                    {\n                        $count++;\n                    }\n                }\n            }\n        }\n        closedir($folder);\n    }\n\n    return $count;\n}\n\n/**\n * 清除模版编译文件\n *\n * @access  public\n * @param   mix     $ext    模版文件名， 不包含后缀\n * @return  void\n */\nfunction clear_compiled_files($ext = '')\n{\n    return clear_tpl_files(false, $ext);\n}\n\n/**\n * 清除缓存文件\n *\n * @access  public\n * @param   mix     $ext    模版文件名， 不包含后缀\n * @return  void\n */\nfunction clear_cache_files($ext = '')\n{\n    return clear_tpl_files(true, $ext);\n}\n\n/**\n * 清除模版编译和缓存文件\n *\n * @access  public\n * @param   mix     $ext    模版文件名后缀\n * @return  void\n */\nfunction clear_all_files($ext = '')\n{\n    return clear_tpl_files(false, $ext) + clear_tpl_files(true,  $ext);\n}\n\n/**\n * 页面上调用的js文件\n *\n * @access  public\n * @param   string      $files\n * @return  void\n */\nfunction smarty_insert_scripts($args)\n{\n    static $scripts = array();\n\n    $arr = explode(',', str_replace(' ','',$args['files']));\n\n    $str = '';\n    foreach ($arr AS $val)\n    {\n        if (in_array($val, $scripts) == false)\n        {\n            $scripts[] = $val;\n            if ($val{0} == '.')\n            {\n                $str .= '<script type=\"text/javascript\" src=\"' . $val . '\"></script>';\n            }\n            else\n            {\n                $str .= '<script type=\"text/javascript\" src=\"js/' . $val . '\"></script>';\n            }\n        }\n    }\n\n    return $str;\n}\n\n/**\n * 创建分页的列表\n *\n * @access  public\n * @param   integer $count\n * @return  string\n */\nfunction smarty_create_pages($params)\n{\n    extract($params);\n\n    $str = '';\n    $len = 10;\n\n    if (empty($page))\n    {\n        $page = 1;\n    }\n\n    if (!empty($count))\n    {\n        $step = 1;\n        $str .= \"<option value='1'>1</option>\";\n\n        for ($i = 2; $i < $count; $i += $step)\n        {\n            $step = ($i >= $page + $len - 1 || $i <= $page - $len + 1) ? $len : 1;\n            $str .= \"<option value='$i'\";\n            $str .= $page == $i ? \" selected='true'\" : '';\n            $str .= \">$i</option>\";\n        }\n\n        if ($count > 1)\n        {\n            $str .= \"<option value='$count'\";\n            $str .= $page == $count ? \" selected='true'\" : '';\n            $str .= \">$count</option>\";\n        }\n    }\n\n    return $str;\n}\n\n/**\n * 重写 URL 地址\n *\n * @access  public\n * @param   string  $app        执行程序\n * @param   array   $params     参数数组\n * @param   string  $append     附加字串\n * @param   integer $page       页数\n * @param   string  $keywords   搜索关键词字符串\n * @return  void\n */\nfunction build_uri($app, $params, $append = '', $page = 0, $keywords = '', $size = 0)\n{\n    static $rewrite = NULL;\n\n    if ($rewrite === NULL)\n    {\n        $rewrite = intval($GLOBALS['_CFG']['rewrite']);\n    }\n\n    $args = array('cid'   => 0,\n                  'gid'   => 0,\n                  'bid'   => 0,\n                  'acid'  => 0,\n                  'aid'   => 0,\n                  'sid'   => 0,\n                  'gbid'  => 0,\n                  'auid'  => 0,\n                  'sort'  => '',\n                  'order' => '',\n                );\n\n    extract(array_merge($args, $params));\n\n    $uri = '';\n    switch ($app)\n    {\n        case 'category':\n            if (empty($cid))\n            {\n                return false;\n            }\n            else\n            {\n                if ($rewrite)\n                {\n                    $uri = 'category-' . $cid;\n                    if (isset($bid))\n                    {\n                        $uri .= '-b' . $bid;\n                    }\n                    if (isset($price_min))\n                    {\n                        $uri .= '-min'.$price_min;\n                    }\n                    if (isset($price_max))\n                    {\n                        $uri .= '-max'.$price_max;\n                    }\n                    if (isset($filter_attr))\n                    {\n                        $uri .= '-attr' . $filter_attr;\n                    }\n                    if (!empty($page))\n                    {\n                        $uri .= '-' . $page;\n                    }\n                    if (!empty($sort))\n                    {\n                        $uri .= '-' . $sort;\n                    }\n                    if (!empty($order))\n                    {\n                        $uri .= '-' . $order;\n                    }\n                }\n                else\n                {\n                    $uri = 'category.php?id=' . $cid;\n                    if (!empty($bid))\n                    {\n                        $uri .= '&amp;brand=' . $bid;\n                    }\n                    if (isset($price_min))\n                    {\n                        $uri .= '&amp;price_min=' . $price_min;\n                    }\n                    if (isset($price_max))\n                    {\n                        $uri .= '&amp;price_max=' . $price_max;\n                    }\n                    if (!empty($filter_attr))\n                    {\n                        $uri .='&amp;filter_attr=' . $filter_attr;\n                    }\n\n                    if (!empty($page))\n                    {\n                        $uri .= '&amp;page=' . $page;\n                    }\n                    if (!empty($sort))\n                    {\n                        $uri .= '&amp;sort=' . $sort;\n                    }\n                    if (!empty($order))\n                    {\n                        $uri .= '&amp;order=' . $order;\n                    }\n                }\n            }\n\n            break;\n        case 'goods':\n            if (empty($gid))\n            {\n                return false;\n            }\n            else\n            {\n                $uri = $rewrite ? 'goods-' . $gid : 'goods.php?id=' . $gid;\n            }\n\n            break;\n        case 'brand':\n            if (empty($bid))\n            {\n                return false;\n            }\n            else\n            {\n                if ($rewrite)\n                {\n                    $uri = 'brand-' . $bid;\n                    if (isset($cid))\n                    {\n                        $uri .= '-c' . $cid;\n                    }\n                    if (!empty($page))\n                    {\n                        $uri .= '-' . $page;\n                    }\n                    if (!empty($sort))\n                    {\n                        $uri .= '-' . $sort;\n                    }\n                    if (!empty($order))\n                    {\n                        $uri .= '-' . $order;\n                    }\n                }\n                else\n                {\n                    $uri = 'brand.php?id=' . $bid;\n                    if (!empty($cid))\n                    {\n                        $uri .= '&amp;cat=' . $cid;\n                    }\n                    if (!empty($page))\n                    {\n                        $uri .= '&amp;page=' . $page;\n                    }\n                    if (!empty($sort))\n                    {\n                        $uri .= '&amp;sort=' . $sort;\n                    }\n                    if (!empty($order))\n                    {\n                        $uri .= '&amp;order=' . $order;\n                    }\n                }\n            }\n\n            break;\n        case 'article_cat':\n            if (empty($acid))\n            {\n                return false;\n            }\n            else\n            {\n                if ($rewrite)\n                {\n                    $uri = 'article_cat-' . $acid;\n                    if (!empty($page))\n                    {\n                        $uri .= '-' . $page;\n                    }\n                    if (!empty($sort))\n                    {\n                        $uri .= '-' . $sort;\n                    }\n                    if (!empty($order))\n                    {\n                        $uri .= '-' . $order;\n                    }\n                    if (!empty($keywords))\n                    {\n                        $uri .= '-' . $keywords;\n                    }\n                }\n                else\n                {\n                    $uri = 'article_cat.php?id=' . $acid;\n                    if (!empty($page))\n                    {\n                        $uri .= '&amp;page=' . $page;\n                    }\n                    if (!empty($sort))\n                    {\n                        $uri .= '&amp;sort=' . $sort;\n                    }\n                    if (!empty($order))\n                    {\n                        $uri .= '&amp;order=' . $order;\n                    }\n                    if (!empty($keywords))\n                    {\n                        $uri .= '&amp;keywords=' . $keywords;\n                    }\n                }\n            }\n\n            break;\n        case 'article':\n            if (empty($aid))\n            {\n                return false;\n            }\n            else\n            {\n                $uri = $rewrite ? 'article-' . $aid : 'article.php?id=' . $aid;\n            }\n\n            break;\n        case 'group_buy':\n            if (empty($gbid))\n            {\n                return false;\n            }\n            else\n            {\n                $uri = $rewrite ? 'group_buy-' . $gbid : 'group_buy.php?act=view&amp;id=' . $gbid;\n            }\n\n            break;\n        case 'auction':\n            if (empty($auid))\n            {\n                return false;\n            }\n            else\n            {\n                $uri = $rewrite ? 'auction-' . $auid : 'auction.php?act=view&amp;id=' . $auid;\n            }\n\n            break;\n        case 'snatch':\n            if (empty($sid))\n            {\n                return false;\n            }\n            else\n            {\n                $uri = $rewrite ? 'snatch-' . $sid : 'snatch.php?id=' . $sid;\n            }\n\n            break;\n        case 'search':\n            break;\n        case 'exchange':\n            if ($rewrite)\n            {\n                $uri = 'exchange-' . $cid;\n                if (isset($price_min))\n                {\n                    $uri .= '-min'.$price_min;\n                }\n                if (isset($price_max))\n                {\n                    $uri .= '-max'.$price_max;\n                }\n                if (!empty($page))\n                {\n                    $uri .= '-' . $page;\n                }\n                if (!empty($sort))\n                {\n                    $uri .= '-' . $sort;\n                }\n                if (!empty($order))\n                {\n                    $uri .= '-' . $order;\n                }\n            }\n            else\n            {\n                $uri = 'exchange.php?cat_id=' . $cid;\n                if (isset($price_min))\n                {\n                    $uri .= '&amp;integral_min=' . $price_min;\n                }\n                if (isset($price_max))\n                {\n                    $uri .= '&amp;integral_max=' . $price_max;\n                }\n\n                if (!empty($page))\n                {\n                    $uri .= '&amp;page=' . $page;\n                }\n                if (!empty($sort))\n                {\n                    $uri .= '&amp;sort=' . $sort;\n                }\n                if (!empty($order))\n                {\n                    $uri .= '&amp;order=' . $order;\n                }\n            }\n\n            break;\n        case 'exchange_goods':\n            if (empty($gid))\n            {\n                return false;\n            }\n            else\n            {\n                $uri = $rewrite ? 'exchange-id' . $gid : 'exchange.php?id=' . $gid . '&amp;act=view';\n            }\n\n            break;\n        default:\n            return false;\n            break;\n    }\n\n    if ($rewrite)\n    {\n        if ($rewrite == 2 && !empty($append))\n        {\n            $uri .= '-' . urlencode(preg_replace('/[\\.|\\/|\\?|&|\\+|\\\\\\|\\'|\"|,]+/', '', $append));\n        }\n\n        $uri .= '.html';\n    }\n    if (($rewrite == 2) && (strpos(strtolower(EC_CHARSET), 'utf') !== 0))\n    {\n        $uri = urlencode($uri);\n    }\n    return $uri;\n}\n\n/**\n * 格式化重量：小于1千克用克表示，否则用千克表示\n * @param   float   $weight     重量\n * @return  string  格式化后的重量\n */\nfunction formated_weight($weight)\n{\n    $weight = round(floatval($weight), 3);\n    if ($weight > 0)\n    {\n        if ($weight < 1)\n        {\n            /* 小于1千克，用克表示 */\n            return intval($weight * 1000) . $GLOBALS['_LANG']['gram'];\n        }\n        else\n        {\n            /* 大于1千克，用千克表示 */\n            return $weight . $GLOBALS['_LANG']['kilogram'];\n        }\n    }\n    else\n    {\n        return 0;\n    }\n}\n\n/**\n * 记录帐户变动\n * @param   int     $user_id        用户id\n * @param   float   $user_money     可用余额变动\n * @param   float   $frozen_money   冻结余额变动\n * @param   int     $rank_points    等级积分变动\n * @param   int     $pay_points     消费积分变动\n * @param   string  $change_desc    变动说明\n * @param   int     $change_type    变动类型：参见常量文件\n * @return  void\n */\nfunction log_account_change($user_id, $user_money = 0, $frozen_money = 0, $rank_points = 0, $pay_points = 0, $change_desc = '', $change_type = ACT_OTHER)\n{\n    /* 插入帐户变动记录 */\n    $account_log = array(\n        'user_id'       => $user_id,\n        'user_money'    => $user_money,\n        'frozen_money'  => $frozen_money,\n        'rank_points'   => $rank_points,\n        'pay_points'    => $pay_points,\n        'change_time'   => gmtime(),\n        'change_desc'   => $change_desc,\n        'change_type'   => $change_type\n    );\n    $GLOBALS['db']->autoExecute($GLOBALS['ecs']->table('account_log'), $account_log, 'INSERT');\n\n    /* 更新用户信息 */\n    $sql = \"UPDATE \" . $GLOBALS['ecs']->table('users') .\n            \" SET user_money = user_money + ('$user_money'),\" .\n            \" frozen_money = frozen_money + ('$frozen_money'),\" .\n            \" rank_points = rank_points + ('$rank_points'),\" .\n            \" pay_points = pay_points + ('$pay_points')\" .\n            \" WHERE user_id = '$user_id' LIMIT 1\";\n    $GLOBALS['db']->query($sql);\n}\n\n\n/**\n * 获得指定分类下的子分类的数组\n *\n * @access  public\n * @param   int     $cat_id     分类的ID\n * @param   int     $selected   当前选中分类的ID\n * @param   boolean $re_type    返回的类型: 值为真时返回下拉列表,否则返回数组\n * @param   int     $level      限定返回的级数。为0时返回所有级数\n * @return  mix\n */\nfunction article_cat_list($cat_id = 0, $selected = 0, $re_type = true, $level = 0)\n{\n    static $res = NULL;\n\n    if ($res === NULL)\n    {\n        $data = read_static_cache('art_cat_pid_releate');\n        if ($data === false)\n        {\n            $sql = \"SELECT c.*, COUNT(s.cat_id) AS has_children, COUNT(a.article_id) AS aricle_num \".\n               ' FROM ' . $GLOBALS['ecs']->table('article_cat') . \" AS c\".\n               \" LEFT JOIN \" . $GLOBALS['ecs']->table('article_cat') . \" AS s ON s.parent_id=c.cat_id\".\n               \" LEFT JOIN \" . $GLOBALS['ecs']->table('article') . \" AS a ON a.cat_id=c.cat_id\".\n               \" GROUP BY c.cat_id \".\n               \" ORDER BY parent_id, sort_order ASC\";\n            $res = $GLOBALS['db']->getAll($sql);\n            write_static_cache('art_cat_pid_releate', $res);\n        }\n        else\n        {\n            $res = $data;\n        }\n    }\n\n    if (empty($res) == true)\n    {\n        return $re_type ? '' : array();\n    }\n\n    $options = article_cat_options($cat_id, $res); // 获得指定分类下的子分类的数组\n\n    /* 截取到指定的缩减级别 */\n    if ($level > 0)\n    {\n        if ($cat_id == 0)\n        {\n            $end_level = $level;\n        }\n        else\n        {\n            $first_item = reset($options); // 获取第一个元素\n            $end_level  = $first_item['level'] + $level;\n        }\n\n        /* 保留level小于end_level的部分 */\n        foreach ($options AS $key => $val)\n        {\n            if ($val['level'] >= $end_level)\n            {\n                unset($options[$key]);\n            }\n        }\n    }\n\n    $pre_key = 0;\n    foreach ($options AS $key => $value)\n    {\n        $options[$key]['has_children'] = 1;\n        if ($pre_key > 0)\n        {\n            if ($options[$pre_key]['cat_id'] == $options[$key]['parent_id'])\n            {\n                $options[$pre_key]['has_children'] = 1;\n            }\n        }\n        $pre_key = $key;\n    }\n\n    if ($re_type == true)\n    {\n        $select = '';\n        foreach ($options AS $var)\n        {\n            $select .= '<option value=\"' . $var['cat_id'] . '\" ';\n            $select .= ' cat_type=\"' . $var['cat_type'] . '\" ';\n            $select .= ($selected == $var['cat_id']) ? \"selected='ture'\" : '';\n            $select .= '>';\n            if ($var['level'] > 0)\n            {\n                $select .= str_repeat('&nbsp;', $var['level'] * 4);\n            }\n            $select .= htmlspecialchars(addslashes($var['cat_name'])) . '</option>';\n        }\n\n        return $select;\n    }\n    else\n    {\n        foreach ($options AS $key => $value)\n        {\n            $options[$key]['url'] = build_uri('article_cat', array('acid' => $value['cat_id']), $value['cat_name']);\n        }\n        return $options;\n    }\n}\n\n/**\n * 过滤和排序所有文章分类，返回一个带有缩进级别的数组\n *\n * @access  private\n * @param   int     $cat_id     上级分类ID\n * @param   array   $arr        含有所有分类的数组\n * @param   int     $level      级别\n * @return  void\n */\nfunction article_cat_options($spec_cat_id, $arr)\n{\n    static $cat_options = array();\n\n    if (isset($cat_options[$spec_cat_id]))\n    {\n        return $cat_options[$spec_cat_id];\n    }\n\n    if (!isset($cat_options[0]))\n    {\n        $level = $last_cat_id = 0;\n        $options = $cat_id_array = $level_array = array();\n        while (!empty($arr))\n        {\n            foreach ($arr AS $key => $value)\n            {\n                $cat_id = $value['cat_id'];\n                if ($level == 0 && $last_cat_id == 0)\n                {\n                    if ($value['parent_id'] > 0)\n                    {\n                        break;\n                    }\n\n                    $options[$cat_id]          = $value;\n                    $options[$cat_id]['level'] = $level;\n                    $options[$cat_id]['id']    = $cat_id;\n                    $options[$cat_id]['name']  = $value['cat_name'];\n                    unset($arr[$key]);\n\n                    if ($value['has_children'] == 0)\n                    {\n                        continue;\n                    }\n                    $last_cat_id  = $cat_id;\n                    $cat_id_array = array($cat_id);\n                    $level_array[$last_cat_id] = ++$level;\n                    continue;\n                }\n\n                if ($value['parent_id'] == $last_cat_id)\n                {\n                    $options[$cat_id]          = $value;\n                    $options[$cat_id]['level'] = $level;\n                    $options[$cat_id]['id']    = $cat_id;\n                    $options[$cat_id]['name']  = $value['cat_name'];\n                    unset($arr[$key]);\n\n                    if ($value['has_children'] > 0)\n                    {\n                        if (end($cat_id_array) != $last_cat_id)\n                        {\n                            $cat_id_array[] = $last_cat_id;\n                        }\n                        $last_cat_id    = $cat_id;\n                        $cat_id_array[] = $cat_id;\n                        $level_array[$last_cat_id] = ++$level;\n                    }\n                }\n                elseif ($value['parent_id'] > $last_cat_id)\n                {\n                    break;\n                }\n            }\n\n            $count = count($cat_id_array);\n            if ($count > 1)\n            {\n                $last_cat_id = array_pop($cat_id_array);\n            }\n            elseif ($count == 1)\n            {\n                if ($last_cat_id != end($cat_id_array))\n                {\n                    $last_cat_id = end($cat_id_array);\n                }\n                else\n                {\n                    $level = 0;\n                    $last_cat_id = 0;\n                    $cat_id_array = array();\n                    continue;\n                }\n            }\n\n            if ($last_cat_id && isset($level_array[$last_cat_id]))\n            {\n                $level = $level_array[$last_cat_id];\n            }\n            else\n            {\n                $level = 0;\n            }\n        }\n        $cat_options[0] = $options;\n    }\n    else\n    {\n        $options = $cat_options[0];\n    }\n\n    if (!$spec_cat_id)\n    {\n        return $options;\n    }\n    else\n    {\n        if (empty($options[$spec_cat_id]))\n        {\n            return array();\n        }\n\n        $spec_cat_id_level = $options[$spec_cat_id]['level'];\n\n        foreach ($options AS $key => $value)\n        {\n            if ($key != $spec_cat_id)\n            {\n                unset($options[$key]);\n            }\n            else\n            {\n                break;\n            }\n        }\n\n        $spec_cat_id_array = array();\n        foreach ($options AS $key => $value)\n        {\n            if (($spec_cat_id_level == $value['level'] && $value['cat_id'] != $spec_cat_id) ||\n                ($spec_cat_id_level > $value['level']))\n            {\n                break;\n            }\n            else\n            {\n                $spec_cat_id_array[$key] = $value;\n            }\n        }\n        $cat_options[$spec_cat_id] = $spec_cat_id_array;\n\n        return $spec_cat_id_array;\n    }\n}\n\n/**\n * 调用UCenter的函数\n *\n * @param   string  $func\n * @param   array   $params\n *\n * @return  mixed\n */\nfunction uc_call($func, $params=null)\n{\n    restore_error_handler();\n    if (!function_exists($func))\n    {\n        include_once(ROOT_PATH . 'uc_client/client.php');\n    }\n\n    $res = call_user_func_array($func, $params);\n\n    set_error_handler('exception_handler');\n\n    return $res;\n}\n\n/**\n * error_handle回调函数\n *\n * @return\n */\nfunction exception_handler($errno, $errstr, $errfile, $errline)\n{\n    return;\n}\n\n/**\n * 重新获得商品图片与商品相册的地址\n *\n * @param int $goods_id 商品ID\n * @param string $image 原商品相册图片地址\n * @param boolean $thumb 是否为缩略图\n * @param string $call 调用方法(商品图片还是商品相册)\n * @param boolean $del 是否删除图片\n *\n * @return string   $url\n */\nfunction get_image_path($goods_id, $image='', $thumb=false, $call='goods', $del=false)\n{\n    $url = empty($image) ? $GLOBALS['_CFG']['no_picture'] : $image;\n    return $url;\n}\n\n/**\n * 调用使用UCenter插件时的函数\n *\n * @param   string  $func\n * @param   array   $params\n *\n * @return  mixed\n */\nfunction user_uc_call($func, $params = null)\n{\n    if (isset($GLOBALS['_CFG']['integrate_code']) && $GLOBALS['_CFG']['integrate_code'] == 'ucenter')\n    {\n        restore_error_handler();\n        if (!function_exists($func))\n        {\n            include_once(ROOT_PATH . 'includes/lib_uc.php');\n        }\n\n        $res = call_user_func_array($func, $params);\n\n        set_error_handler('exception_handler');\n\n        return $res;\n    }\n    else\n    {\n        return;\n    }\n\n}\n\n/**\n * 取得商品优惠价格列表\n *\n * @param   string  $goods_id    商品编号\n * @param   string  $price_type  价格类别(0为全店优惠比率，1为商品优惠价格，2为分类优惠比率)\n *\n * @return  优惠价格列表\n */\nfunction get_volume_price_list($goods_id, $price_type = '1')\n{\n    $volume_price = array();\n    $temp_index   = '0';\n\n    $sql = \"SELECT `volume_number` , `volume_price`\".\n           \" FROM \" .$GLOBALS['ecs']->table('volume_price'). \"\".\n           \" WHERE `goods_id` = '\" . $goods_id . \"' AND `price_type` = '\" . $price_type . \"'\".\n           \" ORDER BY `volume_number`\";\n\n    $res = $GLOBALS['db']->getAll($sql);\n\n    foreach ($res as $k => $v)\n    {\n        $volume_price[$temp_index]                 = array();\n        $volume_price[$temp_index]['number']       = $v['volume_number'];\n        $volume_price[$temp_index]['price']        = $v['volume_price'];\n        $volume_price[$temp_index]['format_price'] = price_format($v['volume_price']);\n        $temp_index ++;\n    }\n    return $volume_price;\n}\n\n/**\n * 取得商品最终使用价格\n *\n * @param   string  $goods_id      商品编号\n * @param   string  $goods_num     购买数量\n * @param   boolean $is_spec_price 是否加入规格价格\n * @param   mix     $spec          规格ID的数组或者逗号分隔的字符串\n *\n * @return  商品最终购买价格\n */\nfunction get_final_price($goods_id, $goods_num = '1', $is_spec_price = false, $spec = array())\n{\n    $final_price   = '0'; //商品最终购买价格\n    $volume_price  = '0'; //商品优惠价格\n    $promote_price = '0'; //商品促销价格\n    $user_price    = '0'; //商品会员价格\n\n    //取得商品优惠价格列表\n    $price_list   = get_volume_price_list($goods_id, '1');\n\n    if (!empty($price_list))\n    {\n        foreach ($price_list as $value)\n        {\n            if ($goods_num >= $value['number'])\n            {\n                $volume_price = $value['price'];\n            }\n        }\n    }\n\n    //取得商品促销价格列表\n    /* 取得商品信息 */\n    $sql = \"SELECT g.promote_price, g.promote_start_date, g.promote_end_date, \".\n                \"IFNULL(mp.user_price, g.shop_price * '\" . $_SESSION['discount'] . \"') AS shop_price \".\n           \" FROM \" .$GLOBALS['ecs']->table('goods'). \" AS g \".\n           \" LEFT JOIN \" . $GLOBALS['ecs']->table('member_price') . \" AS mp \".\n                   \"ON mp.goods_id = g.goods_id AND mp.user_rank = '\" . $_SESSION['user_rank']. \"' \".\n           \" WHERE g.goods_id = '\" . $goods_id . \"'\" .\n           \" AND g.is_delete = 0\";\n    $goods = $GLOBALS['db']->getRow($sql);\n\n    /* 计算商品的促销价格 */\n    if ($goods['promote_price'] > 0)\n    {\n        $promote_price = bargain_price($goods['promote_price'], $goods['promote_start_date'], $goods['promote_end_date']);\n    }\n    else\n    {\n        $promote_price = 0;\n    }\n\n    //取得商品会员价格列表\n    $user_price    = $goods['shop_price'];\n\n    //比较商品的促销价格，会员价格，优惠价格\n    if (empty($volume_price) && empty($promote_price))\n    {\n        //如果优惠价格，促销价格都为空则取会员价格\n        $final_price = $user_price;\n    }\n    elseif (!empty($volume_price) && empty($promote_price))\n    {\n        //如果优惠价格为空时不参加这个比较。\n        $final_price = min($volume_price, $user_price);\n    }\n    elseif (empty($volume_price) && !empty($promote_price))\n    {\n        //如果促销价格为空时不参加这个比较。\n        $final_price = min($promote_price, $user_price);\n    }\n    elseif (!empty($volume_price) && !empty($promote_price))\n    {\n        //取促销价格，会员价格，优惠价格最小值\n        $final_price = min($volume_price, $promote_price, $user_price);\n    }\n    else\n    {\n        $final_price = $user_price;\n    }\n\n    //如果需要加入规格价格\n    if ($is_spec_price)\n    {\n        if (!empty($spec))\n        {\n            $spec_price   = spec_price($spec);\n            $final_price += $spec_price;\n        }\n    }\n\n    //返回商品最终购买价格\n    return $final_price;\n}\n\n/**\n * 将 goods_attr_id 的序列按照 attr_id 重新排序\n *\n * 注意：非规格属性的id会被排除\n *\n * @access      public\n * @param       array       $goods_attr_id_array        一维数组\n * @param       string      $sort                       序号：asc|desc，默认为：asc\n *\n * @return      string\n */\nfunction sort_goods_attr_id_array($goods_attr_id_array, $sort = 'asc')\n{\n    if (empty($goods_attr_id_array))\n    {\n        return $goods_attr_id_array;\n    }\n\n    //重新排序\n    $sql = \"SELECT a.attr_type, v.attr_value, v.goods_attr_id\n            FROM \" .$GLOBALS['ecs']->table('attribute'). \" AS a\n            LEFT JOIN \" .$GLOBALS['ecs']->table('goods_attr'). \" AS v\n                ON v.attr_id = a.attr_id\n                AND a.attr_type = 1\n            WHERE v.goods_attr_id \" . db_create_in($goods_attr_id_array) . \"\n            ORDER BY a.attr_id $sort\";\n    $row = $GLOBALS['db']->GetAll($sql);\n\n    $return_arr = array();\n    foreach ($row as $value)\n    {\n        $return_arr['sort'][]   = $value['goods_attr_id'];\n\n        $return_arr['row'][$value['goods_attr_id']]    = $value;\n    }\n\n    return $return_arr;\n}\n\n/**\n *\n * 是否存在规格\n *\n * @access      public\n * @param       array       $goods_attr_id_array        一维数组\n *\n * @return      string\n */\nfunction is_spec($goods_attr_id_array, $sort = 'asc')\n{\n    if (empty($goods_attr_id_array))\n    {\n        return $goods_attr_id_array;\n    }\n\n    //重新排序\n    $sql = \"SELECT a.attr_type, v.attr_value, v.goods_attr_id\n            FROM \" .$GLOBALS['ecs']->table('attribute'). \" AS a\n            LEFT JOIN \" .$GLOBALS['ecs']->table('goods_attr'). \" AS v\n                ON v.attr_id = a.attr_id\n                AND a.attr_type = 1\n            WHERE v.goods_attr_id \" . db_create_in($goods_attr_id_array) . \"\n            ORDER BY a.attr_id $sort\";\n    $row = $GLOBALS['db']->GetAll($sql);\n\n    $return_arr = array();\n    foreach ($row as $value)\n    {\n        $return_arr['sort'][]   = $value['goods_attr_id'];\n\n        $return_arr['row'][$value['goods_attr_id']]    = $value;\n    }\n\n    if(!empty($return_arr))\n    {\n        return true;\n    }\n    else\n    {\n        return false;\n    }\n}\n\n/**\n * 获取指定id package 的信息\n *\n * @access  public\n * @param   int         $id         package_id\n *\n * @return array       array(package_id, package_name, goods_id,start_time, end_time, min_price, integral)\n */\nfunction get_package_info($id)\n{\n    global $ecs, $db,$_CFG;\n    $id = is_numeric($id)?intval($id):0;\n    $now = gmtime();\n\n    $sql = \"SELECT act_id AS id,  act_name AS package_name, goods_id , goods_name, start_time, end_time, act_desc, ext_info\".\n           \" FROM \" . $GLOBALS['ecs']->table('goods_activity') .\n           \" WHERE act_id='$id' AND act_type = \" . GAT_PACKAGE;\n\n    $package = $db->GetRow($sql);\n\n    /* 将时间转成可阅读格式 */\n    if ($package['start_time'] <= $now && $package['end_time'] >= $now)\n    {\n        $package['is_on_sale'] = \"1\";\n    }\n    else\n    {\n        $package['is_on_sale'] = \"0\";\n    }\n    $package['start_time'] = local_date('Y-m-d H:i', $package['start_time']);\n    $package['end_time']   = local_date('Y-m-d H:i', $package['end_time']);\n    $row = unserialize($package['ext_info']);\n    unset($package['ext_info']);\n    if ($row)\n    {\n        foreach ($row as $key=>$val)\n        {\n            $package[$key] = $val;\n        }\n    }\n\n    $sql = \"SELECT pg.package_id, pg.goods_id, pg.goods_number, pg.admin_id, \".\n           \" g.goods_sn, g.goods_name, g.market_price, g.goods_thumb, g.is_real, \".\n           \" IFNULL(mp.user_price, g.shop_price * '$_SESSION[discount]') AS rank_price \" .\n           \" FROM \" . $GLOBALS['ecs']->table('package_goods') . \" AS pg \".\n           \"   LEFT JOIN \". $GLOBALS['ecs']->table('goods') . \" AS g \".\n           \"   ON g.goods_id = pg.goods_id \".\n           \" LEFT JOIN \" . $GLOBALS['ecs']->table('member_price') . \" AS mp \".\n                \"ON mp.goods_id = g.goods_id AND mp.user_rank = '$_SESSION[user_rank]' \".\n           \" WHERE pg.package_id = \" . $id. \" \".\n           \" ORDER BY pg.package_id, pg.goods_id\";\n\n    $goods_res = $GLOBALS['db']->getAll($sql);\n\n    $market_price        = 0;\n    $real_goods_count    = 0;\n    $virtual_goods_count = 0;\n\n    foreach($goods_res as $key => $val)\n    {\n        $goods_res[$key]['goods_thumb']         = get_image_path($val['goods_id'], $val['goods_thumb'], true);\n        $goods_res[$key]['market_price_format'] = price_format($val['market_price']);\n        $goods_res[$key]['rank_price_format']   = price_format($val['rank_price']);\n        $market_price += $val['market_price'] * $val['goods_number'];\n        /* 统计实体商品和虚拟商品的个数 */\n        if ($val['is_real'])\n        {\n            $real_goods_count++;\n        }\n        else\n        {\n            $virtual_goods_count++;\n        }\n    }\n\n    if ($real_goods_count > 0)\n    {\n        $package['is_real']            = 1;\n    }\n    else\n    {\n        $package['is_real']            = 0;\n    }\n\n    $package['goods_list']            = $goods_res;\n    $package['market_package']        = $market_price;\n    $package['market_package_format'] = price_format($market_price);\n    $package['package_price_format']  = price_format($package['package_price']);\n\n    return $package;\n}\n\n/**\n * 获得指定礼包的商品\n *\n * @access  public\n * @param   integer $package_id\n * @return  array\n */\nfunction get_package_goods($package_id)\n{\n    $sql = \"SELECT pg.goods_id, g.goods_name, pg.goods_number, p.goods_attr, p.product_number, p.product_id\n            FROM \" . $GLOBALS['ecs']->table('package_goods') . \" AS pg\n                LEFT JOIN \" .$GLOBALS['ecs']->table('goods') . \" AS g ON pg.goods_id = g.goods_id\n                LEFT JOIN \" . $GLOBALS['ecs']->table('products') . \" AS p ON pg.product_id = p.product_id\n            WHERE pg.package_id = '$package_id'\";\n    if ($package_id == 0)\n    {\n        $sql .= \" AND pg.admin_id = '$_SESSION[admin_id]'\";\n    }\n    $resource = $GLOBALS['db']->query($sql);\n    if (!$resource)\n    {\n        return array();\n    }\n\n    $row = array();\n\n    /* 生成结果数组 取存在货品的商品id 组合商品id与货品id */\n    $good_product_str = '';\n    while ($_row = $GLOBALS['db']->fetch_array($resource))\n    {\n        if ($_row['product_id'] > 0)\n        {\n            /* 取存商品id */\n            $good_product_str .= ',' . $_row['goods_id'];\n\n            /* 组合商品id与货品id */\n            $_row['g_p'] = $_row['goods_id'] . '_' . $_row['product_id'];\n        }\n        else\n        {\n            /* 组合商品id与货品id */\n            $_row['g_p'] = $_row['goods_id'];\n        }\n\n        //生成结果数组\n        $row[] = $_row;\n    }\n    $good_product_str = trim($good_product_str, ',');\n\n    /* 释放空间 */\n    unset($resource, $_row, $sql);\n\n    /* 取商品属性 */\n    if ($good_product_str != '')\n    {\n        $sql = \"SELECT goods_attr_id, attr_value FROM \" .$GLOBALS['ecs']->table('goods_attr'). \" WHERE goods_id IN ($good_product_str)\";\n        $result_goods_attr = $GLOBALS['db']->getAll($sql);\n\n        $_goods_attr = array();\n        foreach ($result_goods_attr as $value)\n        {\n            $_goods_attr[$value['goods_attr_id']] = $value['attr_value'];\n        }\n    }\n\n    /* 过滤货品 */\n    $format[0] = '%s[%s]--[%d]';\n    $format[1] = '%s--[%d]';\n    foreach ($row as $key => $value)\n    {\n        if ($value['goods_attr'] != '')\n        {\n            $goods_attr_array = explode('|', $value['goods_attr']);\n\n            $goods_attr = array();\n            foreach ($goods_attr_array as $_attr)\n            {\n                $goods_attr[] = $_goods_attr[$_attr];\n            }\n\n            $row[$key]['goods_name'] = sprintf($format[0], $value['goods_name'], implode('，', $goods_attr), $value['goods_number']);\n        }\n        else\n        {\n            $row[$key]['goods_name'] = sprintf($format[1], $value['goods_name'], $value['goods_number']);\n        }\n    }\n\n    return $row;\n}\n\n/**\n * 取商品的货品列表\n *\n * @param       mixed       $goods_id       单个商品id；多个商品id数组；以逗号分隔商品id字符串\n * @param       string      $conditions     sql条件\n *\n * @return  array\n */\nfunction get_good_products($goods_id, $conditions = '')\n{\n    if (empty($goods_id))\n    {\n        return array();\n    }\n\n    switch (gettype($goods_id))\n    {\n        case 'integer':\n\n            $_goods_id = \"goods_id = '\" . intval($goods_id) . \"'\";\n\n        break;\n\n        case 'string':\n        case 'array':\n\n            $_goods_id = db_create_in($goods_id, 'goods_id');\n\n        break;\n    }\n\n    /* 取货品 */\n    $sql = \"SELECT * FROM \" .$GLOBALS['ecs']->table('products'). \" WHERE $_goods_id $conditions\";\n    $result_products = $GLOBALS['db']->getAll($sql);\n\n    /* 取商品属性 */\n    $sql = \"SELECT goods_attr_id, attr_value FROM \" .$GLOBALS['ecs']->table('goods_attr'). \" WHERE $_goods_id\";\n    $result_goods_attr = $GLOBALS['db']->getAll($sql);\n\n    $_goods_attr = array();\n    foreach ($result_goods_attr as $value)\n    {\n        $_goods_attr[$value['goods_attr_id']] = $value['attr_value'];\n    }\n\n    /* 过滤货品 */\n    foreach ($result_products as $key => $value)\n    {\n        $goods_attr_array = explode('|', $value['goods_attr']);\n        if (is_array($goods_attr_array))\n        {\n            $goods_attr = array();\n            foreach ($goods_attr_array as $_attr)\n            {\n                $goods_attr[] = $_goods_attr[$_attr];\n            }\n\n            $goods_attr_str = implode('，', $goods_attr);\n        }\n\n        $result_products[$key]['goods_attr_str'] = $goods_attr_str;\n    }\n\n    return $result_products;\n}\n\n/**\n * 取商品的下拉框Select列表\n *\n * @param       int      $goods_id    商品id\n *\n * @return  array\n */\nfunction get_good_products_select($goods_id)\n{\n    $return_array = array();\n    $products = get_good_products($goods_id);\n\n    if (empty($products))\n    {\n        return $return_array;\n    }\n\n    foreach ($products as $value)\n    {\n        $return_array[$value['product_id']] = $value['goods_attr_str'];\n    }\n\n    return $return_array;\n}\n\n/**\n * 取商品的规格列表\n *\n * @param       int      $goods_id    商品id\n * @param       string   $conditions  sql条件\n *\n * @return  array\n */\nfunction get_specifications_list($goods_id, $conditions = '')\n{\n    /* 取商品属性 */\n    $sql = \"SELECT ga.goods_attr_id, ga.attr_id, ga.attr_value, a.attr_name\n            FROM \" .$GLOBALS['ecs']->table('goods_attr'). \" AS ga, \" .$GLOBALS['ecs']->table('attribute'). \" AS a\n            WHERE ga.attr_id = a.attr_id\n            AND ga.goods_id = '$goods_id'\n            $conditions\";\n    $result = $GLOBALS['db']->getAll($sql);\n\n    $return_array = array();\n    foreach ($result as $value)\n    {\n        $return_array[$value['goods_attr_id']] = $value;\n    }\n\n    return $return_array;\n}\n\n/**\n * 调用array_combine函数\n *\n * @param   array  $keys\n * @param   array  $values\n *\n * @return  $combined\n */\nif (!function_exists('array_combine')) {\n    function array_combine($keys, $values)\n    {\n        if (!is_array($keys)) {\n            user_error('array_combine() expects parameter 1 to be array, ' .\n                gettype($keys) . ' given', E_USER_WARNING);\n            return;\n        }\n\n        if (!is_array($values)) {\n            user_error('array_combine() expects parameter 2 to be array, ' .\n                gettype($values) . ' given', E_USER_WARNING);\n            return;\n        }\n\n        $key_count = count($keys);\n        $value_count = count($values);\n        if ($key_count !== $value_count) {\n            user_error('array_combine() Both parameters should have equal number of elements', E_USER_WARNING);\n            return false;\n        }\n\n        if ($key_count === 0 || $value_count === 0) {\n            user_error('array_combine() Both parameters should have number of elements at least 0', E_USER_WARNING);\n            return false;\n        }\n\n        $keys    = array_values($keys);\n        $values  = array_values($values);\n\n        $combined = array();\n        for ($i = 0; $i < $key_count; $i++) {\n            $combined[$keys[$i]] = $values[$i];\n        }\n\n        return $combined;\n    }\n}\n\n?>",
			"file": "includes/lib_common.php",
			"file_size": 88079,
			"file_write_time": 129785877820000000,
			"settings":
			{
				"buffer_size": 81307,
				"line_ending": "Windows"
			}
		},
		{
			"file": "includes/modules/payment/alipay.php",
			"settings":
			{
				"buffer_size": 5992,
				"line_ending": "Windows"
			}
		},
		{
			"file": "themes/jd2013/flow.dwt",
			"settings":
			{
				"buffer_size": 44295,
				"line_ending": "Windows"
			}
		},
		{
			"contents": "CREATE TABLE `tp30_order_goods` (\n  `rec_id` int(11) unsigned NOT NULL AUTO_INCREMENT COMMENT '订单商品信息自增ID',\n  `order_id` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '订单商品信息对应的详细信息id，取值order_info的order_id',\n  `goods_id` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '商品的的id，取值表ecs_goods 的 goods_id',\n  `goods_name` varchar(120) NOT NULL DEFAULT '' COMMENT '商品的名称，取值表ecs_goods',\n  `goods_sn` varchar(60) NOT NULL DEFAULT '' COMMENT '商品的唯一货号，取值ecs_goods',\n  `goods_number` smallint(5) unsigned NOT NULL DEFAULT '1' COMMENT '商品的购买数量',\n  `goods_price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '商品的本店售价，取值ecs_goods',\n  `goods_sku` text NOT NULL COMMENT '购买该商品时所选择的属性；',\n  `goods_sku_id` varchar(255) NOT NULL DEFAULT '' COMMENT '该商品的属性的id\n  PRIMARY KEY (`rec_id`),\n  KEY `order_id` (`order_id`),\n  KEY `goods_id` (`goods_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=COMPACT",
			"settings":
			{
				"buffer_size": 882,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "CREATE TABLE `tp30_order_info` (\n  `order_id` int(11) unsigned NOT NULL AUTO_INCREMENT COMMENT '订单详细信息自增id',\n  `order_sn` varchar(20) NOT NULL DEFAULT '' COMMENT '订单号，唯一',\n  `mall_id` int(11) NOT NULL COMMENT '商户ID',\n  `user_id` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户id，同ecs_users的user_id',\n  `order_status` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '订单状态。0，未确认；1，已确认；2，已取消；3，无效；4，退货；',\n  `shipping_status` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '商品配送情况，0，未发货； 1，已发货；2，已收货；3，备货中',\n  `pay_status` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '支付状态；0，未付款；1，付款中；2，已付款',\n  `consignee` varchar(60) NOT NULL DEFAULT '' COMMENT '收货人的姓名，用户页面填写，默认取值于表 user_address',\n  `country` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '收货人的国家，用户页面填写，默认取值于表user_address，其id对应的值在ecs_region',\n  `province` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '收货人的省份，用户页面填写，默认取值于表user_address，其id对应的值在ecs_region',\n  `city` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '收货人的城市，用户页面填写，默认取值于表user_address，其id对应的值在ecs_region',\n  `district` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '收货人的地区，用户页面填写，默认取值于表user_address，其id对应的值在ecs_region',\n  `address` varchar(255) NOT NULL DEFAULT '' COMMENT '收货人的详细地址，用户页面填写，默认取值于表 user_address',\n  `zipcode` varchar(60) NOT NULL DEFAULT '' COMMENT '收货人的邮编，用户页面填写，默认取值于表 user_address',\n  `tel` varchar(60) NOT NULL DEFAULT '' COMMENT '收货人的电话，用户页面填写，默认取值于表user_address',\n  `mobile` varchar(60) NOT NULL DEFAULT '' COMMENT '收货人的手机，用户页面填写，默认取值于表user_address',\n  `email` varchar(60) NOT NULL DEFAULT '' COMMENT '收货人的邮箱，用户页面填写，默认取值于表user_address',\n  `best_time` varchar(120) NOT NULL DEFAULT '' COMMENT 'varchar 收货人的最佳送货时间，用户页面填写，默认取值于表 user_address',\n  `postscript` varchar(255) NOT NULL DEFAULT '' COMMENT '订单附言，由用户提交订单前填写',\n  `shipping_id` tinyint(3) NOT NULL DEFAULT '0' COMMENT '用户选择的配送方式id，取值表 ecs_shipping',\n  `shipping_name` varchar(120) NOT NULL DEFAULT '' COMMENT '用户选择的配送方式的名称，取值表ecs_shipping',\n  `pay_id` tinyint(3) NOT NULL DEFAULT '0' COMMENT '用户选择的支付方式的id，取值表ecs_payment',\n  `pay_name` varchar(120) NOT NULL DEFAULT '' COMMENT '用户选择的支付方式的名称，取值表ecs_payment',\n  `how_oos` varchar(120) NOT NULL DEFAULT '' COMMENT '缺货处理方式，等待所有商品备齐后再发； 取消订单；与店主协商',\n  `inv_payee` varchar(120) NOT NULL DEFAULT '' COMMENT '发票抬头，用户页面填写',\n  `inv_content` varchar(120) NOT NULL DEFAULT '' COMMENT '发票内容，用户页面选择，取值ecs_shop_config的 code字段的值为invoice_content的value',\n  `goods_amount` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '商品总金额',\n  `shipping_fee` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '配送费用',\n  `insure_fee` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '保价费用',\n  `pay_fee` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '支付费用,跟支付方式的配置相关，取值表ecs_payment',\n  `money_paid` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '已付款金额',\n  `order_amount` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '应付款金额',\n  `from_ad` smallint(5) NOT NULL DEFAULT '0' COMMENT '订单由某广告带来的广告id，应该取值于 ecs_ad',\n  `referer` varchar(255) NOT NULL DEFAULT '' COMMENT '订单的来源页面',\n  `create_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '订单生成时间',\n  `confirm_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '订单确认时间',\n  `pay_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '订单支付时间',\n  `shipping_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '订单配送时间',\n  `update_time` int(10) NOT NULL COMMENT '订单更新时间',\n  `invoice_no` varchar(255) NOT NULL DEFAULT '' COMMENT '发货单号，发货时填写，可在订单查询查看',\n  `to_buyer` varchar(255) NOT NULL DEFAULT '' COMMENT '商家给客户的留言,当该字段有值时可以在订单查询看到',\n  `pay_note` varchar(255) NOT NULL DEFAULT '' COMMENT '付款备注，在订单管理里编辑修改',\n  `inv_type` varchar(60) NOT NULL COMMENT '发票类型，用户页面选择，取值ecs_shop_config的code字段的值为invoice_type的value',\n  `tax` decimal(10,2) NOT NULL COMMENT '发票税额',\n  `is_separate` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0，未分成或等待分成；1，已分成；2，取消分成；',\n  `discount` decimal(10,2) NOT NULL COMMENT '折扣金额',\n  PRIMARY KEY (`order_id`),\n  UNIQUE KEY `order_sn` (`order_sn`)\n) ENGINE=InnoDB AUTO_INCREMENT=54 DEFAULT CHARSET=utf8 ROW_FORMAT=COMPACT",
			"settings":
			{
				"buffer_size": 3990,
				"line_ending": "Unix",
				"name": "CREATE TABLE `tp30_order_info` ("
			}
		},
		{
			"file": "affiche.php",
			"settings":
			{
				"buffer_size": 6365,
				"line_ending": "Windows"
			}
		},
		{
			"file": "includes/cls_mysql.php",
			"settings":
			{
				"buffer_size": 25835,
				"line_ending": "Windows"
			}
		},
		{
			"file": "includes/lib_order.php",
			"settings":
			{
				"buffer_size": 92325,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "CREATE TABLE `tp30_order_info` (\n  `order_id` int(11) unsigned NOT NULL AUTO_INCREMENT COMMENT '订单详细信息自增id',\n  `order_sn` varchar(20) NOT NULL DEFAULT '' COMMENT '订单号，唯一',\n  `mall_id` int(11) NOT NULL COMMENT '商户ID',\n  `user_id` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户id，同ecs_users的user_id',\n  `order_status` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '订单状态。0，未确认；1，已确认；2，已取消；3，无效；4，退货；',\n  `shipping_status` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '商品配送情况，0，未发货； 1，已发货；2，已收货；3，备货中',\n  `pay_status` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '支付状态；0，未付款；1，付款中；2，已付款',\n  `consignee` varchar(60) NOT NULL DEFAULT '' COMMENT '收货人的姓名，用户页面填写，默认取值于表 user_address',\n  `country` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '收货人的国家，用户页面填写，默认取值于表user_address，其id对应的值在ecs_region',\n  `province` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '收货人的省份，用户页面填写，默认取值于表user_address，其id对应的值在ecs_region',\n  `city` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '收货人的城市，用户页面填写，默认取值于表user_address，其id对应的值在ecs_region',\n  `district` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '收货人的地区，用户页面填写，默认取值于表user_address，其id对应的值在ecs_region',\n  `address` varchar(255) NOT NULL DEFAULT '' COMMENT '收货人的详细地址，用户页面填写，默认取值于表 user_address',\n  `zipcode` varchar(60) NOT NULL DEFAULT '' COMMENT '收货人的邮编，用户页面填写，默认取值于表 user_address',\n  `tel` varchar(60) NOT NULL DEFAULT '' COMMENT '收货人的电话，用户页面填写，默认取值于表user_address',\n  `mobile` varchar(60) NOT NULL DEFAULT '' COMMENT '收货人的手机，用户页面填写，默认取值于表user_address',\n  `email` varchar(60) NOT NULL DEFAULT '' COMMENT '收货人的邮箱，用户页面填写，默认取值于表user_address',\n  `best_time` varchar(120) NOT NULL DEFAULT '' COMMENT 'varchar 收货人的最佳送货时间，用户页面填写，默认取值于表 user_address',\n  `postscript` varchar(255) NOT NULL DEFAULT '' COMMENT '订单附言，由用户提交订单前填写',\n  `shipping_id` tinyint(3) NOT NULL DEFAULT '0' COMMENT '用户选择的配送方式id，取值表 ecs_shipping',\n  `shipping_name` varchar(120) NOT NULL DEFAULT '' COMMENT '用户选择的配送方式的名称，取值表ecs_shipping',\n  `pay_id` tinyint(3) NOT NULL DEFAULT '0' COMMENT '用户选择的支付方式的id，取值表ecs_payment',\n  `pay_name` varchar(120) NOT NULL DEFAULT '' COMMENT '用户选择的支付方式的名称，取值表ecs_payment',\n  `how_oos` varchar(120) NOT NULL DEFAULT '' COMMENT '缺货处理方式，等待所有商品备齐后再发； 取消订单；与店主协商',\n  `inv_payee` varchar(120) NOT NULL DEFAULT '' COMMENT '发票抬头，用户页面填写',\n  `inv_content` varchar(120) NOT NULL DEFAULT '' COMMENT '发票内容，用户页面选择，取值ecs_shop_config的 code字段的值为invoice_content的value',\n  `goods_amount` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '商品总金额',\n  `shipping_fee` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '配送费用',\n  `insure_fee` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '保价费用',\n  `pay_fee` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '支付费用,跟支付方式的配置相关，取值表ecs_payment',\n  `money_paid` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '已付款金额',\n  `order_amount` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '应付款金额',\n  `from_ad` smallint(5) NOT NULL DEFAULT '0' COMMENT '订单由某广告带来的广告id，应该取值于 ecs_ad',\n  `referer` varchar(255) NOT NULL DEFAULT '' COMMENT '订单的来源页面',\n  `add_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '订单生成时间',\n  `confirm_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '订单确认时间',\n  `pay_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '订单支付时间',\n  `shipping_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '订单配送时间',\n  `update_time` int(10) NOT NULL COMMENT '订单更新时间',\n  `invoice_no` varchar(255) NOT NULL DEFAULT '' COMMENT '发货单号，发货时填写，可在订单查询查看',\n  `to_buyer` varchar(255) NOT NULL DEFAULT '' COMMENT '商家给客户的留言,当该字段有值时可以在订单查询看到',\n  `pay_note` varchar(255) NOT NULL DEFAULT '' COMMENT '付款备注，在订单管理里编辑修改',\n  `inv_type` varchar(60) NOT NULL COMMENT '发票类型，用户页面选择，取值ecs_shop_config的code字段的值为invoice_type的value',\n  `tax` decimal(10,2) NOT NULL COMMENT '发票税额',\n  `is_separate` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0，未分成或等待分成；1，已分成；2，取消分成；',\n  `discount` decimal(10,2) NOT NULL COMMENT '折扣金额',\n  PRIMARY KEY (`order_id`),\n  KEY `user_id` (`user_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=COMPACT",
			"settings":
			{
				"buffer_size": 3960,
				"line_ending": "Unix",
				"name": "CREATE TABLE `tp30_order_info` ("
			}
		},
		{
			"file": "user.php",
			"settings":
			{
				"buffer_size": 97398,
				"line_ending": "Windows"
			}
		},
		{
			"file": "themes/jd2013/user_transaction.dwt",
			"settings":
			{
				"buffer_size": 54032,
				"line_ending": "Windows"
			}
		},
		{
			"file": "includes/lib_transaction.php",
			"settings":
			{
				"buffer_size": 37309,
				"line_ending": "Windows"
			}
		},
		{
			"file": "includes/lib_main.php",
			"settings":
			{
				"buffer_size": 65653,
				"line_ending": "Windows"
			}
		},
		{
			"contents": "Searching 2832 files for \"affiliate\" (case sensitive)\n\n/Users/gaoyan/站点/other/济南机件/jj/admin/affiliate.php:\n   11   * ==========================================================\n   12   * $Author: liubo $\n   13:  * $Id: affiliate.php 17217 2011-01-19 06:29:08Z liubo $\n   14   */\n   15  \n   16  define('IN_ECS', true);\n   17  require(dirname(__FILE__) . '/includes/init.php');\n   18: admin_priv('affiliate');\n   19: $config = get_affiliate();\n   20  \n   21  /*------------------------------------------------------ */\n   ..\n   30      }\n   31  \n   32:     $smarty->assign('ur_here', $_LANG['affiliate']);\n   33      $smarty->assign('config', $config);\n   34:     $smarty->display('affiliate.htm');\n   35  }\n   36  elseif ($_REQUEST['act'] == 'query')\n   37  {\n   38:     $smarty->assign('ur_here', $_LANG['affiliate']);\n   39      $smarty->assign('config', $config);\n   40:     make_json_result($smarty->fetch('affiliate.htm'), '', null);\n   41  }\n   42  /*------------------------------------------------------ */\n   ..\n   67          }\n   68          $items = array('level_point'=>$_POST['level_point'],'level_money'=>$_POST['level_money']);\n   69:         $links[] = array('text' => $_LANG['affiliate'], 'href' => 'affiliate.php?act=list');\n   70          $config['item'][] = $items;\n   71          $config['on'] = 1;\n   72          $config['config']['separate_by'] = 0;\n   73  \n   74:         put_affiliate($config);\n   75      }\n   76      else\n   ..\n   79      }\n   80  \n   81:     ecs_header(\"Location: affiliate.php?act=query\\n\");\n   82      exit;\n   83  }\n   ..\n  117      $temp['item'] = $config['item'];\n  118      $temp['on'] = 1;\n  119:     put_affiliate($temp);\n  120:     $links[] = array('text' => $_LANG['affiliate'], 'href' => 'affiliate.php?act=list');\n  121      sys_msg($_LANG['edit_ok'], 0 ,$links);\n  122  }\n  ...\n  130  \n  131      $config['on'] = $on;\n  132:     put_affiliate($config);\n  133:     $links[] = array('text' => $_LANG['affiliate'], 'href' => 'affiliate.php?act=list');\n  134      sys_msg($_LANG['edit_ok'], 0 ,$links);\n  135  }\n  ...\n  158      $config['item'][$key]['level_point'] = $val;\n  159      $config['on'] = 1;\n  160:     put_affiliate($config);\n  161      make_json_result(stripcslashes($val));\n  162  }\n  ...\n  183      $config['item'][$key]['level_money'] = $val;\n  184      $config['on'] = 1;\n  185:     put_affiliate($config);\n  186      make_json_result(stripcslashes($val));\n  187  }\n  ...\n  201      $config['on'] = 1;\n  202      $config['config']['separate_by'] = 0;\n  203:     put_affiliate($config);\n  204:     ecs_header(\"Location: affiliate.php?act=list\\n\");\n  205      exit;\n  206  }\n  207  \n  208: function get_affiliate()\n  209  {\n  210:     $config = unserialize($GLOBALS['_CFG']['affiliate']);\n  211      empty($config) && $config = array();\n  212  \n  ...\n  214  }\n  215  \n  216: function put_affiliate($config)\n  217  {\n  218      $temp = serialize($config);\n  219      $sql = \"UPDATE \" . $GLOBALS['ecs']->table('shop_config') .\n  220             \"SET  value = '$temp'\" .\n  221:            \"WHERE code = 'affiliate'\";\n  222      $GLOBALS['db']->query($sql);\n  223      clear_all_files();\n\n/Users/gaoyan/站点/other/济南机件/jj/admin/affiliate_ck.php:\n   11   * ==========================================================\n   12   * $Author: liubo $\n   13:  * $Id: affiliate_ck.php 17217 2011-01-19 06:29:08Z liubo $\n   14   */\n   15  \n   ..\n   17  require(dirname(__FILE__) . '/includes/init.php');\n   18  \n   19: admin_priv('affiliate_ck');\n   20  $timestamp = time();\n   21  \n   22: $affiliate = unserialize($GLOBALS['_CFG']['affiliate']);\n   23: empty($affiliate) && $affiliate = array();\n   24: $separate_on = $affiliate['on'];\n   25  \n   26  /*------------------------------------------------------ */\n   ..\n   29  if ($_REQUEST['act'] == 'list')\n   30  {\n   31:     $logdb = get_affiliate_ck();\n   32      $smarty->assign('full_page',  1);\n   33:     $smarty->assign('ur_here', $_LANG['affiliate_ck']);\n   34      $smarty->assign('on', $separate_on);\n   35      $smarty->assign('logdb',        $logdb['logdb']);\n   ..\n   42      }\n   43      assign_query_info();\n   44:     $smarty->display('affiliate_ck_list.htm');\n   45  }\n   46  /*------------------------------------------------------ */\n   ..\n   49  elseif ($_REQUEST['act'] == 'query')\n   50  {\n   51:     $logdb = get_affiliate_ck();\n   52      $smarty->assign('logdb',        $logdb['logdb']);\n   53      $smarty->assign('on', $separate_on);\n   ..\n   59      $smarty->assign($sort_flag['tag'], $sort_flag['img']);\n   60  \n   61:     make_json_result($smarty->fetch('affiliate_ck_list.htm'), '', array('filter' => $logdb['filter'], 'page_count' => $logdb['page_count']));\n   62  }\n   63  /*\n   ..\n   75          $db->query($sql);\n   76      }\n   77:     $links[] = array('text' => $_LANG['affiliate_ck'], 'href' => 'affiliate_ck.php?act=list');\n   78      sys_msg($_LANG['edit_ok'], 0 ,$links);\n   79  }\n   ..\n   84  {\n   85      $logid = (int)$_REQUEST['logid'];\n   86:     $stat = $db->getRow(\"SELECT * FROM \" . $GLOBALS['ecs']->table('affiliate_log') . \" WHERE log_id = '$logid'\");\n   87      if (!empty($stat))\n   88      {\n   ..\n   98          }\n   99          log_account_change($stat['user_id'], -$stat['money'], 0, -$stat['point'], 0, $_LANG['loginfo']['cancel']);\n  100:         $sql = \"UPDATE \" . $GLOBALS['ecs']->table('affiliate_log') .\n  101                 \" SET separate_type = '$flag'\" .\n  102                 \" WHERE log_id = '$logid'\";\n  103          $db->query($sql);\n  104      }\n  105:     $links[] = array('text' => $_LANG['affiliate_ck'], 'href' => 'affiliate_ck.php?act=list');\n  106      sys_msg($_LANG['edit_ok'], 0 ,$links);\n  107  }\n  ...\n  112  {\n  113      include_once(ROOT_PATH . 'includes/lib_order.php');\n  114:     $affiliate = unserialize($GLOBALS['_CFG']['affiliate']);\n  115:     empty($affiliate) && $affiliate = array();\n  116  \n  117:     $separate_by = $affiliate['config']['separate_by'];\n  118  \n  119      $oid = (int)$_REQUEST['oid'];\n  ...\n  127      if (empty($row['is_separate']))\n  128      {\n  129:         $affiliate['config']['level_point_all'] = (float)$affiliate['config']['level_point_all'];\n  130:         $affiliate['config']['level_money_all'] = (float)$affiliate['config']['level_money_all'];\n  131:         if ($affiliate['config']['level_point_all'])\n  132          {\n  133:             $affiliate['config']['level_point_all'] /= 100;\n  134          }\n  135:         if ($affiliate['config']['level_money_all'])\n  136          {\n  137:             $affiliate['config']['level_money_all'] /= 100;\n  138          }\n  139:         $money = round($affiliate['config']['level_money_all'] * $row['goods_amount'],2);\n  140          $integral = integral_to_give(array('order_id' => $oid, 'extension_code' => ''));\n  141:         $point = round($affiliate['config']['level_point_all'] * intval($integral['rank_points']), 0);\n  142  \n  143          if(empty($separate_by))\n  144          {\n  145              //推荐注册分成\n  146:             $num = count($affiliate['item']);\n  147              for ($i=0; $i < $num; $i++)\n  148              {\n  149:                 $affiliate['item'][$i]['level_point'] = (float)$affiliate['item'][$i]['level_point'];\n  150:                 $affiliate['item'][$i]['level_money'] = (float)$affiliate['item'][$i]['level_money'];\n  151:                 if ($affiliate['item'][$i]['level_point'])\n  152                  {\n  153:                     $affiliate['item'][$i]['level_point'] /= 100;\n  154                  }\n  155:                 if ($affiliate['item'][$i]['level_money'])\n  156                  {\n  157:                     $affiliate['item'][$i]['level_money'] /= 100;\n  158                  }\n  159:                 $setmoney = round($money * $affiliate['item'][$i]['level_money'], 2);\n  160:                 $setpoint = round($point * $affiliate['item'][$i]['level_point'], 0);\n  161                  $row = $db->getRow(\"SELECT o.parent_id as user_id,u.user_name FROM \" . $GLOBALS['ecs']->table('users') . \" o\" .\n  162                          \" LEFT JOIN\" . $GLOBALS['ecs']->table('users') . \" u ON o.parent_id = u.user_id\".\n  ...\n  172                      $info = sprintf($_LANG['separate_info'], $order_sn, $setmoney, $setpoint);\n  173                      log_account_change($up_uid, $setmoney, 0, $setpoint, 0, $info);\n  174:                     write_affiliate_log($oid, $up_uid, $row['user_name'], $setmoney, $setpoint, $separate_by);\n  175                  }\n  176              }\n  ...\n  188                  $info = sprintf($_LANG['separate_info'], $order_sn, $money, $point);\n  189                  log_account_change($up_uid, $money, 0, $point, 0, $info);\n  190:                 write_affiliate_log($oid, $up_uid, $row['user_name'], $money, $point, $separate_by);\n  191              }\n  192              else\n  193              {\n  194:                 $links[] = array('text' => $_LANG['affiliate_ck'], 'href' => 'affiliate_ck.php?act=list');\n  195                  sys_msg($_LANG['edit_fail'], 1 ,$links);\n  196              }\n  ...\n  201          $db->query($sql);\n  202      }\n  203:     $links[] = array('text' => $_LANG['affiliate_ck'], 'href' => 'affiliate_ck.php?act=list');\n  204      sys_msg($_LANG['edit_ok'], 0 ,$links);\n  205  }\n  206: function get_affiliate_ck()\n  207  {\n  208  \n  209:     $affiliate = unserialize($GLOBALS['_CFG']['affiliate']);\n  210:     empty($affiliate) && $affiliate = array();\n  211:     $separate_by = $affiliate['config']['separate_by'];\n  212  \n  213      $sqladd = '';\n  ...\n  227      }\n  228  \n  229:     if(!empty($affiliate['on']))\n  230      {\n  231          if(empty($separate_by))\n  ...\n  234              $sql = \"SELECT COUNT(*) FROM \" . $GLOBALS['ecs']->table('order_info') . \" o\".\n  235                      \" LEFT JOIN\".$GLOBALS['ecs']->table('users').\" u ON o.user_id = u.user_id\".\n  236:                     \" LEFT JOIN \" . $GLOBALS['ecs']->table('affiliate_log') . \" a ON o.order_id = a.order_id\" .\n  237                      \" WHERE o.user_id > 0 AND (u.parent_id > 0 AND o.is_separate = 0 OR o.is_separate > 0) $sqladd\";\n  238          }\n  ...\n  242              $sql = \"SELECT COUNT(*) FROM \" . $GLOBALS['ecs']->table('order_info') . \" o\".\n  243                      \" LEFT JOIN\".$GLOBALS['ecs']->table('users').\" u ON o.user_id = u.user_id\".\n  244:                     \" LEFT JOIN \" . $GLOBALS['ecs']->table('affiliate_log') . \" a ON o.order_id = a.order_id\" .\n  245                      \" WHERE o.user_id > 0 AND (o.parent_id > 0 AND o.is_separate = 0 OR o.is_separate > 0) $sqladd\";\n  246          }\n  ...\n  250          $sql = \"SELECT COUNT(*) FROM \" . $GLOBALS['ecs']->table('order_info') . \" o\".\n  251                  \" LEFT JOIN\".$GLOBALS['ecs']->table('users').\" u ON o.user_id = u.user_id\".\n  252:                 \" LEFT JOIN \" . $GLOBALS['ecs']->table('affiliate_log') . \" a ON o.order_id = a.order_id\" .\n  253                  \" WHERE o.user_id > 0 AND o.is_separate > 0 $sqladd\";\n  254      }\n  ...\n  260      $filter = page_and_size($filter);\n  261  \n  262:     if(!empty($affiliate['on']))\n  263      {\n  264          if(empty($separate_by))\n  ...\n  267              $sql = \"SELECT o.*, a.log_id, a.user_id as suid,  a.user_name as auser, a.money, a.point, a.separate_type,u.parent_id as up FROM \" . $GLOBALS['ecs']->table('order_info') . \" o\".\n  268                      \" LEFT JOIN\".$GLOBALS['ecs']->table('users').\" u ON o.user_id = u.user_id\".\n  269:                     \" LEFT JOIN \" . $GLOBALS['ecs']->table('affiliate_log') . \" a ON o.order_id = a.order_id\" .\n  270                      \" WHERE o.user_id > 0 AND (u.parent_id > 0 AND o.is_separate = 0 OR o.is_separate > 0) $sqladd\".\n  271                      \" ORDER BY order_id DESC\" .\n  ...\n  288              $sql = \"SELECT o.*, a.log_id,a.user_id as suid, a.user_name as auser, a.money, a.point, a.separate_type,u.parent_id as up FROM \" . $GLOBALS['ecs']->table('order_info') . \" o\".\n  289                      \" LEFT JOIN\".$GLOBALS['ecs']->table('users').\" u ON o.user_id = u.user_id\".\n  290:                     \" LEFT JOIN \" . $GLOBALS['ecs']->table('affiliate_log') . \" a ON o.order_id = a.order_id\" .\n  291                      \" WHERE o.user_id > 0 AND (o.parent_id > 0 AND o.is_separate = 0 OR o.is_separate > 0) $sqladd\" .\n  292                      \" ORDER BY order_id DESC\" .\n  ...\n  310          $sql = \"SELECT o.*, a.log_id,a.user_id as suid, a.user_name as auser, a.money, a.point, a.separate_type,u.parent_id as up FROM \" . $GLOBALS['ecs']->table('order_info') . \" o\".\n  311                  \" LEFT JOIN\".$GLOBALS['ecs']->table('users').\" u ON o.user_id = u.user_id\".\n  312:                 \" LEFT JOIN \" . $GLOBALS['ecs']->table('affiliate_log') . \" a ON o.order_id = a.order_id\" .\n  313                  \" WHERE o.user_id > 0 AND o.is_separate > 0 $sqladd\" .\n  314                  \" ORDER BY order_id DESC\" .\n  ...\n  332          if(!empty($rt['suid']))\n  333          {\n  334:             //在affiliate_log有记录\n  335              $rt['info'] = sprintf($GLOBALS['_LANG']['separate_info2'], $rt['suid'], $rt['auser'], $rt['money'], $rt['point']);\n  336              if($rt['separate_type'] == -1 || $rt['separate_type'] == -2)\n  ...\n  347      return $arr;\n  348  }\n  349: function write_affiliate_log($oid, $uid, $username, $money, $point, $separate_by)\n  350  {\n  351      $time = gmtime();\n  352:     $sql = \"INSERT INTO \" . $GLOBALS['ecs']->table('affiliate_log') . \"( order_id, user_id, user_name, time, money, point, separate_type)\".\n  353                                                                \" VALUES ( '$oid', '$uid', '$username', '$time', '$money', '$point', $separate_by)\";\n  354      if ($oid)\n\n/Users/gaoyan/站点/other/济南机件/jj/admin/ecshopfiles.md5:\n    1  60c78626c8042f5b0044884eea35e38c *./activity.php\n    2  5c22536108e82d9b5c5918082ae031cb *./affiche.php\n    3: 98b25b923ec53e2b120d987794c6dc0b *./affiliate.php\n    4  a5c026fc0f6cc7c47e26f934560fc984 *./api.php\n    5  25fc4c7f6c8d1d033d239259231113ba *./article.php\n    .\n   45  52000a33000f95884653c433f24101fc *admin/adsense.php\n   46  084695f48aa6a43360d1c170dea670b6 *admin/ad_position.php\n   47: d6c6fadb1bd0ca7d9024c91666eeda36 *admin/affiliate.php\n   48: 258fb1ff6fab3c53fdabc87aaaf27077 *admin/affiliate_ck.php\n   49  dbb6491eb7e6b1a08728e42734bf8803 *admin/agency.php\n   50  76ff8ccf26fbe15396899c8da7008bc4 *admin/area_manage.php\n   ..\n  167  401fb6c0445678d6d78abfd4de353025 *admin/templates/ad_position_info.htm\n  168  29cbb16bcf3b442f06bdb5c2ca4fdc0e *admin/templates/ad_position_list.htm\n  169: 6e7bb335a8b13e0e17b4483fa022b31c *admin/templates/affiliate.htm\n  170: 858eb1dbf4d8d470253faa2099456471 *admin/templates/affiliate_ck_list.htm\n  171: 88a071e07c7475dfd94ec2163e512da6 *admin/templates/affiliate_list.htm\n  172  aab35180beee73f17ff9d9b6472acd26 *admin/templates/agency_info.htm\n  173  acb21b1f80f2607c7c494a70083bc302 *admin/templates/agency_list.htm\n  ...\n  491  a4c9f324a2f7a26fa9e9cca65990bf6c *languages/en_us/admin/admin_logs.php\n  492  3e4fc4a657989b8f4a183ae77e47f3a2 *languages/en_us/admin/ads.php\n  493: 3e1ec34cd3df68f436e8a89455c21f81 *languages/en_us/admin/affiliate.php\n  494: 203a8121ae9af13b80034950281c3cea *languages/en_us/admin/affiliate_ck.php\n  495  2dbf30c706ce3c6200d31b1b64efbc39 *languages/en_us/admin/agency.php\n  496  f95ff7807f2bf56fbc5fbc9d8b8297d8 *languages/en_us/admin/area_manage.php\n  ...\n  621  d7ba83e38187ad34003386e3025e604b *languages/zh_cn/admin/admin_logs.php\n  622  3bfced67b5ab7d1c1ef33d39b8c344a1 *languages/zh_cn/admin/ads.php\n  623: 714e0094be0af7fb3cbc27963c9b7ad9 *languages/zh_cn/admin/affiliate.php\n  624: ef72d7db118753abf0cf98625456b10d *languages/zh_cn/admin/affiliate_ck.php\n  625  553964c7026a75dd6183b107345ed5c0 *languages/zh_cn/admin/agency.php\n  626  15a7795ef94697745d00b38f18171555 *languages/zh_cn/admin/area_manage.php\n  ...\n  752  63daab01bbbefa96bdf2e2f84b213d49 *languages/zh_tw/admin/admin_logs.php\n  753  cfa9b0b7eb4a4d633a3e9d5ba8f55441 *languages/zh_tw/admin/ads.php\n  754: cafb0273474e3fc620b148cf529f4c25 *languages/zh_tw/admin/affiliate.php\n  755: da24feab6903ba408d7d8d12fe6d3c1d *languages/zh_tw/admin/affiliate_ck.php\n  756  f31772fe50fab082b4c2016cda8369ef *languages/zh_tw/admin/agency.php\n  757  caa2fd1103021fce2762268288c0a2f5 *languages/zh_tw/admin/area_manage.php\n\n/Users/gaoyan/站点/other/济南机件/jj/admin/includes/inc_menu.php:\n  140  //$modules['14_sms']['06_sms_charge_history']         = 'sms.php?act=display_charge_history_ui';\n  141  \n  142: $modules['15_rec']['affiliate']                     = 'affiliate.php?act=list';\n  143: $modules['15_rec']['affiliate_ck']                  = 'affiliate_ck.php?act=list';\n  144  \n  145  $modules['16_email_manage']['email_list']           = 'email_list.php?act=list';\n\n/Users/gaoyan/站点/other/济南机件/jj/admin/includes/inc_priv.php:\n  142  \n  143  //推荐管理\n  144:     $purview['affiliate']            = 'affiliate';\n  145:     $purview['affiliate_ck']         = 'affiliate_ck';\n  146  \n  147  //邮件群发管理\n\n/Users/gaoyan/站点/other/济南机件/jj/admin/integrate.php:\n  571  \n  572      //需要更新user_id的表\n  573:     $up_user_table = array('account_log', 'affiliate_log', 'booking_goods', 'collect_goods', 'comment', 'feedback', 'order_info', 'snatch_log', 'tag', 'users', 'user_account', 'user_address', 'user_bonus', 'reg_extend_info', 'user_feed', 'delivery_order', 'back_order');\n  574      // 清空的表\n  575      $truncate_user_table = array('cart', 'sessions', 'sessions_data');\n\n/Users/gaoyan/站点/other/济南机件/jj/admin/templates/affiliate.htm:\n    4  {insert_scripts files=\"validator.js\"}\n    5  <div class=\"form-div\">\n    6: <form method=\"post\" action=\"affiliate.php\">\n    7  <input type=\"radio\" name=\"on\" value=\"1\" {if $config.on eq 1} checked=\"true\" {/if} onClick=\"javascript:actDiv('separate','');actDiv('btnon','none');\">{$lang.on}\n    8  <input type=\"radio\" name=\"on\" value=\"0\" {if !$config.on || $config.on eq 0} checked=\"true\" {/if} onClick=\"javascript:actDiv('separate','none');actDiv('btnon','');\">{$lang.off}\n    .\n   14  <div id=\"separate\">\n   15  <div class=\"form-div\">\n   16: <form method=\"post\" action=\"affiliate.php\">\n   17              <table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"4\">\n   18                  <tr>\n   ..\n   75  	<td><span onclick=\"listTable.edit(this, 'edit_point', '{$smarty.foreach.nav.iteration}'); return false;\">{$val.level_point}</span></td>\n   76  	<td><span onclick=\"listTable.edit(this, 'edit_money', '{$smarty.foreach.nav.iteration}'); return false;\">{$val.level_money}</span></td>\n   77: 	<td ><a href=\"javascript:confirm_redirect(lang_removeconfirm, 'affiliate.php?act=del&id={$smarty.foreach.nav.iteration}')\"><img style=\"border:0px;\" src=\"images/no.gif\" /></a></td>\n   78  </tr>\n   79  {/foreach}\n\n/Users/gaoyan/站点/other/济南机件/jj/admin/templates/affiliate_ck_list.htm:\n    4  <div class=\"form-div\">\n    5  {if $smarty.get.auid}\n    6: {$lang.show_affiliate_orders}\n    7  {else}\n    8: <form action=\"affiliate_ck.php?act=list\">\n    9    {$lang.sch_stats.info}\n   10:   <a href=\"affiliate_ck.php?act=list\">{$lang.sch_stats.all}</a>\n   11:   <a href=\"affiliate_ck.php?act=list&status=0\">{$lang.sch_stats.0}</a>\n   12:   <a href=\"affiliate_ck.php?act=list&status=1\">{$lang.sch_stats.1}</a>\n   13:   <a href=\"affiliate_ck.php?act=list&status=2\">{$lang.sch_stats.2}</a>\n   14  {$lang.sch_order}\n   15  \n   ..\n   40    <td>\n   41    <!-- {if $val.is_separate eq 0 && $val.separate_able eq 1 && $on eq 1} -->\n   42:   <a href=\"javascript:confirm_redirect(separate_confirm, 'affiliate_ck.php?act=separate&oid={$val.order_id}')\">{$lang.affiliate_separate}</a> | <a href=\"javascript:confirm_redirect(cancel_confirm, 'affiliate_ck.php?act=del&oid={$val.order_id}')\">{$lang.affiliate_cancel}</a>\n   43    <!-- {elseif $val.is_separate eq 1} -->\n   44: <a href=\"javascript:confirm_redirect(rollback_confirm, 'affiliate_ck.php?act=rollback&logid={$val.log_id}')\">{$lang.affiliate_rollback}</a>\n   45    <!-- {else} -->\n   46    -\n\n/Users/gaoyan/站点/other/济南机件/jj/admin/templates/affiliate_list.htm:\n   18      <th>{$lang.record_id}</th>\n   19      <th>{$lang.username}</th>\n   20:     <th>{$lang.affiliate_level}{$lang.level}</th>\n   21      <th>{$lang.email}</th>\n   22      <th>{$lang.is_validated}</th>\n\n/Users/gaoyan/站点/other/济南机件/jj/admin/templates/user_info.htm:\n   83    </tr>\n   84    {/if}\n   85:   {if $affiliate.on eq 1 && $affdb}\n   86    <tr>\n   87:     <td class=\"label\">{$lang.affiliate_user}:</td>\n   88:     <td>[<a href=\"users.php?act=aff_list&auid={$user.user_id}\">{$lang.show_affiliate_users}</a>][<a href=\"affiliate_ck.php?act=list&auid={$user.user_id}\">{$lang.show_affiliate_orders}</a>]</td>\n   89    </tr>\n   90    <tr>\n   ..\n   93      <table border=\"0\" cellspacing=\"1\" style=\"background: #dddddd; width:30%;\">\n   94      <tr>\n   95:     <td bgcolor=\"#ffffff\">{$lang.affiliate_lever}</td>\n   96      {foreach from=$affdb key=level item=val0}\n   97      <td bgcolor=\"#ffffff\">{$level}</td>\n   ..\n   99      </tr>\n  100      <tr>\n  101:     <td bgcolor=\"#ffffff\">{$lang.affiliate_num}</td>\n  102      {foreach from=$affdb item=val}\n  103      <td bgcolor=\"#ffffff\">{$val.num}</td>\n\n/Users/gaoyan/站点/other/济南机件/jj/admin/users.php:\n  293  \n  294      /* 当前会员推荐信息 */\n  295:     $affiliate = unserialize($GLOBALS['_CFG']['affiliate']);\n  296:     $smarty->assign('affiliate', $affiliate);\n  297  \n  298:     empty($affiliate) && $affiliate = array();\n  299  \n  300:     if(empty($affiliate['config']['separate_by']))\n  301      {\n  302          //推荐注册分成\n  303          $affdb = array();\n  304:         $num = count($affiliate['item']);\n  305          $up_uid = \"'$_GET[id]'\";\n  306          for ($i = 1 ; $i <=$num ;$i++)\n  ...\n  613      $user_list['user_list'] = array();\n  614  \n  615:     $affiliate = unserialize($GLOBALS['_CFG']['affiliate']);\n  616:     $smarty->assign('affiliate', $affiliate);\n  617  \n  618:     empty($affiliate) && $affiliate = array();\n  619  \n  620:     $num = count($affiliate['item']);\n  621      $up_uid = \"'$auid'\";\n  622      $all_count = 0;\n  ...\n  660  \n  661      assign_query_info();\n  662:     $smarty->display('affiliate_list.htm');\n  663  }\n  664  \n\n/Users/gaoyan/站点/other/济南机件/jj/affiliate.php:\n   11   * ============================================================================\n   12   * $Author: liubo $\n   13:  * $Id: affiliate.php 17217 2011-01-19 06:29:08Z liubo $\n   14   */\n   15  \n   ..\n   47  \n   48  \n   49: $tpl = ROOT_PATH . DATA_DIR . '/affiliate.html';\n   50  if (!$smarty->is_cached($tpl, $cache_id))\n   51  {\n\n/Users/gaoyan/站点/other/济南机件/jj/api/uc.php:\n  130          }\n  131          $this->db->query(\"UPDATE \" . $GLOBALS['ecs']->table(\"users\") . \" SET user_name='$usernamenew' WHERE user_id='$uid'\");\n  132:         $this->db->query(\"UPDATE \" . $GLOBALS['ecs']->table(\"affiliate_log\") . \" SET user_name='$usernamenew' WHERE user_name='$usernameold'\");\n  133          $this->db->query(\"UPDATE \" . $GLOBALS['ecs']->table(\"comment\") . \" SET user_name='$usernamenew' WHERE user_name='$usernameold'\");\n  134          $this->db->query(\"UPDATE \" . $GLOBALS['ecs']->table(\"feedback\") . \" SET user_name='$usernamenew' WHERE user_name='$usernameold'\");\n\n/Users/gaoyan/站点/other/济南机件/jj/data/sqldata/20141118flkeqf.sql:\n  144  INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('95', '2', 'article_auto', '');\n  145  INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('96', '5', 'cron', '');\n  146: INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('97', '5', 'affiliate', '');\n  147: INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('98', '5', 'affiliate_ck', '');\n  148  INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('99', '8', 'attention_list', '');\n  149  INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('100', '8', 'email_list', '');\n  ...\n  708    KEY `from_ad` (`from_ad`)\n  709  ) ENGINE=MyISAM DEFAULT CHARSET=utf8;\n  710: DROP TABLE IF EXISTS `ecs_affiliate_log`;\n  711: CREATE TABLE `ecs_affiliate_log` (\n  712    `log_id` mediumint(8) NOT NULL auto_increment,\n  713    `order_id` mediumint(8) NOT NULL,\n  ...\n 5691  INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('613', '6', 'sms_balance', 'hidden', '', '', '', '1');\n 5692  INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('614', '6', 'sms_last_request', 'hidden', '', '', '', '1');\n 5693: INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('616', '6', 'affiliate', 'hidden', '', '', 'a:3:{s:6:\\\"config\\\";a:7:{s:6:\\\"expire\\\";d:24;s:11:\\\"expire_unit\\\";s:4:\\\"hour\\\";s:11:\\\"separate_by\\\";i:0;s:15:\\\"level_point_all\\\";s:2:\\\"5%\\\";s:15:\\\"level_money_all\\\";s:2:\\\"1%\\\";s:18:\\\"level_register_all\\\";i:2;s:17:\\\"level_register_up\\\";i:60;}s:4:\\\"item\\\";a:4:{i:0;a:2:{s:11:\\\"level_point\\\";s:3:\\\"60%\\\";s:11:\\\"level_money\\\";s:3:\\\"60%\\\";}i:1;a:2:{s:11:\\\"level_point\\\";s:3:\\\"30%\\\";s:11:\\\"level_money\\\";s:3:\\\"30%\\\";}i:2;a:2:{s:11:\\\"level_point\\\";s:2:\\\"7%\\\";s:11:\\\"level_money\\\";s:2:\\\"7%\\\";}i:3;a:2:{s:11:\\\"level_point\\\";s:2:\\\"3%\\\";s:11:\\\"level_money\\\";s:2:\\\"3%\\\";}}s:2:\\\"on\\\";i:1;}', '1');\n 5694  INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('617', '6', 'captcha', 'hidden', '', '', '36', '1');\n 5695  INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('618', '6', 'captcha_width', 'hidden', '', '', '100', '1');\n\n/Users/gaoyan/站点/other/济南机件/jj/data/sqldata/20141121jdmaqo.sql:\n 4547  INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('613', '6', 'sms_balance', 'hidden', '', '', '', '1');\n 4548  INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('614', '6', 'sms_last_request', 'hidden', '', '', '', '1');\n 4549: INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('616', '6', 'affiliate', 'hidden', '', '', 'a:3:{s:6:\\\"config\\\";a:7:{s:6:\\\"expire\\\";d:24;s:11:\\\"expire_unit\\\";s:4:\\\"hour\\\";s:11:\\\"separate_by\\\";i:0;s:15:\\\"level_point_all\\\";s:2:\\\"5%\\\";s:15:\\\"level_money_all\\\";s:2:\\\"1%\\\";s:18:\\\"level_register_all\\\";i:2;s:17:\\\"level_register_up\\\";i:60;}s:4:\\\"item\\\";a:4:{i:0;a:2:{s:11:\\\"level_point\\\";s:3:\\\"60%\\\";s:11:\\\"level_money\\\";s:3:\\\"60%\\\";}i:1;a:2:{s:11:\\\"level_point\\\";s:3:\\\"30%\\\";s:11:\\\"level_money\\\";s:3:\\\"30%\\\";}i:2;a:2:{s:11:\\\"level_point\\\";s:2:\\\"7%\\\";s:11:\\\"level_money\\\";s:2:\\\"7%\\\";}i:3;a:2:{s:11:\\\"level_point\\\";s:2:\\\"3%\\\";s:11:\\\"level_money\\\";s:2:\\\"3%\\\";}}s:2:\\\"on\\\";i:1;}', '1');\n 4550  INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('617', '6', 'captcha', 'hidden', '', '', '36', '1');\n 4551  INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('618', '6', 'captcha_width', 'hidden', '', '', '100', '1');\n\n/Users/gaoyan/站点/other/济南机件/jj/data/sqldata/20141201tjazbl.sql:\n  291  INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('95', '2', 'article_auto', '');\n  292  INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('96', '5', 'cron', '');\n  293: INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('97', '5', 'affiliate', '');\n  294: INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('98', '5', 'affiliate_ck', '');\n  295  INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('99', '8', 'attention_list', '');\n  296  INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('100', '8', 'email_list', '');\n  ...\n 1971  INSERT INTO `ecs_adsense` ( `from_ad`, `referer`, `clicks` ) VALUES  ('58', '本站', '2');\n 1972  INSERT INTO `ecs_adsense` ( `from_ad`, `referer`, `clicks` ) VALUES  ('59', '本站', '1');\n 1973: DROP TABLE IF EXISTS `ecs_affiliate_log`;\n 1974: CREATE TABLE `ecs_affiliate_log` (\n 1975    `log_id` mediumint(8) NOT NULL AUTO_INCREMENT,\n 1976    `order_id` mediumint(8) NOT NULL,\n ....\n 7289  INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('613', '6', 'sms_balance', 'hidden', '', '', '', '1');\n 7290  INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('614', '6', 'sms_last_request', 'hidden', '', '', '', '1');\n 7291: INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('616', '6', 'affiliate', 'hidden', '', '', 'a:3:{s:6:\\\"config\\\";a:7:{s:6:\\\"expire\\\";d:24;s:11:\\\"expire_unit\\\";s:4:\\\"hour\\\";s:11:\\\"separate_by\\\";i:0;s:15:\\\"level_point_all\\\";s:2:\\\"5%\\\";s:15:\\\"level_money_all\\\";s:2:\\\"1%\\\";s:18:\\\"level_register_all\\\";i:2;s:17:\\\"level_register_up\\\";i:60;}s:4:\\\"item\\\";a:4:{i:0;a:2:{s:11:\\\"level_point\\\";s:3:\\\"60%\\\";s:11:\\\"level_money\\\";s:3:\\\"60%\\\";}i:1;a:2:{s:11:\\\"level_point\\\";s:3:\\\"30%\\\";s:11:\\\"level_money\\\";s:3:\\\"30%\\\";}i:2;a:2:{s:11:\\\"level_point\\\";s:2:\\\"7%\\\";s:11:\\\"level_money\\\";s:2:\\\"7%\\\";}i:3;a:2:{s:11:\\\"level_point\\\";s:2:\\\"3%\\\";s:11:\\\"level_money\\\";s:2:\\\"3%\\\";}}s:2:\\\"on\\\";i:1;}', '1');\n 7292  INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('617', '6', 'captcha', 'hidden', '', '', '0', '1');\n 7293  INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('618', '6', 'captcha_width', 'hidden', '', '', '100', '1');\n\n/Users/gaoyan/站点/other/济南机件/jj/data/sqldata/20141201vefukg.sql:\n  291  INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('95', '2', 'article_auto', '');\n  292  INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('96', '5', 'cron', '');\n  293: INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('97', '5', 'affiliate', '');\n  294: INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('98', '5', 'affiliate_ck', '');\n  295  INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('99', '8', 'attention_list', '');\n  296  INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('100', '8', 'email_list', '');\n  ...\n 1985  INSERT INTO `ecs_adsense` ( `from_ad`, `referer`, `clicks` ) VALUES  ('58', '本站', '2');\n 1986  INSERT INTO `ecs_adsense` ( `from_ad`, `referer`, `clicks` ) VALUES  ('59', '本站', '1');\n 1987: DROP TABLE IF EXISTS `ecs_affiliate_log`;\n 1988: CREATE TABLE `ecs_affiliate_log` (\n 1989    `log_id` mediumint(8) NOT NULL AUTO_INCREMENT,\n 1990    `order_id` mediumint(8) NOT NULL,\n ....\n 7310  INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('613', '6', 'sms_balance', 'hidden', '', '', '', '1');\n 7311  INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('614', '6', 'sms_last_request', 'hidden', '', '', '', '1');\n 7312: INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('616', '6', 'affiliate', 'hidden', '', '', 'a:3:{s:6:\\\"config\\\";a:7:{s:6:\\\"expire\\\";d:24;s:11:\\\"expire_unit\\\";s:4:\\\"hour\\\";s:11:\\\"separate_by\\\";i:0;s:15:\\\"level_point_all\\\";s:2:\\\"5%\\\";s:15:\\\"level_money_all\\\";s:2:\\\"1%\\\";s:18:\\\"level_register_all\\\";i:2;s:17:\\\"level_register_up\\\";i:60;}s:4:\\\"item\\\";a:4:{i:0;a:2:{s:11:\\\"level_point\\\";s:3:\\\"60%\\\";s:11:\\\"level_money\\\";s:3:\\\"60%\\\";}i:1;a:2:{s:11:\\\"level_point\\\";s:3:\\\"30%\\\";s:11:\\\"level_money\\\";s:3:\\\"30%\\\";}i:2;a:2:{s:11:\\\"level_point\\\";s:2:\\\"7%\\\";s:11:\\\"level_money\\\";s:2:\\\"7%\\\";}i:3;a:2:{s:11:\\\"level_point\\\";s:2:\\\"3%\\\";s:11:\\\"level_money\\\";s:2:\\\"3%\\\";}}s:2:\\\"on\\\";i:1;}', '1');\n 7313  INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('617', '6', 'captcha', 'hidden', '', '', '0', '1');\n 7314  INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('618', '6', 'captcha_width', 'hidden', '', '', '100', '1');\n\n/Users/gaoyan/站点/other/济南机件/jj/data/sqldata/20141201wzxhia.sql:\n  291  INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('95', '2', 'article_auto', '');\n  292  INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('96', '5', 'cron', '');\n  293: INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('97', '5', 'affiliate', '');\n  294: INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('98', '5', 'affiliate_ck', '');\n  295  INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('99', '8', 'attention_list', '');\n  296  INSERT INTO `ecs_admin_action` ( `action_id`, `parent_id`, `action_code`, `relevance` ) VALUES  ('100', '8', 'email_list', '');\n  ...\n 1971  INSERT INTO `ecs_adsense` ( `from_ad`, `referer`, `clicks` ) VALUES  ('58', '本站', '2');\n 1972  INSERT INTO `ecs_adsense` ( `from_ad`, `referer`, `clicks` ) VALUES  ('59', '本站', '1');\n 1973: DROP TABLE IF EXISTS `ecs_affiliate_log`;\n 1974: CREATE TABLE `ecs_affiliate_log` (\n 1975    `log_id` mediumint(8) NOT NULL AUTO_INCREMENT,\n 1976    `order_id` mediumint(8) NOT NULL,\n ....\n 7294  INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('613', '6', 'sms_balance', 'hidden', '', '', '', '1');\n 7295  INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('614', '6', 'sms_last_request', 'hidden', '', '', '', '1');\n 7296: INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('616', '6', 'affiliate', 'hidden', '', '', 'a:3:{s:6:\\\"config\\\";a:7:{s:6:\\\"expire\\\";d:24;s:11:\\\"expire_unit\\\";s:4:\\\"hour\\\";s:11:\\\"separate_by\\\";i:0;s:15:\\\"level_point_all\\\";s:2:\\\"5%\\\";s:15:\\\"level_money_all\\\";s:2:\\\"1%\\\";s:18:\\\"level_register_all\\\";i:2;s:17:\\\"level_register_up\\\";i:60;}s:4:\\\"item\\\";a:4:{i:0;a:2:{s:11:\\\"level_point\\\";s:3:\\\"60%\\\";s:11:\\\"level_money\\\";s:3:\\\"60%\\\";}i:1;a:2:{s:11:\\\"level_point\\\";s:3:\\\"30%\\\";s:11:\\\"level_money\\\";s:3:\\\"30%\\\";}i:2;a:2:{s:11:\\\"level_point\\\";s:2:\\\"7%\\\";s:11:\\\"level_money\\\";s:2:\\\"7%\\\";}i:3;a:2:{s:11:\\\"level_point\\\";s:2:\\\"3%\\\";s:11:\\\"level_money\\\";s:2:\\\"3%\\\";}}s:2:\\\"on\\\";i:1;}', '1');\n 7297  INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('617', '6', 'captcha', 'hidden', '', '', '0', '1');\n 7298  INSERT INTO `ecs_shop_config` ( `id`, `parent_id`, `code`, `type`, `store_range`, `store_dir`, `value`, `sort_order` ) VALUES  ('618', '6', 'captcha_width', 'hidden', '', '', '100', '1');\n\n/Users/gaoyan/站点/other/济南机件/jj/flow.php:\n 1633      }\n 1634  \n 1635:     $affiliate = unserialize($_CFG['affiliate']);\n 1636:     if(isset($affiliate['on']) && $affiliate['on'] == 1 && $affiliate['config']['separate_by'] == 1)\n 1637      {\n 1638          //推荐订单分成\n 1639:         $parent_id = get_affiliate();\n 1640          if($user_id == $parent_id)\n 1641          {\n ....\n 1643          }\n 1644      }\n 1645:     elseif(isset($affiliate['on']) && $affiliate['on'] == 1 && $affiliate['config']['separate_by'] == 0)\n 1646      {\n 1647          //推荐注册分成\n\n/Users/gaoyan/站点/other/济南机件/jj/goods.php:\n   23  }\n   24  \n   25: $affiliate = unserialize($GLOBALS['_CFG']['affiliate']);\n   26: $smarty->assign('affiliate', $affiliate);\n   27  \n   28  /*------------------------------------------------------ */\n\n/Users/gaoyan/站点/other/济南机件/jj/includes/init.php:\n  248      if (isset($_GET['u']))\n  249      {\n  250:         set_affiliate();\n  251      }\n  252  \n\n/Users/gaoyan/站点/other/济南机件/jj/includes/lib_main.php:\n 1718   * @author xuanyan\n 1719   **/\n 1720: function set_affiliate()\n 1721  {\n 1722:     $config = unserialize($GLOBALS['_CFG']['affiliate']);\n 1723      if (!empty($_GET['u']) && $config['on'] == 1)\n 1724      {\n ....\n 1741                  $c = 1;\n 1742              }\n 1743:             setcookie('ecshop_affiliate_uid', intval($_GET['u']), gmtime() + 3600 * $config['config']['expire'] * $c);\n 1744          }\n 1745          else\n 1746          {\n 1747:             setcookie('ecshop_affiliate_uid', intval($_GET['u']), gmtime() + 3600 * 24); // 过期时间为 1 天\n 1748          }\n 1749      }\n ....\n 1759   * @author xuanyan\n 1760   **/\n 1761: function get_affiliate()\n 1762  {\n 1763:     if (!empty($_COOKIE['ecshop_affiliate_uid']))\n 1764      {\n 1765:         $uid = intval($_COOKIE['ecshop_affiliate_uid']);\n 1766          if ($GLOBALS['db']->getOne('SELECT user_id FROM ' . $GLOBALS['ecs']->table('users') . \"WHERE user_id = '$uid'\"))\n 1767          {\n ....\n 1770          else\n 1771          {\n 1772:             setcookie('ecshop_affiliate_uid', '', 1);\n 1773          }\n 1774      }\n\n/Users/gaoyan/站点/other/济南机件/jj/includes/lib_passport.php:\n  124  \n  125          /*推荐处理*/\n  126:         $affiliate  = unserialize($GLOBALS['_CFG']['affiliate']);\n  127:         if (isset($affiliate['on']) && $affiliate['on'] == 1)\n  128          {\n  129              // 推荐开关开启\n  130:             $up_uid     = get_affiliate();\n  131:             empty($affiliate) && $affiliate = array();\n  132:             $affiliate['config']['level_register_all'] = intval($affiliate['config']['level_register_all']);\n  133:             $affiliate['config']['level_register_up'] = intval($affiliate['config']['level_register_up']);\n  134              if ($up_uid)\n  135              {\n  136:                 if (!empty($affiliate['config']['level_register_all']))\n  137                  {\n  138:                     if (!empty($affiliate['config']['level_register_up']))\n  139                      {\n  140                          $rank_points = $GLOBALS['db']->getOne(\"SELECT rank_points FROM \" . $GLOBALS['ecs']->table('users') . \" WHERE user_id = '$up_uid'\");\n  141:                         if ($rank_points + $affiliate['config']['level_register_all'] <= $affiliate['config']['level_register_up'])\n  142                          {\n  143:                             log_account_change($up_uid, 0, 0, $affiliate['config']['level_register_all'], 0, sprintf($GLOBALS['_LANG']['register_affiliate'], $_SESSION['user_id'], $username));\n  144                          }\n  145                      }\n  146                      else\n  147                      {\n  148:                         log_account_change($up_uid, 0, 0, $affiliate['config']['level_register_all'], 0, $GLOBALS['_LANG']['register_affiliate']);\n  149                      }\n  150                  }\n\n/Users/gaoyan/站点/other/济南机件/jj/includes/user.php:\n   24  $action  = isset($_REQUEST['act']) ? trim($_REQUEST['act']) : 'default';\n   25  \n   26: $affiliate = unserialize($GLOBALS['_CFG']['affiliate']);\n   27: $smarty->assign('affiliate', $affiliate);\n   28  $back_act='';\n   29  \n   ..\n   36  $ui_arr = array('register', 'login', 'profile', 'order_list', 'order_detail', 'address_list', 'collection_list',\n   37  'message_list', 'tag_list', 'get_password', 'reset_password', 'booking_list', 'add_booking', 'account_raply',\n   38: 'account_deposit', 'account_log', 'account_detail', 'act_account', 'pay', 'default', 'bonus', 'group_buy', 'group_buy_detail', 'affiliate', 'comment_list','validate_email','track_packages', 'transform_points','qpassword_name', 'get_passwd_question', 'check_answer');\n   39  \n   40  /* 未登录处理 */\n   ..\n 2076  \n 2077  // 用户推荐页面\n 2078: elseif ($action == 'affiliate')\n 2079  {\n 2080      $goodsid = intval(isset($_REQUEST['goodsid']) ? $_REQUEST['goodsid'] : 0);\n ....\n 2086          $size       = !empty($_CFG['page_size']) && intval($_CFG['page_size']) > 0 ? intval($_CFG['page_size']) : 10;\n 2087  \n 2088:         empty($affiliate) && $affiliate = array();\n 2089  \n 2090:         if(empty($affiliate['config']['separate_by']))\n 2091          {\n 2092              //推荐注册分成\n 2093              $affdb = array();\n 2094:             $num = count($affiliate['item']);\n 2095              $up_uid = \"'$user_id'\";\n 2096              $all_uid = \"'$user_id'\";\n ....\n 2114                  }\n 2115                  $affdb[$i]['num'] = $count;\n 2116:                 $affdb[$i]['point'] = $affiliate['item'][$i-1]['level_point'];\n 2117:                 $affdb[$i]['money'] = $affiliate['item'][$i-1]['level_money'];\n 2118              }\n 2119              $smarty->assign('affdb', $affdb);\n ....\n 2121              $sqlcount = \"SELECT count(*) FROM \" . $ecs->table('order_info') . \" o\".\n 2122          \" LEFT JOIN\".$ecs->table('users').\" u ON o.user_id = u.user_id\".\n 2123:         \" LEFT JOIN \" . $ecs->table('affiliate_log') . \" a ON o.order_id = a.order_id\" .\n 2124          \" WHERE o.user_id > 0 AND (u.parent_id IN ($all_uid) AND o.is_separate = 0 OR a.user_id = '$user_id' AND o.is_separate > 0)\";\n 2125  \n 2126              $sql = \"SELECT o.*, a.log_id, a.user_id as suid,  a.user_name as auser, a.money, a.point, a.separate_type FROM \" . $ecs->table('order_info') . \" o\".\n 2127                      \" LEFT JOIN\".$ecs->table('users').\" u ON o.user_id = u.user_id\".\n 2128:                     \" LEFT JOIN \" . $ecs->table('affiliate_log') . \" a ON o.order_id = a.order_id\" .\n 2129          \" WHERE o.user_id > 0 AND (u.parent_id IN ($all_uid) AND o.is_separate = 0 OR a.user_id = '$user_id' AND o.is_separate > 0)\".\n 2130                      \" ORDER BY order_id DESC\" ;\n ....\n 2144              */\n 2145  \n 2146:             $affiliate_intro = nl2br(sprintf($_LANG['affiliate_intro'][$affiliate['config']['separate_by']], $affiliate['config']['expire'], $_LANG['expire_unit'][$affiliate['config']['expire_unit']], $affiliate['config']['level_register_all'], $affiliate['config']['level_register_up'], $affiliate['config']['level_money_all'], $affiliate['config']['level_point_all']));\n 2147          }\n 2148          else\n ....\n 2151              $sqlcount = \"SELECT count(*) FROM \" . $ecs->table('order_info') . \" o\".\n 2152                      \" LEFT JOIN\".$ecs->table('users').\" u ON o.user_id = u.user_id\".\n 2153:                     \" LEFT JOIN \" . $ecs->table('affiliate_log') . \" a ON o.order_id = a.order_id\" .\n 2154                      \" WHERE o.user_id > 0 AND (o.parent_id = '$user_id' AND o.is_separate = 0 OR a.user_id = '$user_id' AND o.is_separate > 0)\";\n 2155  \n ....\n 2157              $sql = \"SELECT o.*, a.log_id,a.user_id as suid, a.user_name as auser, a.money, a.point, a.separate_type,u.parent_id as up FROM \" . $ecs->table('order_info') . \" o\".\n 2158                      \" LEFT JOIN\".$ecs->table('users').\" u ON o.user_id = u.user_id\".\n 2159:                     \" LEFT JOIN \" . $ecs->table('affiliate_log') . \" a ON o.order_id = a.order_id\" .\n 2160                      \" WHERE o.user_id > 0 AND (o.parent_id = '$user_id' AND o.is_separate = 0 OR a.user_id = '$user_id' AND o.is_separate > 0)\" .\n 2161                      \" ORDER BY order_id DESC\" ;\n ....\n 2174              */\n 2175  \n 2176:             $affiliate_intro = nl2br(sprintf($_LANG['affiliate_intro'][$affiliate['config']['separate_by']], $affiliate['config']['expire'], $_LANG['expire_unit'][$affiliate['config']['expire_unit']], $affiliate['config']['level_money_all'], $affiliate['config']['level_point_all']));\n 2177  \n 2178          }\n ....\n 2192              if(!empty($rt['suid']))\n 2193              {\n 2194:                 //在affiliate_log有记录\n 2195                  if($rt['separate_type'] == -1 || $rt['separate_type'] == -2)\n 2196                  {\n ....\n 2203          }\n 2204  \n 2205:         $url_format = \"user.php?act=affiliate&page=\";\n 2206  \n 2207          $pager = array(\n ....\n 2227  \n 2228  \n 2229:         $smarty->assign('affiliate_intro', $affiliate_intro);\n 2230:         $smarty->assign('affiliate_type', $affiliate['config']['separate_by']);\n 2231  \n 2232          $smarty->assign('logdb', $logdb);\n\n/Users/gaoyan/站点/other/济南机件/jj/languages/en_us/admin/affiliate.php:\n   11   * ==========================================================\n   12   * $Author: liubo $\n   13:  * $Id: affiliate.php 17217 2011-01-19 06:29:08Z liubo $\n   14   */\n   15  \n\n/Users/gaoyan/站点/other/济南机件/jj/languages/en_us/admin/affiliate_ck.php:\n   11   * ==========================================================\n   12   * $Author: liubo $\n   13:  * $Id: affiliate_ck.php 17217 2011-01-19 06:29:08Z liubo $\n   14   */\n   15  \n   16  \n   17  $_LANG['order_id'] = 'Order No.';\n   18: $_LANG['affiliate_separate'] = 'Divided into';\n   19: $_LANG['affiliate_cancel'] = 'Cancel';\n   20: $_LANG['affiliate_rollback'] = 'Revocation';\n   21  $_LANG['log_info'] = 'Operation information';\n   22  $_LANG['edit_ok'] = 'Successful operation';\n   ..\n   53  $_LANG['separate_by'][-2] = 'Recommend orders into';\n   54  \n   55: $_LANG['show_affiliate_orders'] = 'This list shows the recommended order information for this user.';\n   56  $_LANG['back_note'] = 'Return to the user-edited page';\n   57  ?>\n\n/Users/gaoyan/站点/other/济南机件/jj/languages/en_us/admin/common.php:\n  292  $_LANG['06_sms_charge_history'] = 'Charge History';\n  293  \n  294: $_LANG['affiliate'] = 'Recommended settings';\n  295: $_LANG['affiliate_ck'] = 'Divided into management';\n  296  $_LANG['flashplay'] = 'Flash Player Management';\n  297  $_LANG['search_log'] = 'Search keywords';\n\n/Users/gaoyan/站点/other/济南机件/jj/languages/en_us/admin/priv_action.php:\n   90  $_LANG['navigator'] = 'Navigation management';\n   91  $_LANG['cron'] = 'Plan tasks';\n   92: $_LANG['affiliate'] = 'Suggested set';\n   93: $_LANG['affiliate_ck'] = 'Allowances management';\n   94  $_LANG['sitemap'] = 'Site Map Management';\n   95  $_LANG['file_check'] = 'File checksums';\n\n/Users/gaoyan/站点/other/济南机件/jj/languages/en_us/admin/users.php:\n   54  $_LANG['parent_user'] = 'Recommend people';\n   55  $_LANG['parent_remove'] = 'From relations recommend';\n   56: $_LANG['affiliate_user'] = 'Recommended Member';\n   57: $_LANG['show_affiliate_users'] = 'See a detailed list of recommended';\n   58: $_LANG['show_affiliate_orders'] = 'See Recommended Order Details';\n   59: $_LANG['affiliate_lever'] = 'Level';\n   60: $_LANG['affiliate_num'] = 'Number of user';\n   61  $_LANG['page_note'] = 'This list shows the user all the recommended membership information,';\n   62  $_LANG['how_many_user'] = 'users.';\n   63  $_LANG['back_note'] = 'Return to the user-edited page';\n   64: $_LANG['affiliate_level'] = 'Recommended Level';\n   65  \n   66  $_LANG['msn'] = 'MSN';\n\n/Users/gaoyan/站点/other/济南机件/jj/languages/en_us/user.php:\n   31  $_LANG['label_bonus'] = 'My Bonus';\n   32  $_LANG['label_comment'] = 'My comment';\n   33: $_LANG['label_affiliate'] = 'My recommendation';\n   34  $_LANG['label_group_buy'] = 'My Associates';\n   35  $_LANG['label_booking'] = 'Booking Records';\n   ..\n  542  \n  543  /* 用户推荐 */\n  544: $_LANG['affiliate_mode'] = 'Affiliate mode';\n  545: $_LANG['affiliate_detail'] = 'Affiliate Detail';\n  546: $_LANG['affiliate_member'] = 'Affiliate Member';\n  547: $_LANG['affiliate_code'] = 'Affiliate Code';\n  548  $_LANG['firefox_copy_alert'] = \"Your firefox security restrictions limit your clipboard to carry out the operation, open 'about: config' to signed.applets.codebase_principal_support 'is set to true' try again later\";\n  549: $_LANG['affiliate_type'][0] = 'Recommended registeration affiliate';\n  550: $_LANG['affiliate_type'][1] = 'Recommended order affiliate';\n  551: $_LANG['affiliate_type'][-1] = 'Recommended registeration affiliate';\n  552: $_LANG['affiliate_type'][-2] = 'Recommended order affiliate';\n  553  \n  554: $_LANG['affiliate_codetype'] = 'code type affiliate';\n  555  \n  556: $_LANG['affiliate_introduction'] = 'Affiliate introduction';\n  557: $_LANG['affiliate_intro'][0] = '　　We hold <b> recommended registeration affiliate </b> to encourage recommending new member to register. Flows are as following:\n  558  \n  559  　　1.  Send recommendation code offered by us to BBS and blog.\n  ...\n  563  　　5.  Deduction is checked and distribute by administrator, please wait.\n  564  　　6.  View your recommendation and affiliation on affiliation list.';\n  565: $_LANG['affiliate_intro'][1] = '　　We hold <b> Recommended order affiliate </b> to encourage recommending new member to register. Flows are as following:\n  566  \n  567  　　1.  Click Recommend the good to get recommendation code and send it to BBS and blog.\n  ...\n  572  　　6.  View your recommendation and affiliation on affiliation list.';\n  573  \n  574: $_LANG['level_point_all'] = 'level of all affiliated points';\n  575: $_LANG['level_money_all'] = 'level of all affiliated money';\n  576  $_LANG['level_register_all'] = 'level of registered points';\n  577  $_LANG['level_register_up'] = 'upper level of rank points';\n  578  \n  579: $_LANG['affiliate_stats'][0] = 'Waiting for processing';\n  580: $_LANG['affiliate_stats'][1] = 'Affiliated';\n  581: $_LANG['affiliate_stats'][2] = 'Cancel affiliate';\n  582: $_LANG['affiliate_stats'][3] = 'Canceled';\n  583: $_LANG['affiliate_stats'][4] = 'Buyers wait for payment';\n  584  \n  585  $_LANG['level_point'] = 'Level of points';\n  586  $_LANG['level_money'] = 'Level of money';\n  587  \n  588: $_LANG['affiliate_status'] = 'Affiliate status';\n  589  \n  590: $_LANG['affiliate_point'] = 'Point affiliate';\n  591: $_LANG['affiliate_money'] = 'Money affiliate';\n  592  \n  593: $_LANG['affiliate_expire'] = 'Time valid';\n  594  \n  595: $_LANG['affiliate_lever'] = 'Level';\n  596: $_LANG['affiliate_num'] = 'Number';\n  597  \n  598: $_LANG['affiliate_view'] = 'View';\n  599: $_LANG['affiliate_code'] = 'Code';\n  600  \n  601: $_LANG['register_affiliate'] = 'Points for recommended memberID %s ( %s ) registration';\n  602  $_LANG['register_points'] = 'Points for registeration';\n  603  \n\n/Users/gaoyan/站点/other/济南机件/jj/languages/zh_cn/admin/affiliate.php:\n   11   * ==========================================================\n   12   * $Author: liubo $\n   13:  * $Id: affiliate.php 17217 2011-01-19 06:29:08Z liubo $\n   14   */\n   15  \n\n/Users/gaoyan/站点/other/济南机件/jj/languages/zh_cn/admin/affiliate_ck.php:\n   11   * ==========================================================\n   12   * $Author: liubo $\n   13:  * $Id: affiliate_ck.php 17217 2011-01-19 06:29:08Z liubo $\n   14   */\n   15  \n   16  \n   17  $_LANG['order_id'] = '订单号';\n   18: $_LANG['affiliate_separate'] = '分成';\n   19: $_LANG['affiliate_cancel'] = '取消';\n   20: $_LANG['affiliate_rollback'] = '撤销';\n   21  $_LANG['log_info'] = '操作信息';\n   22  $_LANG['edit_ok'] = '操作成功';\n   ..\n   53  $_LANG['separate_by'][-2] = '推荐订单分成';\n   54  \n   55: $_LANG['show_affiliate_orders'] = '此列表显示此用户推荐的订单信息。';\n   56  $_LANG['back_note'] = '返回会员编辑页面';\n   57  ?>\n\n/Users/gaoyan/站点/other/济南机件/jj/languages/zh_cn/admin/common.php:\n  294  $_LANG['06_sms_charge_history'] = '充值记录';\n  295  \n  296: $_LANG['affiliate'] = '推荐设置';\n  297: $_LANG['affiliate_ck'] = '分成管理';\n  298  $_LANG['flashplay'] = '首页主广告管理';\n  299  $_LANG['search_log'] = '搜索关键字';\n\n/Users/gaoyan/站点/other/济南机件/jj/languages/zh_cn/admin/priv_action.php:\n   88  $_LANG['navigator'] = '自定义导航栏';\n   89  $_LANG['cron'] = '计划任务';\n   90: $_LANG['affiliate'] = '推荐设置';\n   91: $_LANG['affiliate_ck'] = '分成管理';\n   92  $_LANG['sitemap'] = '站点地图管理';\n   93  $_LANG['file_check'] = '文件校验';\n\n/Users/gaoyan/站点/other/济南机件/jj/languages/zh_cn/admin/users.php:\n   52  $_LANG['parent_user'] = '推荐人';\n   53  $_LANG['parent_remove'] = '脱离推荐关系';\n   54: $_LANG['affiliate_user'] = '推荐会员';\n   55: $_LANG['show_affiliate_users'] = '查看推荐详细名单';\n   56: $_LANG['show_affiliate_orders'] = '查看推荐订单详情';\n   57: $_LANG['affiliate_lever'] = '等级';\n   58: $_LANG['affiliate_num'] = '人数';\n   59  $_LANG['page_note'] = '此列表显示用户推荐的全部会员信息，';\n   60  $_LANG['how_many_user'] = '个会员。';\n   61  $_LANG['back_note'] = '返回会员编辑页面';\n   62: $_LANG['affiliate_level'] = '推荐等级';\n   63  \n   64  $_LANG['msn'] = 'MSN';\n\n/Users/gaoyan/站点/other/济南机件/jj/languages/zh_cn/user.php:\n   31  $_LANG['label_bonus'] = '我的红包';\n   32  $_LANG['label_comment'] = '我的评论';\n   33: $_LANG['label_affiliate'] = '我的推荐';\n   34  $_LANG['label_group_buy'] = '我的团购';\n   35  $_LANG['label_booking'] = '缺货登记';\n   ..\n  542  \n  543  /* 用户推荐 */\n  544: $_LANG['affiliate_mode'] = '分成模式';\n  545: $_LANG['affiliate_detail'] = '分成明细';\n  546: $_LANG['affiliate_member'] = '我推荐的会员';\n  547: $_LANG['affiliate_code'] = '推荐代码';\n  548  $_LANG['firefox_copy_alert'] = \"您的firefox安全限制限制您进行剪贴板操作，请打开’about:config’将signed.applets.codebase_principal_support’设置为true’之后重试\";\n  549: $_LANG['affiliate_type'][0] = '推荐注册分成';\n  550: $_LANG['affiliate_type'][1] = '推荐订单分成';\n  551: $_LANG['affiliate_type'][-1] = '推荐注册分成';\n  552: $_LANG['affiliate_type'][-2] = '推荐订单分成';\n  553  \n  554: $_LANG['affiliate_codetype'] = '格式';\n  555  \n  556: $_LANG['affiliate_introduction'] = '分成模式介绍';\n  557: $_LANG['affiliate_intro'][0] = '　　本网店为鼓励推荐新用户注册，现开展<b>推荐注册分成</b>活动，活动流程如下：\n  558  \n  559  　　１、将本站提供给您的推荐代码，发送到论坛、博客上。\n  ...\n  563  　　５、提成由管理员人工审核发放，请您耐心等待。\n  564  　　６、您可以通过分成明细来查看您的介绍、分成情况。';\n  565: $_LANG['affiliate_intro'][1] = '　　本网店为鼓励推荐新用户注册，现开展<b>推荐订单分成</b>活动，活动流程如下：\n  566  \n  567  　　１、在浏览商品时，点击推荐此商品，获得推荐代码，将其发送到论坛、博客上。\n  ...\n  577  $_LANG['level_register_up'] = '等级积分分成上限';\n  578  \n  579: $_LANG['affiliate_stats'][0] = '等待处理';\n  580: $_LANG['affiliate_stats'][1] = '已分成';\n  581: $_LANG['affiliate_stats'][2] = '取消分成';\n  582: $_LANG['affiliate_stats'][3] = '已撤销';\n  583: $_LANG['affiliate_stats'][4] = '等待买家付款';\n  584  \n  585  $_LANG['level_point'] = '积分分成百分比';\n  586  $_LANG['level_money'] = '现金分成百分比';\n  587  \n  588: $_LANG['affiliate_status'] = '分成状态';\n  589  \n  590: $_LANG['affiliate_point'] = '积分分成';\n  591: $_LANG['affiliate_money'] = '现金分成';\n  592  \n  593: $_LANG['affiliate_expire'] = '有效时间';\n  594  \n  595: $_LANG['affiliate_lever'] = '等级';\n  596: $_LANG['affiliate_num'] = '人数';\n  597  \n  598: $_LANG['affiliate_view'] = '效果';\n  599: $_LANG['affiliate_code'] = '代码';\n  600  \n  601: $_LANG['register_affiliate'] = '推荐会员ID %s ( %s ) 注册送积分';\n  602  $_LANG['register_points'] = '注册送积分';\n  603  \n\n/Users/gaoyan/站点/other/济南机件/jj/languages/zh_tw/admin/affiliate.php:\n   11   * ==========================================================\n   12   * $Author: liubo $\n   13:  * $Id: affiliate.php 17217 2011-01-19 06:29:08Z liubo $\n   14   */\n   15  \n\n/Users/gaoyan/站点/other/济南机件/jj/languages/zh_tw/admin/affiliate_ck.php:\n   11   * ==========================================================\n   12   * $Author: liubo $\n   13:  * $Id: affiliate_ck.php 17217 2011-01-19 06:29:08Z liubo $\n   14   */\n   15  \n   16  \n   17  $_LANG['order_id'] = '訂單號';\n   18: $_LANG['affiliate_separate'] = '分成';\n   19: $_LANG['affiliate_cancel'] = '取消';\n   20: $_LANG['affiliate_rollback'] = '撤銷';\n   21  $_LANG['log_info'] = '操作信息';\n   22  $_LANG['edit_ok'] = '操作成功';\n   ..\n   53  $_LANG['separate_by'][-2] = '推薦訂單分成';\n   54  \n   55: $_LANG['show_affiliate_orders'] = '此列表顯示此用戶推薦的訂單信息。';\n   56  $_LANG['back_note'] = '返回會員編輯頁面';\n   57  ?>\n\n/Users/gaoyan/站点/other/济南机件/jj/languages/zh_tw/admin/common.php:\n  294  $_LANG['06_sms_charge_history'] = '充值記錄';\n  295  \n  296: $_LANG['affiliate'] = '推薦設置';\n  297: $_LANG['affiliate_ck'] = '分成管理';\n  298  $_LANG['flashplay'] = '首页主广告管理';\n  299  $_LANG['search_log'] = '搜索關鍵字';\n\n/Users/gaoyan/站点/other/济南机件/jj/languages/zh_tw/admin/priv_action.php:\n   87  $_LANG['navigator'] = '自定義導航欄';\n   88  $_LANG['cron'] = '計劃任務';\n   89: $_LANG['affiliate'] = '推薦設置';\n   90: $_LANG['affiliate_ck'] = '分成管理';\n   91  $_LANG['sitemap'] = '站點地圖管理';\n   92  $_LANG['file_check'] = '文件校驗';\n\n/Users/gaoyan/站点/other/济南机件/jj/languages/zh_tw/admin/users.php:\n   52  $_LANG['parent_user'] = '推薦人';\n   53  $_LANG['parent_remove'] = '脫離推薦關係';\n   54: $_LANG['affiliate_user'] = '推薦會員';\n   55: $_LANG['show_affiliate_users'] = '查看推薦詳細名單';\n   56: $_LANG['show_affiliate_orders'] = '查看推薦訂單詳情';\n   57: $_LANG['affiliate_lever'] = '等級';\n   58: $_LANG['affiliate_num'] = '人數';\n   59  $_LANG['page_note'] = '此列表顯示用戶推薦的全部信息，';\n   60  $_LANG['how_many_user'] = '個會員。';\n   61  $_LANG['back_note'] = '返回會員編輯頁面';\n   62: $_LANG['affiliate_level'] = '推薦等級';\n   63  \n   64  $_LANG['msn'] = 'MSN';\n\n/Users/gaoyan/站点/other/济南机件/jj/languages/zh_tw/user.php:\n   31  $_LANG['label_bonus'] = '我的紅包';\n   32  $_LANG['label_comment'] = '我的評論';\n   33: $_LANG['label_affiliate'] = '我的推薦';\n   34  $_LANG['label_group_buy'] = '我的團購';\n   35  $_LANG['label_booking'] = '缺貨登記';\n   ..\n  542  \n  543  /* 用戶推薦 */\n  544: $_LANG['affiliate_mode'] = '分成模式';\n  545: $_LANG['affiliate_detail'] = '分成明細';\n  546: $_LANG['affiliate_member'] = '我推薦的會員';\n  547: $_LANG['affiliate_code'] = '推薦代碼';\n  548  $_LANG['firefox_copy_alert'] = \"您的firefox安全限制限制您進行剪貼板操作，請打開』about:config』將signed.applets.codebase_principal_support』設置為true』之後重試\";\n  549: $_LANG['affiliate_type'][0] = '推薦註冊分成';\n  550: $_LANG['affiliate_type'][1] = '推薦訂單分成';\n  551: $_LANG['affiliate_type'][-1] = '推薦註冊分成';\n  552: $_LANG['affiliate_type'][-2] = '推薦訂單分成';\n  553  \n  554: $_LANG['affiliate_codetype'] = '格式';\n  555  \n  556: $_LANG['affiliate_introduction'] = '分成模式介紹';\n  557: $_LANG['affiliate_intro'][0] = '　　本網店為鼓勵推薦新用戶註冊，現開展<b>推薦註冊分成</b>活動，活動流程如下：\n  558  \n  559  　　１、將本站提供給您的推薦代碼，發送到論壇、博客上。\n  ...\n  563  　　５、提成由管理員人工審核發放，請您耐心等待。\n  564  　　６、您可以通過分成明細來查看您的介紹、分成情況。';\n  565: $_LANG['affiliate_intro'][1] = '　　本網店為鼓勵推薦新用戶註冊，現開展<b>推薦訂單分成</b>活動，活動流程如下：\n  566  \n  567  　　１、在瀏覽商品時，點擊推薦此商品，獲得推薦代碼，將其發送到論壇、博客上。\n  ...\n  577  $_LANG['level_register_up'] = '等級積分分成上限';\n  578  \n  579: $_LANG['affiliate_stats'][0] = '等待處理';\n  580: $_LANG['affiliate_stats'][1] = '已分成';\n  581: $_LANG['affiliate_stats'][2] = '取消分成';\n  582: $_LANG['affiliate_stats'][3] = '已撤銷';\n  583: $_LANG['affiliate_stats'][4] = '等待買家付款';\n  584  \n  585  $_LANG['level_point'] = '積分分成百分比';\n  586  $_LANG['level_money'] = '現金分成百分比';\n  587  \n  588: $_LANG['affiliate_status'] = '分成狀態';\n  589  \n  590: $_LANG['affiliate_point'] = '積分分成';\n  591: $_LANG['affiliate_money'] = '現金分成';\n  592  \n  593: $_LANG['affiliate_expire'] = '有效時間';\n  594  \n  595: $_LANG['affiliate_lever'] = '等級';\n  596: $_LANG['affiliate_num'] = '人數';\n  597  \n  598: $_LANG['affiliate_view'] = '效果';\n  599: $_LANG['affiliate_code'] = '代碼';\n  600  \n  601: $_LANG['register_affiliate'] = '推薦會員ID %s ( %s ) 註冊送積分';\n  602  $_LANG['register_points'] = '註冊送積分';\n  603  \n\n/Users/gaoyan/站点/other/济南机件/jj/mobile/order.php:\n  479      }\n  480  \n  481:     $affiliate = unserialize($_CFG['affiliate']);\n  482  \n  483  \n\n/Users/gaoyan/站点/other/济南机件/jj/temp/static_caches/shop_config.php:\n  154    'sms_balance' => '',\n  155    'sms_last_request' => '',\n  156:   'affiliate' => 'a:3:{s:6:\"config\";a:7:{s:6:\"expire\";d:24;s:11:\"expire_unit\";s:4:\"hour\";s:11:\"separate_by\";i:0;s:15:\"level_point_all\";s:2:\"5%\";s:15:\"level_money_all\";s:2:\"1%\";s:18:\"level_register_all\";i:2;s:17:\"level_register_up\";i:60;}s:4:\"item\";a:4:{i:0;a:2:{s:11:\"level_point\";s:3:\"60%\";s:11:\"level_money\";s:3:\"60%\";}i:1;a:2:{s:11:\"level_point\";s:3:\"30%\";s:11:\"level_money\";s:3:\"30%\";}i:2;a:2:{s:11:\"level_point\";s:2:\"7%\";s:11:\"level_money\";s:2:\"7%\";}i:3;a:2:{s:11:\"level_point\";s:2:\"3%\";s:11:\"level_money\";s:2:\"3%\";}}s:2:\"on\";i:1;}',\n  157    'captcha' => '0',\n  158    'captcha_width' => '100',\n\n/Users/gaoyan/站点/other/济南机件/jj/themes/default/goods.dwt:\n  393        <a href=\"javascript:addToCart({$goods.goods_id})\"><img src=\"images/bnt_cat.gif\" /></a>\n  394        <a href=\"javascript:collect({$goods.goods_id})\"><img src=\"images/bnt_colles.gif\" /></a>\n  395:       <!-- {if $affiliate.on} -->\n  396:       <a href=\"user.php?act=affiliate&goodsid={$goods.goods_id}\"><img src='images/bnt_recommend.gif'></a>\n  397        <!-- {/if} -->\n  398        </li>\n\n/Users/gaoyan/站点/other/济南机件/jj/themes/default/library/user_menu.lbi:\n   12  <a href=\"user.php?act=booking_list\"{if $action eq 'booking_list'}class=\"curs\"{/if}><img src=\"../images/u8.gif\"> {$lang.label_booking}</a>\n   13  <a href=\"user.php?act=bonus\"{if $action eq 'bonus'}class=\"curs\"{/if}><img src=\"../images/u9.gif\"> {$lang.label_bonus}</a>\n   14: <!-- {if $affiliate.on eq 1} --><a href=\"user.php?act=affiliate\"{if $action eq 'affiliate'}class=\"curs\"{/if}><img src=\"../images/u10.gif\"> {$lang.label_affiliate}</a><!-- {/if} -->\n   15  <a href=\"user.php?act=comment_list\"{if $action eq 'comment_list'}class=\"curs\"{/if}><img src=\"../images/u11.gif\"> {$lang.label_comment}</a>\n   16  <!--<a href=\"user.php?act=group_buy\">{$lang.label_group_buy}</a>-->\n\n/Users/gaoyan/站点/other/济南机件/jj/themes/default/user_clips.dwt:\n  240       <div class=\"blank5\"></div>\n  241  \n  242:     <h5><span>{$lang.label_affiliate}</span></h5>\n  243      <div class=\"blank\"></div>\n  244       <form name=\"theForm\" method=\"post\" action=\"\">\n  ...\n  411      <!-- {/if} -->\n  412      <!-- *我的推荐 -->\n  413:     <!-- {if $affiliate.on eq 1} -->\n  414:      <!-- {if $action eq 'affiliate'} -->\n  415        <!-- {if !$goodsid || $goodsid eq 0} -->\n  416:       <h5><span>{$lang.affiliate_detail}</span></h5>\n  417        <div class=\"blank\"></div>\n  418:      {$affiliate_intro}\n  419:     <!-- {if $affiliate.config.separate_by eq 0} -->\n  420      <!-- 下线人数、分成 -->\n  421      <div class=\"blank\"></div>\n  422:     <h5><span><a name=\"myrecommend\">{$lang.affiliate_member}</a></span></h5>\n  423      <div class=\"blank\"></div>\n  424     <table width=\"100%\" border=\"0\" cellpadding=\"5\" cellspacing=\"1\" bgcolor=\"#dddddd\">\n  425      <tr align=\"center\">\n  426:       <td bgcolor=\"#ffffff\">{$lang.affiliate_lever}</td>\n  427:       <td bgcolor=\"#ffffff\">{$lang.affiliate_num}</td>\n  428        <td bgcolor=\"#ffffff\">{$lang.level_point}</td>\n  429        <td bgcolor=\"#ffffff\">{$lang.level_money}</td>\n  ...\n  450      <tr align=\"center\">\n  451        <td bgcolor=\"#ffffff\">{$lang.order_number}</td>\n  452:       <td bgcolor=\"#ffffff\">{$lang.affiliate_money}</td>\n  453:       <td bgcolor=\"#ffffff\">{$lang.affiliate_point}</td>\n  454:       <td bgcolor=\"#ffffff\">{$lang.affiliate_mode}</td>\n  455:       <td bgcolor=\"#ffffff\">{$lang.affiliate_status}</td>\n  456      </tr>\n  457      <!-- {foreach from=$logdb item=val name=logdb} -->\n  ...\n  460        <td bgcolor=\"#ffffff\">{$val.money}</td>\n  461        <td bgcolor=\"#ffffff\">{$val.point}</td>\n  462:       <td bgcolor=\"#ffffff\"><!-- {if $val.separate_type == 1 || $val.separate_type === 0} -->{$lang.affiliate_type.$val.separate_type}<!-- {else} -->{$lang.affiliate_type.$affiliate_type}<!-- {/if} --></td>\n  463:       <td bgcolor=\"#ffffff\">{$lang.affiliate_stats[$val.is_separate]}</td>\n  464      </tr>\n  465      {foreachelse}\n  ...\n  475      {html_options options=$pager.array selected=$pager.page}\n  476      </select>\n  477:     <input type=\"hidden\" name=\"act\" value=\"affiliate\" />\n  478    </div>\n  479  </form>\n  ...\n  494  <!-- /我的推荐清单 -->\n  495  <div class=\"blank\"></div>\n  496: <h5><span>{$lang.affiliate_code}</span></h5>\n  497  <div class=\"blank\"></div>\n  498  <table width=\"100%\" border=\"0\" cellpadding=\"5\" cellspacing=\"1\" bgcolor=\"#dddddd\">\n  ...\n  520          .types a{ text-decoration:none; color:#006bd0;}\n  521          </style>\n  522:     <h5><span>{$lang.affiliate_code}</span></h5>\n  523      <div class=\"blank\"></div>\n  524    <table width=\"100%\" border=\"0\" cellpadding=\"5\" cellspacing=\"1\" bgcolor=\"#dddddd\">\n  525      <tr align=\"center\">\n  526:       <td bgcolor=\"#ffffff\">{$lang.affiliate_view}</td>\n  527:       <td bgcolor=\"#ffffff\">{$lang.affiliate_code}</td>\n  528      </tr>\n  529      <!-- {foreach from=$types item=val name=types} -->\n  530      <tr align=\"center\">\n  531:       <td bgcolor=\"#ffffff\" class=\"types\"><script src=\"{$shopurl}affiliate.php?charset={$ecs_charset}&gid={$goodsid}&u={$userid}&type={$val}\"></script></td>\n  532:       <td bgcolor=\"#ffffff\">javascript {$lang.affiliate_codetype}<br>\n  533:         <textarea cols=30 rows=2 id=\"txt{$smarty.foreach.types.iteration}\" style=\"border:1px solid #ccc;\"><script src=\"{$shopurl}affiliate.php?charset={$ecs_charset}&gid={$goodsid}&u={$userid}&type={$val}\"></script></textarea>[<a href=\"#\" title=\"Copy To Clipboard\" onClick=\"Javascript:copyToClipboard(document.getElementById('txt{$smarty.foreach.types.iteration}').value);alert('{$lang.copy_to_clipboard}');\"  class=\"f6\">{$lang.code_copy}</a>]\n  534: <br>iframe {$lang.affiliate_codetype}<br><textarea cols=30 rows=2 id=\"txt{$smarty.foreach.types.iteration}_iframe\"  style=\"border:1px solid #ccc;\"><iframe width=\"250\" height=\"270\" src=\"{$shopurl}affiliate.php?charset={$ecs_charset}&gid={$goodsid}&u={$userid}&type={$val}&display_mode=iframe\" frameborder=\"0\" scrolling=\"no\"></iframe></textarea>[<a href=\"#\" title=\"Copy To Clipboard\" onClick=\"Javascript:copyToClipboard(document.getElementById('txt{$smarty.foreach.types.iteration}_iframe').value);alert('{$lang.copy_to_clipboard}');\" class=\"f6\">{$lang.code_copy}</a>]\n  535: <br />{$lang.bbs}UBB {$lang.affiliate_codetype}<br /><textarea cols=30 rows=2 id=\"txt{$smarty.foreach.types.iteration}_ubb\"  style=\"border:1px solid #ccc;\">{if $val != 5}[url={$shopurl}goods.php?id={$goodsid}&u={$userid}][img]{if $val < 3}{$goods.goods_thumb}{else}{$goods.goods_img}{/if}[/img][/url]{/if}\n  536  \n  537  [url={$shopurl}goods.php?id={$goodsid}&u={$userid}][b]{$goods.goods_name}[/b][/url]\n  538  {if $val != 1 && $val != 3}[s]{$goods.market_price}[/s]{/if} [color=red]{$goods.shop_price}[/color]</textarea>[<a href=\"#\" title=\"Copy To Clipboard\" onClick=\"Javascript:copyToClipboard(document.getElementById('txt{$smarty.foreach.types.iteration}_ubb').value);alert('{$lang.copy_to_clipboard}');\"  class=\"f6\">{$lang.code_copy}</a>]\n  539: {if $val == 5}<br />{$lang.im_code} {$lang.affiliate_codetype}<br /><textarea cols=30 rows=2 id=\"txt{$smarty.foreach.types.iteration}_txt\"  style=\"border:1px solid #ccc;\">{$lang.show_good_to_you} {$goods.goods_name}\n  540  \n  541  {$shopurl}goods.php?id={$goodsid}&u={$userid}</textarea>[<a href=\"#\" title=\"Copy To Clipboard\" onClick=\"Javascript:copyToClipboard(document.getElementById('txt{$smarty.foreach.types.iteration}_txt').value);alert('{$lang.copy_to_clipboard}');\"  class=\"f6\">{$lang.code_copy}</a>]{/if}</td>\n\n/Users/gaoyan/站点/other/济南机件/jj/themes/jd2013/library/user_menu.lbi:\n   28  					  <!--{/if}-->					\n   29  					  <div class=\"item {if $action eq 'bonus'} curr{/if}\"><a href=\"user.php?act=bonus\">{$lang.label_bonus}</a></div>\n   30: 				<!-- {if $affiliate.on eq 1} --><div class=\"item {if $action eq 'affiliate'} curr{/if}\"><a href=\"user.php?act=affiliate\">{$lang.label_affiliate}</a></div><!-- {/if} -->\n   31  			</dd>\n   32  		</dl>	\n\n/Users/gaoyan/站点/other/济南机件/jj/themes/jd2013/user_clips.dwt:\n  229       <div class=\"blank5\"></div>\n  230  \n  231:     <h5><span>{$lang.label_affiliate}</span></h5>\n  232      <div class=\"blank\"></div>\n  233       <form name=\"theForm\" method=\"post\" action=\"\">\n  ...\n  400      <!-- {/if} -->\n  401      <!-- *我的推荐 -->\n  402:     <!-- {if $affiliate.on eq 1} -->\n  403:      <!-- {if $action eq 'affiliate'} -->\n  404        <!-- {if !$goodsid || $goodsid eq 0} -->\n  405:       <h5><span>{$lang.affiliate_detail}</span></h5>\n  406        <div class=\"blank\"></div>\n  407:      {$affiliate_intro}\n  408:     <!-- {if $affiliate.config.separate_by eq 0} -->\n  409      <!-- 下线人数、分成 -->\n  410      <div class=\"blank\"></div>\n  411:     <h5><span><a name=\"myrecommend\">{$lang.affiliate_member}</a></span></h5>\n  412      <div class=\"blank\"></div>\n  413     <table width=\"100%\" border=\"0\" cellpadding=\"5\" cellspacing=\"1\" bgcolor=\"#dddddd\">\n  414      <tr align=\"center\">\n  415:       <td bgcolor=\"#ffffff\">{$lang.affiliate_lever}</td>\n  416:       <td bgcolor=\"#ffffff\">{$lang.affiliate_num}</td>\n  417        <td bgcolor=\"#ffffff\">{$lang.level_point}</td>\n  418        <td bgcolor=\"#ffffff\">{$lang.level_money}</td>\n  ...\n  439      <tr align=\"center\">\n  440        <td bgcolor=\"#ffffff\">{$lang.order_number}</td>\n  441:       <td bgcolor=\"#ffffff\">{$lang.affiliate_money}</td>\n  442:       <td bgcolor=\"#ffffff\">{$lang.affiliate_point}</td>\n  443:       <td bgcolor=\"#ffffff\">{$lang.affiliate_mode}</td>\n  444:       <td bgcolor=\"#ffffff\">{$lang.affiliate_status}</td>\n  445      </tr>\n  446      <!-- {foreach from=$logdb item=val name=logdb} -->\n  ...\n  449        <td bgcolor=\"#ffffff\">{$val.money}</td>\n  450        <td bgcolor=\"#ffffff\">{$val.point}</td>\n  451:       <td bgcolor=\"#ffffff\"><!-- {if $val.separate_type == 1 || $val.separate_type === 0} -->{$lang.affiliate_type.$val.separate_type}<!-- {else} -->{$lang.affiliate_type.$affiliate_type}<!-- {/if} --></td>\n  452:       <td bgcolor=\"#ffffff\">{$lang.affiliate_stats[$val.is_separate]}</td>\n  453      </tr>\n  454      {foreachelse}\n  ...\n  464      {html_options options=$pager.array selected=$pager.page}\n  465      </select>\n  466:     <input type=\"hidden\" name=\"act\" value=\"affiliate\" />\n  467    </div>\n  468  </form>\n  ...\n  483  <!-- /我的推荐清单 -->\n  484  <div class=\"blank\"></div>\n  485: <h5><span>{$lang.affiliate_code}</span></h5>\n  486  <div class=\"blank\"></div>\n  487  <table width=\"100%\" border=\"0\" cellpadding=\"5\" cellspacing=\"1\" bgcolor=\"#dddddd\">\n  ...\n  509          .types a{ text-decoration:none; color:#006bd0;}\n  510          </style>\n  511:     <h5><span>{$lang.affiliate_code}</span></h5>\n  512      <div class=\"blank\"></div>\n  513    <table width=\"100%\" border=\"0\" cellpadding=\"5\" cellspacing=\"1\" bgcolor=\"#dddddd\">\n  514      <tr align=\"center\">\n  515:       <td bgcolor=\"#ffffff\">{$lang.affiliate_view}</td>\n  516:       <td bgcolor=\"#ffffff\">{$lang.affiliate_code}</td>\n  517      </tr>\n  518      <!-- {foreach from=$types item=val name=types} -->\n  519      <tr align=\"center\">\n  520:       <td bgcolor=\"#ffffff\" class=\"types\"><script src=\"{$shopurl}affiliate.php?charset={$ecs_charset}&gid={$goodsid}&u={$userid}&type={$val}\"></script></td>\n  521:       <td bgcolor=\"#ffffff\">javascript {$lang.affiliate_codetype}<br>\n  522:         <textarea cols=30 rows=2 id=\"txt{$smarty.foreach.types.iteration}\" style=\"border:1px solid #ccc;\"><script src=\"{$shopurl}affiliate.php?charset={$ecs_charset}&gid={$goodsid}&u={$userid}&type={$val}\"></script></textarea>[<a href=\"#\" title=\"Copy To Clipboard\" onClick=\"Javascript:copyToClipboard(document.getElementById('txt{$smarty.foreach.types.iteration}').value);alert('{$lang.copy_to_clipboard}');\"  class=\"f6\">{$lang.code_copy}</a>]\n  523: <br>iframe {$lang.affiliate_codetype}<br><textarea cols=30 rows=2 id=\"txt{$smarty.foreach.types.iteration}_iframe\"  style=\"border:1px solid #ccc;\"><iframe width=\"250\" height=\"270\" src=\"{$shopurl}affiliate.php?charset={$ecs_charset}&gid={$goodsid}&u={$userid}&type={$val}&display_mode=iframe\" frameborder=\"0\" scrolling=\"no\"></iframe></textarea>[<a href=\"#\" title=\"Copy To Clipboard\" onClick=\"Javascript:copyToClipboard(document.getElementById('txt{$smarty.foreach.types.iteration}_iframe').value);alert('{$lang.copy_to_clipboard}');\" class=\"f6\">{$lang.code_copy}</a>]\n  524: <br />{$lang.bbs}UBB {$lang.affiliate_codetype}<br /><textarea cols=30 rows=2 id=\"txt{$smarty.foreach.types.iteration}_ubb\"  style=\"border:1px solid #ccc;\">{if $val != 5}[url={$shopurl}goods.php?id={$goodsid}&u={$userid}][img]{if $val < 3}{$goods.goods_thumb}{else}{$goods.goods_img}{/if}[/img][/url]{/if}\n  525  \n  526  [url={$shopurl}goods.php?id={$goodsid}&u={$userid}][b]{$goods.goods_name}[/b][/url]\n  527  {if $val != 1 && $val != 3}[s]{$goods.market_price}[/s]{/if} [color=red]{$goods.shop_price}[/color]</textarea>[<a href=\"#\" title=\"Copy To Clipboard\" onClick=\"Javascript:copyToClipboard(document.getElementById('txt{$smarty.foreach.types.iteration}_ubb').value);alert('{$lang.copy_to_clipboard}');\"  class=\"f6\">{$lang.code_copy}</a>]\n  528: {if $val == 5}<br />{$lang.im_code} {$lang.affiliate_codetype}<br /><textarea cols=30 rows=2 id=\"txt{$smarty.foreach.types.iteration}_txt\"  style=\"border:1px solid #ccc;\">{$lang.show_good_to_you} {$goods.goods_name}\n  529  \n  530  {$shopurl}goods.php?id={$goodsid}&u={$userid}</textarea>[<a href=\"#\" title=\"Copy To Clipboard\" onClick=\"Javascript:copyToClipboard(document.getElementById('txt{$smarty.foreach.types.iteration}_txt').value);alert('{$lang.copy_to_clipboard}');\"  class=\"f6\">{$lang.code_copy}</a>]{/if}</td>\n\n/Users/gaoyan/站点/other/济南机件/jj/user.php:\n   24  $action  = isset($_REQUEST['act']) ? trim($_REQUEST['act']) : 'default';\n   25  \n   26: $affiliate = unserialize($GLOBALS['_CFG']['affiliate']);\n   27: $smarty->assign('affiliate', $affiliate);\n   28  $back_act='';\n   29  \n   ..\n   36  $ui_arr = array('register', 'login', 'profile', 'order_list', 'order_detail', 'address_list', 'collection_list',\n   37  'message_list', 'tag_list', 'get_password', 'reset_password', 'booking_list', 'add_booking', 'account_raply',\n   38: 'account_deposit', 'account_log', 'account_detail', 'act_account', 'pay', 'default', 'bonus', 'group_buy', 'group_buy_detail', 'affiliate', 'comment_list','validate_email','track_packages', 'transform_points','qpassword_name', 'get_passwd_question', 'check_answer','order_list_c1','order_list_c2');\n   39  \n   40  /* 未登录处理 */\n   ..\n 2113  \n 2114  // 用户推荐页面\n 2115: elseif ($action == 'affiliate')\n 2116  {\n 2117      $goodsid = intval(isset($_REQUEST['goodsid']) ? $_REQUEST['goodsid'] : 0);\n ....\n 2123          $size       = !empty($_CFG['page_size']) && intval($_CFG['page_size']) > 0 ? intval($_CFG['page_size']) : 10;\n 2124  \n 2125:         empty($affiliate) && $affiliate = array();\n 2126  \n 2127:         if(empty($affiliate['config']['separate_by']))\n 2128          {\n 2129              //推荐注册分成\n 2130              $affdb = array();\n 2131:             $num = count($affiliate['item']);\n 2132              $up_uid = \"'$user_id'\";\n 2133              $all_uid = \"'$user_id'\";\n ....\n 2151                  }\n 2152                  $affdb[$i]['num'] = $count;\n 2153:                 $affdb[$i]['point'] = $affiliate['item'][$i-1]['level_point'];\n 2154:                 $affdb[$i]['money'] = $affiliate['item'][$i-1]['level_money'];\n 2155              }\n 2156              $smarty->assign('affdb', $affdb);\n ....\n 2158              $sqlcount = \"SELECT count(*) FROM \" . $ecs->table('order_info') . \" o\".\n 2159          \" LEFT JOIN\".$ecs->table('users').\" u ON o.user_id = u.user_id\".\n 2160:         \" LEFT JOIN \" . $ecs->table('affiliate_log') . \" a ON o.order_id = a.order_id\" .\n 2161          \" WHERE o.user_id > 0 AND (u.parent_id IN ($all_uid) AND o.is_separate = 0 OR a.user_id = '$user_id' AND o.is_separate > 0)\";\n 2162  \n 2163              $sql = \"SELECT o.*, a.log_id, a.user_id as suid,  a.user_name as auser, a.money, a.point, a.separate_type FROM \" . $ecs->table('order_info') . \" o\".\n 2164                      \" LEFT JOIN\".$ecs->table('users').\" u ON o.user_id = u.user_id\".\n 2165:                     \" LEFT JOIN \" . $ecs->table('affiliate_log') . \" a ON o.order_id = a.order_id\" .\n 2166          \" WHERE o.user_id > 0 AND (u.parent_id IN ($all_uid) AND o.is_separate = 0 OR a.user_id = '$user_id' AND o.is_separate > 0)\".\n 2167                      \" ORDER BY order_id DESC\" ;\n ....\n 2181              */\n 2182  \n 2183:             $affiliate_intro = nl2br(sprintf($_LANG['affiliate_intro'][$affiliate['config']['separate_by']], $affiliate['config']['expire'], $_LANG['expire_unit'][$affiliate['config']['expire_unit']], $affiliate['config']['level_register_all'], $affiliate['config']['level_register_up'], $affiliate['config']['level_money_all'], $affiliate['config']['level_point_all']));\n 2184          }\n 2185          else\n ....\n 2188              $sqlcount = \"SELECT count(*) FROM \" . $ecs->table('order_info') . \" o\".\n 2189                      \" LEFT JOIN\".$ecs->table('users').\" u ON o.user_id = u.user_id\".\n 2190:                     \" LEFT JOIN \" . $ecs->table('affiliate_log') . \" a ON o.order_id = a.order_id\" .\n 2191                      \" WHERE o.user_id > 0 AND (o.parent_id = '$user_id' AND o.is_separate = 0 OR a.user_id = '$user_id' AND o.is_separate > 0)\";\n 2192  \n ....\n 2194              $sql = \"SELECT o.*, a.log_id,a.user_id as suid, a.user_name as auser, a.money, a.point, a.separate_type,u.parent_id as up FROM \" . $ecs->table('order_info') . \" o\".\n 2195                      \" LEFT JOIN\".$ecs->table('users').\" u ON o.user_id = u.user_id\".\n 2196:                     \" LEFT JOIN \" . $ecs->table('affiliate_log') . \" a ON o.order_id = a.order_id\" .\n 2197                      \" WHERE o.user_id > 0 AND (o.parent_id = '$user_id' AND o.is_separate = 0 OR a.user_id = '$user_id' AND o.is_separate > 0)\" .\n 2198                      \" ORDER BY order_id DESC\" ;\n ....\n 2211              */\n 2212  \n 2213:             $affiliate_intro = nl2br(sprintf($_LANG['affiliate_intro'][$affiliate['config']['separate_by']], $affiliate['config']['expire'], $_LANG['expire_unit'][$affiliate['config']['expire_unit']], $affiliate['config']['level_money_all'], $affiliate['config']['level_point_all']));\n 2214  \n 2215          }\n ....\n 2229              if(!empty($rt['suid']))\n 2230              {\n 2231:                 //在affiliate_log有记录\n 2232                  if($rt['separate_type'] == -1 || $rt['separate_type'] == -2)\n 2233                  {\n ....\n 2240          }\n 2241  \n 2242:         $url_format = \"user.php?act=affiliate&page=\";\n 2243  \n 2244          $pager = array(\n ....\n 2264  \n 2265  \n 2266:         $smarty->assign('affiliate_intro', $affiliate_intro);\n 2267:         $smarty->assign('affiliate_type', $affiliate['config']['separate_by']);\n 2268  \n 2269          $smarty->assign('logdb', $logdb);\n\n505 matches across 50 files\n",
			"settings":
			{
				"buffer_size": 78174,
				"line_ending": "Unix",
				"name": "Find Results",
				"scratch": true
			}
		},
		{
			"contents": "CREATE TABLE `tp30_cart` (\n  `rec_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID号',\n  `openid` varchar(50) NOT NULL DEFAULT '无' COMMENT '微信用户openid',\n  `wxuser_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '微信用户ID，前期关联openid',\n  `goods_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '商品的id，取自表goods的goods_id',\n  `goods_sn` varchar(60) NOT NULL DEFAULT '' COMMENT '商品的货号，取自表goods的goods_sn',\n  `goods_name` varchar(120) NOT NULL DEFAULT '' COMMENT '商品的名称，取自表goods的goods_name',\n  `goods_pic` varchar(120) NOT NULL DEFAULT '' COMMENT '商品logo',\n  `goods_price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '商品加入购物车时的价格，如果有优惠直接为优惠后的价格',\n  `goods_number` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '商品的购买数量，在购物车时，实际库存不减少',\n  `goods_sku` text NOT NULL COMMENT '商品的属性，中括号里是该属性特有的价格',\n  `goods_sku_id` varchar(255) NOT NULL DEFAULT '' COMMENT '该商品的属性的id，取自goods_attr的goods_attr_id',\n  `mall_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '导购ID',\n  `store_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '屋里店铺ID',\n  PRIMARY KEY (`rec_id`)\n) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8 ROW_FORMAT=COMPACT",
			"settings":
			{
				"buffer_size": 1157,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "CREATE TABLE `tp30_order_info` (\n  `order_id` int(11) unsigned NOT NULL AUTO_INCREMENT COMMENT '订单详细信息自增id',\n  `order_sn` varchar(20) NOT NULL DEFAULT '' COMMENT '订单号，唯一',\n  `mall_id` int(11) NOT NULL COMMENT '商户ID',\n  `user_id` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '用户id，同ecs_users的user_id',\n  `order_status` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '订单状态。0，未确认；1，已确认；2，已取消；3，无效；4，退货；',\n  `shipping_status` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '商品配送情况，0，未发货； 1，已发货；2，已收货；3，备货中',\n  `pay_status` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '支付状态；0，未付款；1，付款中；2，已付款',\n  `consignee` varchar(60) NOT NULL DEFAULT '' COMMENT '收货人的姓名，用户页面填写，默认取值于表 user_address',\n  `country` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '收货人的国家，用户页面填写，默认取值于表user_address，其id对应的值在ecs_region',\n  `province` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '收货人的省份，用户页面填写，默认取值于表user_address，其id对应的值在ecs_region',\n  `city` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '收货人的城市，用户页面填写，默认取值于表user_address，其id对应的值在ecs_region',\n  `district` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '收货人的地区，用户页面填写，默认取值于表user_address，其id对应的值在ecs_region',\n  `address` varchar(255) NOT NULL DEFAULT '' COMMENT '收货人的详细地址，用户页面填写，默认取值于表 user_address',\n  `zipcode` varchar(60) NOT NULL DEFAULT '' COMMENT '收货人的邮编，用户页面填写，默认取值于表 user_address',\n  `tel` varchar(60) NOT NULL DEFAULT '' COMMENT '收货人的电话，用户页面填写，默认取值于表user_address',\n  `mobile` varchar(60) NOT NULL DEFAULT '' COMMENT '收货人的手机，用户页面填写，默认取值于表user_address',\n  `email` varchar(60) NOT NULL DEFAULT '' COMMENT '收货人的邮箱，用户页面填写，默认取值于表user_address',\n  `best_time` varchar(120) NOT NULL DEFAULT '' COMMENT 'varchar 收货人的最佳送货时间，用户页面填写，默认取值于表 user_address',\n  `postscript` varchar(255) NOT NULL DEFAULT '' COMMENT '订单附言，由用户提交订单前填写',\n  `shipping_id` tinyint(3) NOT NULL DEFAULT '0' COMMENT '用户选择的配送方式id，取值表 ecs_shipping',\n  `shipping_name` varchar(120) NOT NULL DEFAULT '' COMMENT '用户选择的配送方式的名称，取值表ecs_shipping',\n  `pay_id` tinyint(3) NOT NULL DEFAULT '0' COMMENT '用户选择的支付方式的id，取值表ecs_payment',\n  `pay_name` varchar(120) NOT NULL DEFAULT '' COMMENT '用户选择的支付方式的名称，取值表ecs_payment',\n  `how_oos` varchar(120) NOT NULL DEFAULT '' COMMENT '缺货处理方式，等待所有商品备齐后再发； 取消订单；与店主协商',\n  `inv_payee` varchar(120) NOT NULL DEFAULT '' COMMENT '发票抬头，用户页面填写',\n  `inv_content` varchar(120) NOT NULL DEFAULT '' COMMENT '发票内容，用户页面选择，取值ecs_shop_config的 code字段的值为invoice_content的value',\n  `goods_amount` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '商品总金额',\n  `shipping_fee` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '配送费用',\n  `insure_fee` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '保价费用',\n  `pay_fee` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '支付费用,跟支付方式的配置相关，取值表ecs_payment',\n  `money_paid` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '已付款金额',\n  `order_amount` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '应付款金额',\n  `from_ad` smallint(5) NOT NULL DEFAULT '0' COMMENT '订单由某广告带来的广告id，应该取值于 ecs_ad',\n  `referer` varchar(255) NOT NULL DEFAULT '' COMMENT '订单的来源页面',\n  `create_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '订单生成时间',\n  `confirm_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '订单确认时间',\n  `pay_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '订单支付时间',\n  `shipping_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '订单配送时间',\n  `update_time` int(10) NOT NULL COMMENT '订单更新时间',\n  `invoice_no` varchar(255) NOT NULL DEFAULT '' COMMENT '发货单号，发货时填写，可在订单查询查看',\n  `to_buyer` varchar(255) NOT NULL DEFAULT '' COMMENT '商家给客户的留言,当该字段有值时可以在订单查询看到',\n  `pay_note` varchar(255) NOT NULL DEFAULT '' COMMENT '付款备注，在订单管理里编辑修改',\n  `inv_type` varchar(60) NOT NULL COMMENT '发票类型，用户页面选择，取值ecs_shop_config的code字段的值为invoice_type的value',\n  `tax` decimal(10,2) NOT NULL COMMENT '发票税额',\n  `is_separate` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0，未分成或等待分成；1，已分成；2，取消分成；',\n  `discount` decimal(10,2) NOT NULL COMMENT '折扣金额',\n  PRIMARY KEY (`order_id`),\n  UNIQUE KEY `order_sn` (`order_sn`)\n) ENGINE=InnoDB AUTO_INCREMENT=219 DEFAULT CHARSET=utf8 ROW_FORMAT=COMPACT",
			"settings":
			{
				"buffer_size": 3991,
				"line_ending": "Unix",
				"name": "CREATE TABLE `tp30_order_info` ("
			}
		}
	],
	"build_system": "",
	"command_palette":
	{
		"height": 71.0,
		"selected_items":
		[
			[
				"sql",
				"Set Syntax: SQL"
			],
			[
				"diff",
				"Set Syntax: Diff"
			],
			[
				"in",
				"Package Control: Install Package"
			],
			[
				"php",
				"Set Syntax: PHP"
			],
			[
				"find",
				"Find: In Open Files"
			],
			[
				"ctag",
				"CTags: Rebuild Tags"
			],
			[
				"upload",
				"SFTP: Upload Open Files"
			],
			[
				"re",
				"Package Control: Remove Package"
			],
			[
				"status",
				"StatusMessage: Toggle default status"
			],
			[
				"remo",
				"Package Control: Remove Package"
			],
			[
				"remove",
				"BracketHighlighter: Remove Brackets"
			],
			[
				"macx",
				"Bookmarks: Select Next"
			],
			[
				"cop",
				"Copy File Path"
			],
			[
				"openurl ",
				"Open URL"
			],
			[
				"op",
				"Open URL"
			],
			[
				"open",
				"Open: Browse"
			],
			[
				"find:",
				"Find: In Project"
			],
			[
				"list",
				"Package Control: List Packages"
			],
			[
				"rem",
				"Package Control: Remove Package"
			],
			[
				"pack",
				"Package Control: Remove Package"
			],
			[
				"history",
				"File History: Open recently closed file (All Projects)"
			],
			[
				"clone",
				"CloneFile: Clone"
			],
			[
				"",
				"BracketHighlighter: Toggle High Visibility Mode"
			],
			[
				"bar",
				"View: Toggle Side Bar"
			],
			[
				"deff",
				"Git: Diff Current File"
			],
			[
				"ssh",
				"Set Syntax: SSH Config"
			],
			[
				"tabs",
				"Tag: Fold Attributes"
			],
			[
				"tab",
				"View: Toggle Tabs"
			],
			[
				"format",
				"Tag: Auto-Format Tags on Selection"
			],
			[
				"pa",
				"Package Control: Remove Package"
			],
			[
				"his",
				"File History: Open recently closed file (Current Project)"
			],
			[
				"sv",
				"Preferences: SVN Settings"
			],
			[
				"svn",
				"SVN: Checkout…"
			],
			[
				"git",
				"Git: Diff"
			],
			[
				"c",
				"Git: Diff Cached"
			],
			[
				"ch",
				"Change List: Show"
			],
			[
				"change",
				"Change List: Show"
			],
			[
				"PHP Code Sniffer: ",
				"PHP Code Sniffer: Clear sniffer marks"
			],
			[
				"ins",
				"Package Control: Install Package"
			],
			[
				"jquery",
				"Set Syntax: jQuery (JavaScript)"
			],
			[
				"ina",
				"Package Control: Install Package"
			],
			[
				"inst",
				"Package Control: Install Package"
			],
			[
				"package",
				"Package Control: Install Package"
			],
			[
				"mark",
				"Set Syntax: Markdown"
			]
		],
		"width": 448.0
	},
	"console":
	{
		"height": 160.0,
		"history":
		[
			"echo 11;",
			"config",
			"\"cmd\": [\"opendiff\", \"1.txt\", \"2.txt\"]",
			"cmd: [\"opendiff\", \"1.txt\", \"2.txt\"]",
			"cmd\": [\"opendiff\", \"1.txt\", \"2.txt\"]",
			"cmd\": [\"opendiff\", \"$file1\", \"$file2\"]",
			"\"cmd\": [\"opendiff\", \"$file1\", \"$file2\"]",
			"cmd",
			"c m d"
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/Users/gaoyan/站点/other/济南机件/jj",
		"/Users/gaoyan/站点/other/济南机件/jj/plugins",
		"/Users/gaoyan/站点/other/济南机件/jj/themes"
	],
	"file_history":
	[
		"/Users/gaoyan/站点/other/济南机件/jj/themes/default/flow.dwt",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/affiliate.php",
		"/Users/gaoyan/站点/other/济南机件/jj/languages/zh_cn/shopping_flow.php",
		"/Users/gaoyan/站点/other/济南机件/jj/languages/zh_cn/calendar.php",
		"/Users/gaoyan/站点/other/济南机件/jj/languages/en_us/calendar.php",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/edit_languages.php",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/templates/language_list.htm",
		"/Users/gaoyan/站点/other/济南机件/jj/includes/lib_article.php",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/default/user_transaction.dwt",
		"/Users/gaoyan/站点/other/济南机件/jj/user.php",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/jd2013/index.dwt",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/jd2013/diyfile.php",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/jd2013/flow.dwt",
		"/Users/gaoyan/站点/other/济南机件/jj/index.php",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/default/library/user_menu.lbi",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/jd2013/library/user_menu.lbi",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/jd2013/user_transaction.dwt",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/user_account.php",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/jd2013/library/index_header.lbi",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/jd2013/library/page_header.lbi",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/jd2013/library/page_footer.lbi",
		"/Users/gaoyan/站点/other/济南机件/jj/includes/lib_main.php",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/jd2013/base.css",
		"/Users/gaoyan/站点/other/济南机件/jj/data/sqldata/20141118flkeqf.sql",
		"/Users/gaoyan/站点/other/济南机件/jj/flow.php",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/templates/goods_batch_add.htm",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/default/brand.dwt",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/default/index.dwt",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/jd2013/js/MSClass.js",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/hong2014/diyfile.php",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/hong2014/index.dwt",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/hong2014/library/index_header.lbi",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/templates/shop_config_mail_settings.htm",
		"/Users/gaoyan/站点/other/济南机件/jj/message.php",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/hong2014/libs.xml",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/hong2014/style.css",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/templates/favourable_info.htm",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/templates/delivery_info.htm",
		"/Users/gaoyan/站点/other/济南机件/jj/delete_cart_goods.php",
		"/Users/gaoyan/站点/other/济南机件/jj/temp/caches/4/article_5912117.php",
		"/Users/gaoyan/站点/other/济南机件/jj/data/config.php",
		"/Users/gaoyan/站点/other/济南机件/jj/includes/lib_goods.php",
		"/Users/gaoyan/站点/other/济南机件/jj/temp/backup/library/jd2013-index_header.lbi",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/jd2013/style.css",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/jd2013/libs.xml",
		"/Users/gaoyan/站点/other/济南机件/jj/sftp-config.json",
		"/Users/gaoyan/站点/other/济南机件/jj/category.php",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/order.php",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/default/goods.dwt",
		"/Users/gaoyan/站点/other/济南机件/jj/includes/lib_transaction.php",
		"/Users/gaoyan/站点/other/济南机件/jj/sql.txt",
		"/Users/gaoyan/站点/other/济南机件/jj/activity.php",
		"/Users/gaoyan/站点/other/济南机件/jj/includes/cls_mysql.php",
		"/Users/gaoyan/站点/other/济南机件/jj/includes/lib_order.php",
		"/Users/gaoyan/站点/other/济南机件/jj/includes/init.php",
		"/Users/gaoyan/站点/other/济南机件/jj/includes/lib_common.php",
		"/Users/gaoyan/站点/other/济南机件/jj/includes/inc_constant.php",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/jd2013/goods.dwt",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/goods.php",
		"/Users/gaoyan/站点/other/济南机件/jj/.tags",
		"/Users/gaoyan/站点/other/济南机件/jj/languages/en_us/payment/express.php",
		"/Users/gaoyan/站点/other/济南机件/jj/includes/cls_template.php",
		"/Users/gaoyan/站点/other/济南机件/jj/includes/fckeditor/editor/dialog/fck_select/fck_select.js",
		"/Users/gaoyan/站点/other/济南机件/jj/myship.php",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/templates/goods_batch_confirm.htm",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/templates/db_backup.htm",
		"/Users/gaoyan/站点/other/济南机件/jj/themes/default/message_board.dwt",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/database.php",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/article.php",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/admin_logs.php",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/ads.php",
		"/Users/gaoyan/Library/Application Support/Sublime Text 3/Packages/User/CTags.sublime-settings",
		"/Users/gaoyan/站点/other/济南机件/jj/.tags_sorted_by_file",
		"/Users/gaoyan/Library/Application Support/Sublime Text 3/Packages/Default/Default (OSX).sublime-keymap",
		"/Users/gaoyan/站点/other/济南机件/jj/plugins/.tags",
		"/Users/gaoyan/站点/other/济南机件/jj/plugins/.tags_sorted_by_file",
		"/Users/gaoyan/Library/Application Support/Sublime Text 3/Packages/CTags/CTags.sublime-settings",
		"/Users/gaoyan/Desktop/ele20141121/index.html",
		"/Users/gaoyan/Library/Application Support/Sublime Text 3/Packages/Default/Preferences.sublime-settings",
		"/Users/gaoyan/Library/Application Support/Sublime Text 3/Packages/User/Preferences.sublime-settings",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/templates/order_info.htm",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/templates/article_info.htm",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/templates/order_step.htm",
		"/Users/gaoyan/站点/other/济南机件/jj/article_cat.php",
		"/Users/gaoyan/站点/other/济南机件/jj/article.php",
		"/Users/gaoyan/站点/other/济南机件/jj/temp/static_caches/art_cat_pid_releate.php",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/article_auto.php",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/templates/virtual_card_change.htm",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/templates/sms_charge_history.htm",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/templates/goods_info.htm",
		"/Users/gaoyan/站点/other/济南机件/jj/js/calendar.php",
		"/Users/gaoyan/站点/other/济南机件/jj/goods.php",
		"/Users/gaoyan/站点/other/济南机件/jj/goods_script.php",
		"/Users/gaoyan/站点/other/济南机件/jj/gallery.php",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/templates/order_query.htm",
		"/Users/gaoyan/站点/other/济南机件/jj/js/calendar/calendar.js",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/templates/order_list.htm",
		"/Users/gaoyan/站点/other/济南机件/jj/languages/zh_cn/user.php",
		"/Users/gaoyan/站点/other/济南机件/jj/js/common.js",
		"/Users/gaoyan/站点/other/济南机件/jj/temp/compiled/user_menu.lbi.php",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/user_msg.php",
		"/Users/gaoyan/站点/other/济南机件/jj/mobile/templates/order_done.html",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/templates/order_refund.htm",
		"/Users/gaoyan/站点/other/济南机件/jj/pick_out.php",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/templates/login.htm",
		"/Users/gaoyan/站点/other/济南机件/jj/robots.txt",
		"/Users/gaoyan/站点/other/济南机件/jj/htaccess.txt",
		"/Users/gaoyan/站点/other/济南机件/jj/admin/help/zh_cn/template.xml",
		"/Users/gaoyan/站点/other/济南机件/jj/topic.php",
		"/Users/gaoyan/Library/Application Support/Sublime Text 3/Packages/Path Tools/Default (OSX).sublime-keymap",
		"/Users/gaoyan/Library/Application Support/Sublime Text 3/Packages/ConvertToUTF8/ConvertToUTF8.sublime-settings",
		"/Users/gaoyan/站点/other/济南机件/jj/data/feedbackimg/index.htm",
		"/Users/gaoyan/站点/other/济南机件/jj/alipay.html",
		"/Users/gaoyan/站点/other/济南机件/jj/jj.sublime-project",
		"/Users/gaoyan/站点/微信海/中国银行独立项目/web/boc/Lib/Action/AwardAction.class.php",
		"/Users/gaoyan/站点/微信海/中国银行独立项目/web/ThinkPHP/Lib/Core/Model.class.php",
		"/Users/gaoyan/站点/微信海/中国银行独立项目/web/boc/Runtime/Logs/14_11_18.log",
		"/Users/gaoyan/站点/微信海/中国银行独立项目/web/ThinkPHP/Lib/Driver/Db/DbMysql.class.php",
		"/Users/gaoyan/站点/微信海/中国银行独立项目/web/ThinkPHP/Extend/Driver/Db/DbMongo.class.php",
		"/Users/gaoyan/站点/微信海/中国银行独立项目/web/ThinkPHP/Extend/Library/ORG/Util/ArrayList.class.php",
		"/Users/gaoyan/站点/微信海/中国银行独立项目/web/Public/css/login.css",
		"/Users/gaoyan/站点/微信海/中国银行独立项目/web/ThinkPHP/LICENSE.txt",
		"/Users/gaoyan/站点/微信海/中国银行独立项目/web/bocp/Tpl/gejin/office.html",
		"/Users/gaoyan/站点/微信海/中国银行独立项目/web/boc/Runtime/Cache/1706210fa50fcf6c498fa7ec01d10730.php",
		"/Users/gaoyan/站点/微信海/中国银行独立项目/web/boc/Tpl/Award/award_list.html",
		"/Users/gaoyan/站点/微信海/中国银行独立项目/web/boc/Lib/Action/CommonAction.class.php",
		"/Users/gaoyan/站点/微信海/中国银行独立项目/web/ThinkPHP/Extend/Library/ORG/File.class.php",
		"/Users/gaoyan/站点/微信海/中国银行独立项目/web/ThinkPHP/Extend/Library/ORG/Net/Http.class.php"
	],
	"find":
	{
		"height": 36.0
	},
	"find_in_files":
	{
		"height": 93.0,
		"where_history":
		[
			"/Users/gaoyan/站点/other/济南机件/jj/",
			"<open files>",
			"/Users/gaoyan/站点/other/济南机件/jj/",
			"/Users/gaoyan/站点/other/济南机件/jj/themes",
			"/Users/gaoyan/站点/other/济南机件/jj/themes/hong2014",
			"/Users/gaoyan/站点/other/济南机件/jj",
			"<open files>",
			"/Users/gaoyan/站点/other/济南机件/jj",
			"<open files>",
			"/Users/gaoyan/站点/other/济南机件/jj",
			"<open files>",
			"/Users/gaoyan/站点/微信海/中国银行独立项目/web",
			"/Users/gaoyan/站点/微信海/中国银行独立项目/web/",
			"/Users/gaoyan/站点/微信海/中国银行独立项目/web/bocp/",
			"/Users/gaoyan/站点/微信海/中国银行独立项目/web/boc",
			"/Users/gaoyan/站点/other/徐凯旋/github/web/",
			"/Users/gaoyan/站点/other/徐凯旋/github/web"
		]
	},
	"find_state":
	{
		"case_sensitive": true,
		"find_history":
		[
			"get_code",
			"done",
			"'done'",
			"link_id",
			"affiliate",
			"integral",
			"integral_money",
			"cod_fee",
			"$total['amount']",
			"cod_fee",
			"shipping_insure",
			"532850",
			"tax",
			"pay_fee",
			"cod_fee",
			"surplus",
			"integral_money",
			"discount",
			"agency_id",
			"add_time",
			"need_insure",
			"how_oos",
			"postscript",
			"inv_type",
			"inv_content",
			"inv_payee",
			"inv_type",
			"need_inv",
			"integral",
			"surplus",
			"pack",
			"pack_id",
			"order_list_c1",
			"_c1",
			"'checkout'",
			"'check_out'",
			"$_REQUEST['step'] ==",
			"首页_中间分类幻灯图_第1f分类",
			"con_three_1",
			"order_list",
			"!-- {if $action eq 'order_list'} -->",
			"<!-- {if $step eq \"done\"} -->",
			"gaoyan",
			"#categorys-2013 .subitem",
			"ecs_goods",
			"category",
			"con_three_1",
			"utab clearfix",
			"2013",
			"TemplatePath",
			"diyfile",
			"con_three_1",
			".js",
			"2013",
			"litpic",
			"jd2013",
			"jd2013/",
			"Query OK: ",
			"logo.gif",
			"手机京礼中国",
			"京东",
			"最模板ecshop仿京东2014",
			"get_advimg",
			"get_flash_xml",
			"京东",
			"common",
			"commentsList",
			"lefttime",
			"OS_UNCONFIRMED",
			"OS_SPLITED",
			"delivery_ship",
			"delivery_confirmed",
			"delivery",
			"发货",
			"mysql_fetch_row",
			"getCol",
			"mysql_fetch_assoc",
			"getRow",
			"mysql_fetch_row",
			"ayment_id_list",
			"db_create_in",
			"CS_AWAIT_PAY",
			"OS_UNCONFIRMED",
			"screen",
			"OS_SPLITED",
			"get_user_orders",
			"order_list",
			"goods_list",
			"goods",
			"if ($_REQUEST['step'] == '",
			"$_REQUEST['step'] ==",
			"product",
			"CONTROLLER_NAME",
			"$_REQUEST['step'] ==",
			"change",
			"order_detail",
			"file_url",
			"upload_change_file",
			"'change'",
			">",
			"'change'",
			"upload_article_file",
			"allow_file_types",
			"'change'",
			"goods_img",
			"\"change\"",
			"UPDATE",
			"order_id",
			"UPDATE \" . $ecs->table('goods_info') .",
			"region",
			".js",
			"calendar.css",
			"calendar.php",
			"calendar.js",
			"showCalendar",
			"start_time_id",
			"showCalendar",
			"../js/region.js",
			"选择",
			"选饿",
			"order_query",
			"\"money\"",
			"'money'",
			"'money",
			"money",
			"invoice",
			"'edit'",
			"order.php?act=operate"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": false,
		"replace_history":
		[
			"",
			"showCalendar",
			" userExport\n ",
			" \n ",
			" ",
			"\\n",
			"M('gy_choujiang');",
			"alt=\"\"></a></td>",
			"ad/",
			"",
			"showsite",
			"ShowSite",
			"showsite",
			"Show"
		],
		"reverse": false,
		"show_context": true,
		"use_buffer2": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"selected": 1,
			"sheets":
			[
				{
					"buffer": 0,
					"file": "flow.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 93148,
						"regions":
						{
						},
						"selection":
						[
							[
								66255,
								66267
							]
						],
						"settings":
						{
							"BracketHighlighterBusy": false,
							"bh_regions":
							[
								"bh_square",
								"bh_square_center",
								"bh_square_open",
								"bh_square_close",
								"bh_square_content",
								"bh_unmatched",
								"bh_unmatched_center",
								"bh_unmatched_open",
								"bh_unmatched_close",
								"bh_unmatched_content",
								"bh_c_define",
								"bh_c_define_center",
								"bh_c_define_open",
								"bh_c_define_close",
								"bh_c_define_content",
								"bh_curly",
								"bh_curly_center",
								"bh_curly_open",
								"bh_curly_close",
								"bh_curly_content",
								"bh_double_quote",
								"bh_double_quote_center",
								"bh_double_quote_open",
								"bh_double_quote_close",
								"bh_double_quote_content",
								"bh_angle",
								"bh_angle_center",
								"bh_angle_open",
								"bh_angle_close",
								"bh_angle_content",
								"bh_single_quote",
								"bh_single_quote_center",
								"bh_single_quote_open",
								"bh_single_quote_close",
								"bh_single_quote_content",
								"bh_default",
								"bh_default_center",
								"bh_default_open",
								"bh_default_close",
								"bh_default_content",
								"bh_regex",
								"bh_regex_center",
								"bh_regex_open",
								"bh_regex_close",
								"bh_regex_content",
								"bh_round",
								"bh_round_center",
								"bh_round_open",
								"bh_round_close",
								"bh_round_content",
								"bh_tag",
								"bh_tag_center",
								"bh_tag_open",
								"bh_tag_close",
								"bh_tag_content"
							],
							"codeintel": true,
							"codeintel_config":
							{
								"JavaScript":
								{
									"codeintel_max_recursive_dir_depth": 2,
									"codeintel_scan_files_in_project": false,
									"javascriptExtraPaths":
									[
									]
								},
								"PHP":
								{
									"codeintel_max_recursive_dir_depth": 5,
									"codeintel_scan_files_in_project": false,
									"phpExtraPaths":
									[
									]
								},
								"Python":
								{
									"env":
									{
									}
								}
							},
							"codeintel_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_live": true,
							"codeintel_live_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_max_recursive_dir_depth": 10,
							"codeintel_scan_exclude_dir":
							{
								"JavaScript":
								[
									"/build/",
									"/min/"
								]
							},
							"codeintel_scan_files_in_project": true,
							"codeintel_selected_catalogs":
							[
								"PyWin32",
								"jQuery",
								"Rails"
							],
							"codeintel_snippets": true,
							"codeintel_syntax_map":
							{
								"Python Django": "Python"
							},
							"codeintel_tooltips": "popup",
							"function_name_status_row": 1992,
							"incomplete_sync": null,
							"is_xml": false,
							"remote_loading": false,
							"side_bar_folders_auto_load_folder": 1,
							"sublime_auto_complete": true,
							"synced": false,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"tab_size": 4,
							"tabs_extra_last_activated": 1417604365.9,
							"tabs_extra_last_activated_sheet_index": 0,
							"translate_tabs_to_spaces": true,
							"word_wrap": true
						},
						"translation.x": 0.0,
						"translation.y": 45271.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"type": "text"
				},
				{
					"buffer": 1,
					"file": "includes/lib_common.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 81307,
						"regions":
						{
						},
						"selection":
						[
							[
								31570,
								31575
							]
						],
						"settings":
						{
							"BracketHighlighterBusy": false,
							"bh_regions":
							[
								"bh_square",
								"bh_square_center",
								"bh_square_open",
								"bh_square_close",
								"bh_square_content",
								"bh_unmatched",
								"bh_unmatched_center",
								"bh_unmatched_open",
								"bh_unmatched_close",
								"bh_unmatched_content",
								"bh_c_define",
								"bh_c_define_center",
								"bh_c_define_open",
								"bh_c_define_close",
								"bh_c_define_content",
								"bh_curly",
								"bh_curly_center",
								"bh_curly_open",
								"bh_curly_close",
								"bh_curly_content",
								"bh_double_quote",
								"bh_double_quote_center",
								"bh_double_quote_open",
								"bh_double_quote_close",
								"bh_double_quote_content",
								"bh_angle",
								"bh_angle_center",
								"bh_angle_open",
								"bh_angle_close",
								"bh_angle_content",
								"bh_single_quote",
								"bh_single_quote_center",
								"bh_single_quote_open",
								"bh_single_quote_close",
								"bh_single_quote_content",
								"bh_default",
								"bh_default_center",
								"bh_default_open",
								"bh_default_close",
								"bh_default_content",
								"bh_regex",
								"bh_regex_center",
								"bh_regex_open",
								"bh_regex_close",
								"bh_regex_content",
								"bh_round",
								"bh_round_center",
								"bh_round_open",
								"bh_round_close",
								"bh_round_content",
								"bh_tag",
								"bh_tag_center",
								"bh_tag_open",
								"bh_tag_close",
								"bh_tag_content"
							],
							"codeintel": true,
							"codeintel_config":
							{
								"JavaScript":
								{
									"codeintel_max_recursive_dir_depth": 2,
									"codeintel_scan_files_in_project": false,
									"javascriptExtraPaths":
									[
									]
								},
								"PHP":
								{
									"codeintel_max_recursive_dir_depth": 5,
									"codeintel_scan_files_in_project": false,
									"phpExtraPaths":
									[
									]
								},
								"Python":
								{
									"env":
									{
									}
								}
							},
							"codeintel_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_live": true,
							"codeintel_live_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_max_recursive_dir_depth": 10,
							"codeintel_scan_exclude_dir":
							{
								"JavaScript":
								[
									"/build/",
									"/min/"
								]
							},
							"codeintel_scan_files_in_project": true,
							"codeintel_selected_catalogs":
							[
								"PyWin32",
								"jQuery",
								"Rails"
							],
							"codeintel_snippets": true,
							"codeintel_syntax_map":
							{
								"Python Django": "Python"
							},
							"codeintel_tooltips": "popup",
							"function_name_status_row": 956,
							"incomplete_sync": null,
							"is_xml": false,
							"remote_loading": false,
							"side_bar_folders_auto_load_folder": 1,
							"sublime_auto_complete": true,
							"synced": false,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"tab_size": 4,
							"tabs_extra_last_activated": 1417604460.37,
							"tabs_extra_last_activated_sheet_index": 1,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 20867.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"type": "text"
				},
				{
					"buffer": 2,
					"file": "includes/modules/payment/alipay.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 5992,
						"regions":
						{
						},
						"selection":
						[
							[
								3330,
								3330
							]
						],
						"settings":
						{
							"BracketHighlighterBusy": false,
							"bh_regions":
							[
								"bh_square",
								"bh_square_center",
								"bh_square_open",
								"bh_square_close",
								"bh_square_content",
								"bh_unmatched",
								"bh_unmatched_center",
								"bh_unmatched_open",
								"bh_unmatched_close",
								"bh_unmatched_content",
								"bh_c_define",
								"bh_c_define_center",
								"bh_c_define_open",
								"bh_c_define_close",
								"bh_c_define_content",
								"bh_curly",
								"bh_curly_center",
								"bh_curly_open",
								"bh_curly_close",
								"bh_curly_content",
								"bh_double_quote",
								"bh_double_quote_center",
								"bh_double_quote_open",
								"bh_double_quote_close",
								"bh_double_quote_content",
								"bh_angle",
								"bh_angle_center",
								"bh_angle_open",
								"bh_angle_close",
								"bh_angle_content",
								"bh_single_quote",
								"bh_single_quote_center",
								"bh_single_quote_open",
								"bh_single_quote_close",
								"bh_single_quote_content",
								"bh_default",
								"bh_default_center",
								"bh_default_open",
								"bh_default_close",
								"bh_default_content",
								"bh_regex",
								"bh_regex_center",
								"bh_regex_open",
								"bh_regex_close",
								"bh_regex_content",
								"bh_round",
								"bh_round_center",
								"bh_round_open",
								"bh_round_close",
								"bh_round_content",
								"bh_tag",
								"bh_tag_center",
								"bh_tag_open",
								"bh_tag_close",
								"bh_tag_content"
							],
							"function_name_status_row": 132,
							"incomplete_sync": null,
							"is_xml": false,
							"remote_loading": false,
							"side_bar_folders_auto_load_folder": 1,
							"synced": false,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"tab_size": 4,
							"tabs_extra_last_activated": 1417590682.02,
							"tabs_extra_last_activated_sheet_index": 1,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 2645.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "themes/jd2013/flow.dwt",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 44295,
						"regions":
						{
						},
						"selection":
						[
							[
								37632,
								37632
							]
						],
						"settings":
						{
							"BracketHighlighterBusy": false,
							"bh_regions":
							[
								"bh_square",
								"bh_square_center",
								"bh_square_open",
								"bh_square_close",
								"bh_square_content",
								"bh_unmatched",
								"bh_unmatched_center",
								"bh_unmatched_open",
								"bh_unmatched_close",
								"bh_unmatched_content",
								"bh_c_define",
								"bh_c_define_center",
								"bh_c_define_open",
								"bh_c_define_close",
								"bh_c_define_content",
								"bh_curly",
								"bh_curly_center",
								"bh_curly_open",
								"bh_curly_close",
								"bh_curly_content",
								"bh_double_quote",
								"bh_double_quote_center",
								"bh_double_quote_open",
								"bh_double_quote_close",
								"bh_double_quote_content",
								"bh_angle",
								"bh_angle_center",
								"bh_angle_open",
								"bh_angle_close",
								"bh_angle_content",
								"bh_single_quote",
								"bh_single_quote_center",
								"bh_single_quote_open",
								"bh_single_quote_close",
								"bh_single_quote_content",
								"bh_default",
								"bh_default_center",
								"bh_default_open",
								"bh_default_close",
								"bh_default_content",
								"bh_regex",
								"bh_regex_center",
								"bh_regex_open",
								"bh_regex_close",
								"bh_regex_content",
								"bh_round",
								"bh_round_center",
								"bh_round_open",
								"bh_round_close",
								"bh_round_content",
								"bh_tag",
								"bh_tag_center",
								"bh_tag_open",
								"bh_tag_close",
								"bh_tag_content"
							],
							"function_name_status_row": 718,
							"incomplete_sync": null,
							"remote_loading": false,
							"side_bar_folders_auto_load_folder": 1,
							"synced": false,
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1417590430.97,
							"tabs_extra_last_activated_sheet_index": 1,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 17932.0,
						"zoom_level": 1.0
					},
					"stack_index": 3,
					"type": "text"
				},
				{
					"buffer": 4,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 882,
						"regions":
						{
						},
						"selection":
						[
							[
								826,
								826
							]
						],
						"settings":
						{
							"BracketHighlighterBusy": false,
							"bh_regions":
							[
								"bh_square",
								"bh_square_center",
								"bh_square_open",
								"bh_square_close",
								"bh_square_content",
								"bh_unmatched",
								"bh_unmatched_center",
								"bh_unmatched_open",
								"bh_unmatched_close",
								"bh_unmatched_content",
								"bh_c_define",
								"bh_c_define_center",
								"bh_c_define_open",
								"bh_c_define_close",
								"bh_c_define_content",
								"bh_curly",
								"bh_curly_center",
								"bh_curly_open",
								"bh_curly_close",
								"bh_curly_content",
								"bh_double_quote",
								"bh_double_quote_center",
								"bh_double_quote_open",
								"bh_double_quote_close",
								"bh_double_quote_content",
								"bh_angle",
								"bh_angle_center",
								"bh_angle_open",
								"bh_angle_close",
								"bh_angle_content",
								"bh_single_quote",
								"bh_single_quote_center",
								"bh_single_quote_open",
								"bh_single_quote_close",
								"bh_single_quote_content",
								"bh_default",
								"bh_default_center",
								"bh_default_open",
								"bh_default_close",
								"bh_default_content",
								"bh_regex",
								"bh_regex_center",
								"bh_regex_open",
								"bh_regex_close",
								"bh_regex_content",
								"bh_round",
								"bh_round_center",
								"bh_round_open",
								"bh_round_close",
								"bh_round_content",
								"bh_tag",
								"bh_tag_center",
								"bh_tag_open",
								"bh_tag_close",
								"bh_tag_content"
							],
							"codeintel": true,
							"codeintel_config":
							{
								"JavaScript":
								{
									"codeintel_max_recursive_dir_depth": 2,
									"codeintel_scan_files_in_project": false,
									"javascriptExtraPaths":
									[
									]
								},
								"PHP":
								{
									"codeintel_max_recursive_dir_depth": 5,
									"codeintel_scan_files_in_project": false,
									"phpExtraPaths":
									[
									]
								},
								"Python":
								{
									"env":
									{
									}
								}
							},
							"codeintel_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_live": true,
							"codeintel_live_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_max_recursive_dir_depth": 10,
							"codeintel_scan_exclude_dir":
							{
								"JavaScript":
								[
									"/build/",
									"/min/"
								]
							},
							"codeintel_scan_files_in_project": true,
							"codeintel_selected_catalogs":
							[
								"PyWin32",
								"jQuery",
								"Rails"
							],
							"codeintel_snippets": true,
							"codeintel_syntax_map":
							{
								"Python Django": "Python"
							},
							"codeintel_tooltips": "popup",
							"function_name_status_row": 12,
							"incomplete_sync": null,
							"is_xml": false,
							"sublime_auto_complete": true,
							"syntax": "Packages/SQL/SQL.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1417575909.27,
							"tabs_extra_last_activated_sheet_index": 1,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 6,
					"type": "text"
				},
				{
					"buffer": 5,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 3990,
						"regions":
						{
						},
						"selection":
						[
							[
								1698,
								1698
							]
						],
						"settings":
						{
							"BracketHighlighterBusy": false,
							"auto_name": "CREATE TABLE `tp30_order_info` (",
							"bh_regions":
							[
								"bh_square",
								"bh_square_center",
								"bh_square_open",
								"bh_square_close",
								"bh_square_content",
								"bh_unmatched",
								"bh_unmatched_center",
								"bh_unmatched_open",
								"bh_unmatched_close",
								"bh_unmatched_content",
								"bh_c_define",
								"bh_c_define_center",
								"bh_c_define_open",
								"bh_c_define_close",
								"bh_c_define_content",
								"bh_curly",
								"bh_curly_center",
								"bh_curly_open",
								"bh_curly_close",
								"bh_curly_content",
								"bh_double_quote",
								"bh_double_quote_center",
								"bh_double_quote_open",
								"bh_double_quote_close",
								"bh_double_quote_content",
								"bh_angle",
								"bh_angle_center",
								"bh_angle_open",
								"bh_angle_close",
								"bh_angle_content",
								"bh_single_quote",
								"bh_single_quote_center",
								"bh_single_quote_open",
								"bh_single_quote_close",
								"bh_single_quote_content",
								"bh_default",
								"bh_default_center",
								"bh_default_open",
								"bh_default_close",
								"bh_default_content",
								"bh_regex",
								"bh_regex_center",
								"bh_regex_open",
								"bh_regex_close",
								"bh_regex_content",
								"bh_round",
								"bh_round_center",
								"bh_round_open",
								"bh_round_close",
								"bh_round_content",
								"bh_tag",
								"bh_tag_center",
								"bh_tag_open",
								"bh_tag_close",
								"bh_tag_content"
							],
							"codeintel": true,
							"codeintel_config":
							{
								"JavaScript":
								{
									"codeintel_max_recursive_dir_depth": 2,
									"codeintel_scan_files_in_project": false,
									"javascriptExtraPaths":
									[
									]
								},
								"PHP":
								{
									"codeintel_max_recursive_dir_depth": 5,
									"codeintel_scan_files_in_project": false,
									"phpExtraPaths":
									[
									]
								},
								"Python":
								{
									"env":
									{
									}
								}
							},
							"codeintel_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_live": true,
							"codeintel_live_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_max_recursive_dir_depth": 10,
							"codeintel_scan_exclude_dir":
							{
								"JavaScript":
								[
									"/build/",
									"/min/"
								]
							},
							"codeintel_scan_files_in_project": true,
							"codeintel_selected_catalogs":
							[
								"PyWin32",
								"jQuery",
								"Rails"
							],
							"codeintel_snippets": true,
							"codeintel_syntax_map":
							{
								"Python Django": "Python"
							},
							"codeintel_tooltips": "popup",
							"function_name_status_row": 18,
							"incomplete_sync": null,
							"is_xml": false,
							"sublime_auto_complete": true,
							"syntax": "Packages/SQL/SQL.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1417576066.38,
							"tabs_extra_last_activated_sheet_index": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 462.0,
						"zoom_level": 1.0
					},
					"stack_index": 5,
					"type": "text"
				},
				{
					"buffer": 6,
					"file": "affiche.php",
					"semi_transient": true,
					"settings":
					{
						"buffer_size": 6365,
						"regions":
						{
							"TagLint":
							{
								"flags": 2356,
								"icon": "dot",
								"regions":
								[
									[
										3240,
										3245
									]
								],
								"scope": "variable.parameter"
							}
						},
						"selection":
						[
							[
								69,
								69
							]
						],
						"settings":
						{
							"BracketHighlighterBusy": false,
							"bh_regions":
							[
								"bh_square",
								"bh_square_center",
								"bh_square_open",
								"bh_square_close",
								"bh_square_content",
								"bh_unmatched",
								"bh_unmatched_center",
								"bh_unmatched_open",
								"bh_unmatched_close",
								"bh_unmatched_content",
								"bh_c_define",
								"bh_c_define_center",
								"bh_c_define_open",
								"bh_c_define_close",
								"bh_c_define_content",
								"bh_curly",
								"bh_curly_center",
								"bh_curly_open",
								"bh_curly_close",
								"bh_curly_content",
								"bh_double_quote",
								"bh_double_quote_center",
								"bh_double_quote_open",
								"bh_double_quote_close",
								"bh_double_quote_content",
								"bh_angle",
								"bh_angle_center",
								"bh_angle_open",
								"bh_angle_close",
								"bh_angle_content",
								"bh_single_quote",
								"bh_single_quote_center",
								"bh_single_quote_open",
								"bh_single_quote_close",
								"bh_single_quote_content",
								"bh_default",
								"bh_default_center",
								"bh_default_open",
								"bh_default_close",
								"bh_default_content",
								"bh_regex",
								"bh_regex_center",
								"bh_regex_open",
								"bh_regex_close",
								"bh_regex_content",
								"bh_round",
								"bh_round_center",
								"bh_round_open",
								"bh_round_close",
								"bh_round_content",
								"bh_tag",
								"bh_tag_center",
								"bh_tag_open",
								"bh_tag_close",
								"bh_tag_content"
							],
							"function_name_status_row": 4,
							"incomplete_sync": null,
							"is_xml": false,
							"remote_loading": false,
							"side_bar_folders_auto_load_folder": 1,
							"synced": false,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"tab_size": 4,
							"tabs_extra_last_activated": 1417574973.94,
							"tabs_extra_last_activated_sheet_index": 3,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 9,
					"type": "text"
				},
				{
					"buffer": 7,
					"file": "includes/cls_mysql.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 25835,
						"regions":
						{
							"TagLint":
							{
								"flags": 2356,
								"icon": "dot",
								"regions":
								[
									[
										11329,
										11330
									]
								],
								"scope": "variable.parameter"
							}
						},
						"selection":
						[
							[
								4451,
								4458
							]
						],
						"settings":
						{
							"BracketHighlighterBusy": false,
							"bh_regions":
							[
								"bh_square",
								"bh_square_center",
								"bh_square_open",
								"bh_square_close",
								"bh_square_content",
								"bh_unmatched",
								"bh_unmatched_center",
								"bh_unmatched_open",
								"bh_unmatched_close",
								"bh_unmatched_content",
								"bh_c_define",
								"bh_c_define_center",
								"bh_c_define_open",
								"bh_c_define_close",
								"bh_c_define_content",
								"bh_curly",
								"bh_curly_center",
								"bh_curly_open",
								"bh_curly_close",
								"bh_curly_content",
								"bh_double_quote",
								"bh_double_quote_center",
								"bh_double_quote_open",
								"bh_double_quote_close",
								"bh_double_quote_content",
								"bh_angle",
								"bh_angle_center",
								"bh_angle_open",
								"bh_angle_close",
								"bh_angle_content",
								"bh_single_quote",
								"bh_single_quote_center",
								"bh_single_quote_open",
								"bh_single_quote_close",
								"bh_single_quote_content",
								"bh_default",
								"bh_default_center",
								"bh_default_open",
								"bh_default_close",
								"bh_default_content",
								"bh_regex",
								"bh_regex_center",
								"bh_regex_open",
								"bh_regex_close",
								"bh_regex_content",
								"bh_round",
								"bh_round_center",
								"bh_round_open",
								"bh_round_close",
								"bh_round_content",
								"bh_tag",
								"bh_tag_center",
								"bh_tag_open",
								"bh_tag_close",
								"bh_tag_content"
							],
							"function_name_status_row": 144,
							"incomplete_sync": null,
							"is_xml": false,
							"remote_loading": false,
							"side_bar_folders_auto_load_folder": 1,
							"synced": false,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"tab_size": 4,
							"tabs_extra_last_activated": 1417515085.68,
							"tabs_extra_last_activated_sheet_index": 1,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 45.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 10,
					"type": "text"
				},
				{
					"buffer": 8,
					"file": "includes/lib_order.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 92325,
						"regions":
						{
						},
						"selection":
						[
							[
								25569,
								25363
							]
						],
						"settings":
						{
							"BracketHighlighterBusy": false,
							"bh_regions":
							[
								"bh_square",
								"bh_square_center",
								"bh_square_open",
								"bh_square_close",
								"bh_square_content",
								"bh_unmatched",
								"bh_unmatched_center",
								"bh_unmatched_open",
								"bh_unmatched_close",
								"bh_unmatched_content",
								"bh_c_define",
								"bh_c_define_center",
								"bh_c_define_open",
								"bh_c_define_close",
								"bh_c_define_content",
								"bh_curly",
								"bh_curly_center",
								"bh_curly_open",
								"bh_curly_close",
								"bh_curly_content",
								"bh_double_quote",
								"bh_double_quote_center",
								"bh_double_quote_open",
								"bh_double_quote_close",
								"bh_double_quote_content",
								"bh_angle",
								"bh_angle_center",
								"bh_angle_open",
								"bh_angle_close",
								"bh_angle_content",
								"bh_single_quote",
								"bh_single_quote_center",
								"bh_single_quote_open",
								"bh_single_quote_close",
								"bh_single_quote_content",
								"bh_default",
								"bh_default_center",
								"bh_default_open",
								"bh_default_close",
								"bh_default_content",
								"bh_regex",
								"bh_regex_center",
								"bh_regex_open",
								"bh_regex_close",
								"bh_regex_content",
								"bh_round",
								"bh_round_center",
								"bh_round_open",
								"bh_round_close",
								"bh_round_content",
								"bh_tag",
								"bh_tag_center",
								"bh_tag_open",
								"bh_tag_close",
								"bh_tag_content"
							],
							"codeintel": true,
							"codeintel_config":
							{
								"JavaScript":
								{
									"codeintel_max_recursive_dir_depth": 2,
									"codeintel_scan_files_in_project": false,
									"javascriptExtraPaths":
									[
									]
								},
								"PHP":
								{
									"codeintel_max_recursive_dir_depth": 5,
									"codeintel_scan_files_in_project": false,
									"phpExtraPaths":
									[
									]
								},
								"Python":
								{
									"env":
									{
									}
								}
							},
							"codeintel_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_live": true,
							"codeintel_live_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_max_recursive_dir_depth": 10,
							"codeintel_scan_exclude_dir":
							{
								"JavaScript":
								[
									"/build/",
									"/min/"
								]
							},
							"codeintel_scan_files_in_project": true,
							"codeintel_selected_catalogs":
							[
								"PyWin32",
								"jQuery",
								"Rails"
							],
							"codeintel_snippets": true,
							"codeintel_syntax_map":
							{
								"Python Django": "Python"
							},
							"codeintel_tooltips": "popup",
							"function_name_status_row": 841,
							"incomplete_sync": null,
							"is_xml": false,
							"remote_loading": false,
							"side_bar_folders_auto_load_folder": 1,
							"sublime_auto_complete": true,
							"synced": false,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"tab_size": 4,
							"tabs_extra_last_activated": 1417513389.95,
							"tabs_extra_last_activated_sheet_index": 1,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 18359.0,
						"zoom_level": 1.0
					},
					"stack_index": 11,
					"type": "text"
				},
				{
					"buffer": 9,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 3960,
						"regions":
						{
						},
						"selection":
						[
							[
								3669,
								3672
							]
						],
						"settings":
						{
							"BracketHighlighterBusy": false,
							"auto_name": "CREATE TABLE `tp30_order_info` (",
							"bh_regions":
							[
								"bh_square",
								"bh_square_center",
								"bh_square_open",
								"bh_square_close",
								"bh_square_content",
								"bh_unmatched",
								"bh_unmatched_center",
								"bh_unmatched_open",
								"bh_unmatched_close",
								"bh_unmatched_content",
								"bh_c_define",
								"bh_c_define_center",
								"bh_c_define_open",
								"bh_c_define_close",
								"bh_c_define_content",
								"bh_curly",
								"bh_curly_center",
								"bh_curly_open",
								"bh_curly_close",
								"bh_curly_content",
								"bh_double_quote",
								"bh_double_quote_center",
								"bh_double_quote_open",
								"bh_double_quote_close",
								"bh_double_quote_content",
								"bh_angle",
								"bh_angle_center",
								"bh_angle_open",
								"bh_angle_close",
								"bh_angle_content",
								"bh_single_quote",
								"bh_single_quote_center",
								"bh_single_quote_open",
								"bh_single_quote_close",
								"bh_single_quote_content",
								"bh_default",
								"bh_default_center",
								"bh_default_open",
								"bh_default_close",
								"bh_default_content",
								"bh_regex",
								"bh_regex_center",
								"bh_regex_open",
								"bh_regex_close",
								"bh_regex_content",
								"bh_round",
								"bh_round_center",
								"bh_round_open",
								"bh_round_close",
								"bh_round_content",
								"bh_tag",
								"bh_tag_center",
								"bh_tag_open",
								"bh_tag_close",
								"bh_tag_content"
							],
							"codeintel": true,
							"codeintel_config":
							{
								"JavaScript":
								{
									"codeintel_max_recursive_dir_depth": 2,
									"codeintel_scan_files_in_project": false,
									"javascriptExtraPaths":
									[
									]
								},
								"PHP":
								{
									"codeintel_max_recursive_dir_depth": 5,
									"codeintel_scan_files_in_project": false,
									"phpExtraPaths":
									[
									]
								},
								"Python":
								{
									"env":
									{
									}
								}
							},
							"codeintel_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_live": true,
							"codeintel_live_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_max_recursive_dir_depth": 10,
							"codeintel_scan_exclude_dir":
							{
								"JavaScript":
								[
									"/build/",
									"/min/"
								]
							},
							"codeintel_scan_files_in_project": true,
							"codeintel_selected_catalogs":
							[
								"PyWin32",
								"jQuery",
								"Rails"
							],
							"codeintel_snippets": true,
							"codeintel_syntax_map":
							{
								"Python Django": "Python"
							},
							"codeintel_tooltips": "popup",
							"function_name_status_row": 44,
							"incomplete_sync": null,
							"is_xml": false,
							"sublime_auto_complete": true,
							"syntax": "Packages/SQL/SQL.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1417513092.87,
							"tabs_extra_last_activated_sheet_index": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 1.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 13,
					"type": "text"
				},
				{
					"buffer": 10,
					"file": "user.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 97398,
						"regions":
						{
						},
						"selection":
						[
							[
								28420,
								28420
							]
						],
						"settings":
						{
							"BracketHighlighterBusy": false,
							"bh_regions":
							[
								"bh_square",
								"bh_square_center",
								"bh_square_open",
								"bh_square_close",
								"bh_square_content",
								"bh_unmatched",
								"bh_unmatched_center",
								"bh_unmatched_open",
								"bh_unmatched_close",
								"bh_unmatched_content",
								"bh_c_define",
								"bh_c_define_center",
								"bh_c_define_open",
								"bh_c_define_close",
								"bh_c_define_content",
								"bh_curly",
								"bh_curly_center",
								"bh_curly_open",
								"bh_curly_close",
								"bh_curly_content",
								"bh_double_quote",
								"bh_double_quote_center",
								"bh_double_quote_open",
								"bh_double_quote_close",
								"bh_double_quote_content",
								"bh_angle",
								"bh_angle_center",
								"bh_angle_open",
								"bh_angle_close",
								"bh_angle_content",
								"bh_single_quote",
								"bh_single_quote_center",
								"bh_single_quote_open",
								"bh_single_quote_close",
								"bh_single_quote_content",
								"bh_default",
								"bh_default_center",
								"bh_default_open",
								"bh_default_close",
								"bh_default_content",
								"bh_regex",
								"bh_regex_center",
								"bh_regex_open",
								"bh_regex_close",
								"bh_regex_content",
								"bh_round",
								"bh_round_center",
								"bh_round_open",
								"bh_round_close",
								"bh_round_content",
								"bh_tag",
								"bh_tag_center",
								"bh_tag_open",
								"bh_tag_close",
								"bh_tag_content"
							],
							"function_name_status_row": 798,
							"incomplete_sync": null,
							"is_xml": false,
							"remote_loading": false,
							"side_bar_folders_auto_load_folder": 1,
							"synced": false,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"tab_size": 4,
							"tabs_extra_last_activated": 1417490541.37,
							"tabs_extra_last_activated_sheet_index": 1,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 17437.0,
						"zoom_level": 1.0
					},
					"stack_index": 16,
					"type": "text"
				},
				{
					"buffer": 11,
					"file": "themes/jd2013/user_transaction.dwt",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 54032,
						"regions":
						{
						},
						"selection":
						[
							[
								9647,
								9647
							]
						],
						"settings":
						{
							"BracketHighlighterBusy": false,
							"bh_regions":
							[
								"bh_square",
								"bh_square_center",
								"bh_square_open",
								"bh_square_close",
								"bh_square_content",
								"bh_unmatched",
								"bh_unmatched_center",
								"bh_unmatched_open",
								"bh_unmatched_close",
								"bh_unmatched_content",
								"bh_c_define",
								"bh_c_define_center",
								"bh_c_define_open",
								"bh_c_define_close",
								"bh_c_define_content",
								"bh_curly",
								"bh_curly_center",
								"bh_curly_open",
								"bh_curly_close",
								"bh_curly_content",
								"bh_double_quote",
								"bh_double_quote_center",
								"bh_double_quote_open",
								"bh_double_quote_close",
								"bh_double_quote_content",
								"bh_angle",
								"bh_angle_center",
								"bh_angle_open",
								"bh_angle_close",
								"bh_angle_content",
								"bh_single_quote",
								"bh_single_quote_center",
								"bh_single_quote_open",
								"bh_single_quote_close",
								"bh_single_quote_content",
								"bh_default",
								"bh_default_center",
								"bh_default_open",
								"bh_default_close",
								"bh_default_content",
								"bh_regex",
								"bh_regex_center",
								"bh_regex_open",
								"bh_regex_close",
								"bh_regex_content",
								"bh_round",
								"bh_round_center",
								"bh_round_open",
								"bh_round_close",
								"bh_round_content",
								"bh_tag",
								"bh_tag_center",
								"bh_tag_open",
								"bh_tag_close",
								"bh_tag_content"
							],
							"codeintel": true,
							"codeintel_config":
							{
								"JavaScript":
								{
									"codeintel_max_recursive_dir_depth": 2,
									"codeintel_scan_files_in_project": false,
									"javascriptExtraPaths":
									[
									]
								},
								"PHP":
								{
									"codeintel_max_recursive_dir_depth": 5,
									"codeintel_scan_files_in_project": false,
									"phpExtraPaths":
									[
									]
								},
								"Python":
								{
									"env":
									{
									}
								}
							},
							"codeintel_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_live": true,
							"codeintel_live_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_max_recursive_dir_depth": 10,
							"codeintel_scan_exclude_dir":
							{
								"JavaScript":
								[
									"/build/",
									"/min/"
								]
							},
							"codeintel_scan_files_in_project": true,
							"codeintel_selected_catalogs":
							[
								"PyWin32",
								"jQuery",
								"Rails"
							],
							"codeintel_snippets": true,
							"codeintel_syntax_map":
							{
								"Python Django": "Python"
							},
							"codeintel_tooltips": "popup",
							"function_name_status_row": 184,
							"incomplete_sync": null,
							"remote_loading": false,
							"side_bar_folders_auto_load_folder": 1,
							"sublime_auto_complete": true,
							"synced": false,
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1417492930.6,
							"tabs_extra_last_activated_sheet_index": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 3934.0,
						"zoom_level": 1.0
					},
					"stack_index": 14,
					"type": "text"
				},
				{
					"buffer": 12,
					"file": "includes/lib_transaction.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 37309,
						"regions":
						{
						},
						"selection":
						[
							[
								8634,
								8634
							]
						],
						"settings":
						{
							"BracketHighlighterBusy": false,
							"bh_regions":
							[
								"bh_square",
								"bh_square_center",
								"bh_square_open",
								"bh_square_close",
								"bh_square_content",
								"bh_unmatched",
								"bh_unmatched_center",
								"bh_unmatched_open",
								"bh_unmatched_close",
								"bh_unmatched_content",
								"bh_c_define",
								"bh_c_define_center",
								"bh_c_define_open",
								"bh_c_define_close",
								"bh_c_define_content",
								"bh_curly",
								"bh_curly_center",
								"bh_curly_open",
								"bh_curly_close",
								"bh_curly_content",
								"bh_double_quote",
								"bh_double_quote_center",
								"bh_double_quote_open",
								"bh_double_quote_close",
								"bh_double_quote_content",
								"bh_angle",
								"bh_angle_center",
								"bh_angle_open",
								"bh_angle_close",
								"bh_angle_content",
								"bh_single_quote",
								"bh_single_quote_center",
								"bh_single_quote_open",
								"bh_single_quote_close",
								"bh_single_quote_content",
								"bh_default",
								"bh_default_center",
								"bh_default_open",
								"bh_default_close",
								"bh_default_content",
								"bh_regex",
								"bh_regex_center",
								"bh_regex_open",
								"bh_regex_close",
								"bh_regex_content",
								"bh_round",
								"bh_round_center",
								"bh_round_open",
								"bh_round_close",
								"bh_round_content",
								"bh_tag",
								"bh_tag_center",
								"bh_tag_open",
								"bh_tag_close",
								"bh_tag_content"
							],
							"codeintel": true,
							"codeintel_config":
							{
								"JavaScript":
								{
									"codeintel_max_recursive_dir_depth": 2,
									"codeintel_scan_files_in_project": false,
									"javascriptExtraPaths":
									[
									]
								},
								"PHP":
								{
									"codeintel_max_recursive_dir_depth": 5,
									"codeintel_scan_files_in_project": false,
									"phpExtraPaths":
									[
									]
								},
								"Python":
								{
									"env":
									{
									}
								}
							},
							"codeintel_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_live": true,
							"codeintel_live_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_max_recursive_dir_depth": 10,
							"codeintel_scan_exclude_dir":
							{
								"JavaScript":
								[
									"/build/",
									"/min/"
								]
							},
							"codeintel_scan_files_in_project": true,
							"codeintel_selected_catalogs":
							[
								"PyWin32",
								"jQuery",
								"Rails"
							],
							"codeintel_snippets": true,
							"codeintel_syntax_map":
							{
								"Python Django": "Python"
							},
							"codeintel_tooltips": "popup",
							"function_name_status_row": 290,
							"incomplete_sync": null,
							"is_xml": false,
							"remote_loading": false,
							"side_bar_folders_auto_load_folder": 1,
							"sublime_auto_complete": true,
							"synced": false,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"tab_size": 4,
							"tabs_extra_last_activated": 1417490838.84,
							"tabs_extra_last_activated_sheet_index": 3,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 6102.0,
						"zoom_level": 1.0
					},
					"stack_index": 15,
					"type": "text"
				},
				{
					"buffer": 13,
					"file": "includes/lib_main.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 65653,
						"regions":
						{
						},
						"selection":
						[
							[
								21288,
								21288
							]
						],
						"settings":
						{
							"BracketHighlighterBusy": false,
							"bh_regions":
							[
								"bh_square",
								"bh_square_center",
								"bh_square_open",
								"bh_square_close",
								"bh_square_content",
								"bh_unmatched",
								"bh_unmatched_center",
								"bh_unmatched_open",
								"bh_unmatched_close",
								"bh_unmatched_content",
								"bh_c_define",
								"bh_c_define_center",
								"bh_c_define_open",
								"bh_c_define_close",
								"bh_c_define_content",
								"bh_curly",
								"bh_curly_center",
								"bh_curly_open",
								"bh_curly_close",
								"bh_curly_content",
								"bh_double_quote",
								"bh_double_quote_center",
								"bh_double_quote_open",
								"bh_double_quote_close",
								"bh_double_quote_content",
								"bh_angle",
								"bh_angle_center",
								"bh_angle_open",
								"bh_angle_close",
								"bh_angle_content",
								"bh_single_quote",
								"bh_single_quote_center",
								"bh_single_quote_open",
								"bh_single_quote_close",
								"bh_single_quote_content",
								"bh_default",
								"bh_default_center",
								"bh_default_open",
								"bh_default_close",
								"bh_default_content",
								"bh_regex",
								"bh_regex_center",
								"bh_regex_open",
								"bh_regex_close",
								"bh_regex_content",
								"bh_round",
								"bh_round_center",
								"bh_round_open",
								"bh_round_close",
								"bh_round_content",
								"bh_tag",
								"bh_tag_center",
								"bh_tag_open",
								"bh_tag_close",
								"bh_tag_content"
							],
							"function_name_status_row": 661,
							"incomplete_sync": null,
							"is_xml": false,
							"remote_loading": false,
							"side_bar_folders_auto_load_folder": 1,
							"synced": false,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"tab_size": 4,
							"tabs_extra_last_activated": 1417490304.32,
							"tabs_extra_last_activated_sheet_index": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 14249.0,
						"zoom_level": 1.0
					},
					"stack_index": 12,
					"type": "text"
				},
				{
					"buffer": 14,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 78174,
						"regions":
						{
							"match":
							{
								"flags": 112,
								"regions":
								[
									[
										218,
										227
									],
									[
										394,
										403
									],
									[
										428,
										437
									],
									[
										589,
										598
									],
									[
										679,
										688
									],
									[
										804,
										813
									],
									[
										909,
										918
									],
									[
										1192,
										1201
									],
									[
										1216,
										1225
									],
									[
										1399,
										1408
									],
									[
										1508,
										1517
									],
									[
										1656,
										1665
									],
									[
										1720,
										1729
									],
									[
										1744,
										1753
									],
									[
										1890,
										1899
									],
									[
										1956,
										1965
									],
									[
										1980,
										1989
									],
									[
										2172,
										2181
									],
									[
										2358,
										2367
									],
									[
										2537,
										2546
									],
									[
										2590,
										2599
									],
									[
										2672,
										2681
									],
									[
										2744,
										2753
									],
									[
										2857,
										2866
									],
									[
										3070,
										3079
									],
									[
										3320,
										3329
									],
									[
										3482,
										3491
									],
									[
										3542,
										3551
									],
									[
										3584,
										3593
									],
									[
										3612,
										3621
									],
									[
										3627,
										3636
									],
									[
										3671,
										3680
									],
									[
										3841,
										3850
									],
									[
										3948,
										3957
									],
									[
										4154,
										4163
									],
									[
										4338,
										4347
									],
									[
										4587,
										4596
									],
									[
										4809,
										4818
									],
									[
										4836,
										4845
									],
									[
										5058,
										5067
									],
									[
										5351,
										5360
									],
									[
										5566,
										5575
									],
									[
										5593,
										5602
									],
									[
										5771,
										5780
									],
									[
										5813,
										5822
									],
									[
										5845,
										5854
									],
									[
										5860,
										5869
									],
									[
										5916,
										5925
									],
									[
										6079,
										6088
									],
									[
										6128,
										6137
									],
									[
										6184,
										6193
									],
									[
										6233,
										6242
									],
									[
										6293,
										6302
									],
									[
										6370,
										6379
									],
									[
										6454,
										6463
									],
									[
										6531,
										6540
									],
									[
										6626,
										6635
									],
									[
										6819,
										6828
									],
									[
										7023,
										7032
									],
									[
										7135,
										7144
									],
									[
										7182,
										7191
									],
									[
										7244,
										7253
									],
									[
										7291,
										7300
									],
									[
										7357,
										7366
									],
									[
										7448,
										7457
									],
									[
										7546,
										7555
									],
									[
										7637,
										7646
									],
									[
										7758,
										7767
									],
									[
										7851,
										7860
									],
									[
										8373,
										8382
									],
									[
										8712,
										8721
									],
									[
										8915,
										8924
									],
									[
										8942,
										8951
									],
									[
										9154,
										9163
									],
									[
										9181,
										9190
									],
									[
										9289,
										9298
									],
									[
										9333,
										9342
									],
									[
										9375,
										9384
									],
									[
										9407,
										9416
									],
									[
										9422,
										9431
									],
									[
										9470,
										9479
									],
									[
										9588,
										9597
									],
									[
										9931,
										9940
									],
									[
										10397,
										10406
									],
									[
										10851,
										10860
									],
									[
										11074,
										11083
									],
									[
										11517,
										11526
									],
									[
										12119,
										12128
									],
									[
										12710,
										12719
									],
									[
										12975,
										12984
									],
									[
										13267,
										13276
									],
									[
										13431,
										13440
									],
									[
										13903,
										13912
									],
									[
										14198,
										14207
									],
									[
										14259,
										14268
									],
									[
										14616,
										14625
									],
									[
										14687,
										14696
									],
									[
										14766,
										14775
									],
									[
										15149,
										15158
									],
									[
										15226,
										15235
									],
									[
										15614,
										15623
									],
									[
										15691,
										15700
									],
									[
										16079,
										16088
									],
									[
										16156,
										16165
									],
									[
										16526,
										16535
									],
									[
										16561,
										16570
									],
									[
										16613,
										16622
									],
									[
										16648,
										16657
									],
									[
										16876,
										16885
									],
									[
										16902,
										16911
									],
									[
										16935,
										16944
									],
									[
										16961,
										16970
									],
									[
										17138,
										17147
									],
									[
										17636,
										17645
									],
									[
										18100,
										18109
									],
									[
										18592,
										18601
									],
									[
										18889,
										18898
									],
									[
										18942,
										18951
									],
									[
										19020,
										19029
									],
									[
										19091,
										19100
									],
									[
										19169,
										19178
									],
									[
										19247,
										19256
									],
									[
										19509,
										19518
									],
									[
										19569,
										19578
									],
									[
										19649,
										19658
									],
									[
										19704,
										19713
									],
									[
										19838,
										19847
									],
									[
										19898,
										19907
									],
									[
										20123,
										20132
									],
									[
										20340,
										20349
									],
									[
										20419,
										20428
									],
									[
										20523,
										20532
									],
									[
										20554,
										20563
									],
									[
										20614,
										20623
									],
									[
										20819,
										20828
									],
									[
										21020,
										21029
									],
									[
										21226,
										21235
									],
									[
										21268,
										21277
									],
									[
										21310,
										21319
									],
									[
										21323,
										21332
									],
									[
										21361,
										21370
									],
									[
										21376,
										21385
									],
									[
										21426,
										21435
									],
									[
										21562,
										21571
									],
									[
										21740,
										21749
									],
									[
										21782,
										21791
									],
									[
										21824,
										21833
									],
									[
										21837,
										21846
									],
									[
										21875,
										21884
									],
									[
										21890,
										21899
									],
									[
										21944,
										21953
									],
									[
										22098,
										22107
									],
									[
										22313,
										22322
									],
									[
										22442,
										22451
									],
									[
										22779,
										22788
									],
									[
										23598,
										23607
									],
									[
										23731,
										23740
									],
									[
										24143,
										24152
									],
									[
										24184,
										24193
									],
									[
										24839,
										24848
									],
									[
										26436,
										26445
									],
									[
										27880,
										27889
									],
									[
										28013,
										28022
									],
									[
										28535,
										28544
									],
									[
										28576,
										28585
									],
									[
										29231,
										29240
									],
									[
										30674,
										30683
									],
									[
										30807,
										30816
									],
									[
										31329,
										31338
									],
									[
										31370,
										31379
									],
									[
										32025,
										32034
									],
									[
										33468,
										33477
									],
									[
										33601,
										33610
									],
									[
										34123,
										34132
									],
									[
										34164,
										34173
									],
									[
										34819,
										34828
									],
									[
										35892,
										35901
									],
									[
										35923,
										35932
									],
									[
										35958,
										35967
									],
									[
										35979,
										35988
									],
									[
										36004,
										36013
									],
									[
										36114,
										36123
									],
									[
										36247,
										36256
									],
									[
										36268,
										36277
									],
									[
										36293,
										36302
									],
									[
										36439,
										36448
									],
									[
										36481,
										36490
									],
									[
										36519,
										36528
									],
									[
										36532,
										36541
									],
									[
										36736,
										36745
									],
									[
										36883,
										36892
									],
									[
										36955,
										36964
									],
									[
										37134,
										37143
									],
									[
										37314,
										37323
									],
									[
										37480,
										37489
									],
									[
										37540,
										37549
									],
									[
										37617,
										37626
									],
									[
										37860,
										37869
									],
									[
										38021,
										38030
									],
									[
										38064,
										38073
									],
									[
										38104,
										38113
									],
									[
										38125,
										38134
									],
									[
										38230,
										38239
									],
									[
										38269,
										38278
									],
									[
										38284,
										38293
									],
									[
										38325,
										38334
									],
									[
										38377,
										38386
									],
									[
										38441,
										38450
									],
									[
										38492,
										38501
									],
									[
										38623,
										38632
									],
									[
										38731,
										38740
									],
									[
										39017,
										39026
									],
									[
										39063,
										39072
									],
									[
										39208,
										39217
									],
									[
										39290,
										39299
									],
									[
										39527,
										39536
									],
									[
										39601,
										39610
									],
									[
										39816,
										39825
									],
									[
										39858,
										39867
									],
									[
										39896,
										39905
									],
									[
										39909,
										39918
									],
									[
										40328,
										40337
									],
									[
										40552,
										40561
									],
									[
										40820,
										40829
									],
									[
										40835,
										40844
									],
									[
										40889,
										40898
									],
									[
										41041,
										41050
									],
									[
										41276,
										41285
									],
									[
										41362,
										41371
									],
									[
										41697,
										41706
									],
									[
										42214,
										42223
									],
									[
										42518,
										42527
									],
									[
										42558,
										42567
									],
									[
										42577,
										42586
									],
									[
										42615,
										42624
									],
									[
										42669,
										42678
									],
									[
										42707,
										42716
									],
									[
										42751,
										42760
									],
									[
										42794,
										42803
									],
									[
										42835,
										42844
									],
									[
										43159,
										43168
									],
									[
										43709,
										43718
									],
									[
										44025,
										44034
									],
									[
										44065,
										44074
									],
									[
										44084,
										44093
									],
									[
										44122,
										44131
									],
									[
										44176,
										44185
									],
									[
										44214,
										44223
									],
									[
										44255,
										44264
									],
									[
										44418,
										44427
									],
									[
										44618,
										44627
									],
									[
										44729,
										44738
									],
									[
										44748,
										44757
									],
									[
										44798,
										44807
									],
									[
										44816,
										44825
									],
									[
										45090,
										45099
									],
									[
										45341,
										45350
									],
									[
										45476,
										45485
									],
									[
										45530,
										45539
									],
									[
										45576,
										45585
									],
									[
										45811,
										45820
									],
									[
										46121,
										46130
									],
									[
										46174,
										46183
									],
									[
										46501,
										46510
									],
									[
										46547,
										46556
									],
									[
										46879,
										46888
									],
									[
										46940,
										46949
									],
									[
										47018,
										47027
									],
									[
										47087,
										47096
									],
									[
										47131,
										47140
									],
									[
										47389,
										47398
									],
									[
										47637,
										47646
									],
									[
										47823,
										47832
									],
									[
										47875,
										47884
									],
									[
										47931,
										47940
									],
									[
										47987,
										47996
									],
									[
										48263,
										48272
									],
									[
										48312,
										48321
									],
									[
										48339,
										48348
									],
									[
										48380,
										48389
									],
									[
										48407,
										48416
									],
									[
										48457,
										48466
									],
									[
										48484,
										48493
									],
									[
										48526,
										48535
									],
									[
										48561,
										48570
									],
									[
										48595,
										48604
									],
									[
										48630,
										48639
									],
									[
										48698,
										48707
									],
									[
										48762,
										48771
									],
									[
										49106,
										49115
									],
									[
										49162,
										49171
									],
									[
										49493,
										49502
									],
									[
										49562,
										49571
									],
									[
										49739,
										49748
									],
									[
										49803,
										49812
									],
									[
										49855,
										49864
									],
									[
										49886,
										49895
									],
									[
										49913,
										49922
									],
									[
										49963,
										49972
									],
									[
										50143,
										50152
									],
									[
										50207,
										50216
									],
									[
										50234,
										50243
									],
									[
										50261,
										50270
									],
									[
										50288,
										50297
									],
									[
										50323,
										50332
									],
									[
										50381,
										50390
									],
									[
										50425,
										50434
									],
									[
										50476,
										50485
									],
									[
										50518,
										50527
									],
									[
										50577,
										50586
									],
									[
										50900,
										50909
									],
									[
										51151,
										51160
									],
									[
										51280,
										51289
									],
									[
										51324,
										51333
									],
									[
										51366,
										51375
									],
									[
										51545,
										51554
									],
									[
										51775,
										51784
									],
									[
										51812,
										51821
									],
									[
										52073,
										52082
									],
									[
										52110,
										52119
									],
									[
										52371,
										52380
									],
									[
										52418,
										52427
									],
									[
										52470,
										52479
									],
									[
										52518,
										52527
									],
									[
										52559,
										52568
									],
									[
										52730,
										52739
									],
									[
										52955,
										52964
									],
									[
										53108,
										53117
									],
									[
										53150,
										53159
									],
									[
										53194,
										53203
									],
									[
										53240,
										53249
									],
									[
										53420,
										53429
									],
									[
										53467,
										53476
									],
									[
										53514,
										53523
									],
									[
										53562,
										53571
									],
									[
										53618,
										53627
									],
									[
										53670,
										53679
									],
									[
										53722,
										53731
									],
									[
										53921,
										53930
									],
									[
										54120,
										54129
									],
									[
										54166,
										54175
									],
									[
										54211,
										54220
									],
									[
										54257,
										54266
									],
									[
										54302,
										54311
									],
									[
										54450,
										54459
									],
									[
										54502,
										54511
									],
									[
										54545,
										54554
									],
									[
										54596,
										54605
									],
									[
										54648,
										54657
									],
									[
										54689,
										54698
									],
									[
										54736,
										54745
									],
									[
										54776,
										54785
									],
									[
										54833,
										54842
									],
									[
										55105,
										55114
									],
									[
										55356,
										55365
									],
									[
										55485,
										55494
									],
									[
										55529,
										55538
									],
									[
										55571,
										55580
									],
									[
										55750,
										55759
									],
									[
										55980,
										55989
									],
									[
										56017,
										56026
									],
									[
										56278,
										56287
									],
									[
										56315,
										56324
									],
									[
										56576,
										56585
									],
									[
										56623,
										56632
									],
									[
										56675,
										56684
									],
									[
										56723,
										56732
									],
									[
										56764,
										56773
									],
									[
										56933,
										56942
									],
									[
										57158,
										57167
									],
									[
										57311,
										57320
									],
									[
										57353,
										57362
									],
									[
										57397,
										57406
									],
									[
										57443,
										57452
									],
									[
										57623,
										57632
									],
									[
										57670,
										57679
									],
									[
										57717,
										57726
									],
									[
										57765,
										57774
									],
									[
										57821,
										57830
									],
									[
										57873,
										57882
									],
									[
										57925,
										57934
									],
									[
										58124,
										58133
									],
									[
										58323,
										58332
									],
									[
										58369,
										58378
									],
									[
										58414,
										58423
									],
									[
										58460,
										58469
									],
									[
										58505,
										58514
									],
									[
										58653,
										58662
									],
									[
										58705,
										58714
									],
									[
										58748,
										58757
									],
									[
										58799,
										58808
									],
									[
										58851,
										58860
									],
									[
										58892,
										58901
									],
									[
										58939,
										58948
									],
									[
										58979,
										58988
									],
									[
										59036,
										59045
									],
									[
										59211,
										59220
									],
									[
										59242,
										59251
									],
									[
										59415,
										59424
									],
									[
										60295,
										60304
									],
									[
										60348,
										60357
									],
									[
										60834,
										60843
									],
									[
										60878,
										60887
									],
									[
										60904,
										60913
									],
									[
										60976,
										60985
									],
									[
										61370,
										61379
									],
									[
										61567,
										61576
									],
									[
										61623,
										61632
									],
									[
										61723,
										61732
									],
									[
										61806,
										61815
									],
									[
										61844,
										61853
									],
									[
										61998,
										62007
									],
									[
										62234,
										62243
									],
									[
										62298,
										62307
									],
									[
										62578,
										62587
									],
									[
										62642,
										62651
									],
									[
										62706,
										62715
									],
									[
										62769,
										62778
									],
									[
										63090,
										63099
									],
									[
										63146,
										63155
									],
									[
										63162,
										63171
									],
									[
										63239,
										63248
									],
									[
										63466,
										63475
									],
									[
										63598,
										63607
									],
									[
										63869,
										63878
									],
									[
										64098,
										64107
									],
									[
										64161,
										64170
									],
									[
										64364,
										64373
									],
									[
										64509,
										64518
									],
									[
										64669,
										64678
									],
									[
										65009,
										65018
									],
									[
										65186,
										65195
									],
									[
										65593,
										65602
									],
									[
										66359,
										66368
									],
									[
										67082,
										67091
									],
									[
										67137,
										67146
									],
									[
										67182,
										67191
									],
									[
										67206,
										67215
									],
									[
										67416,
										67425
									],
									[
										67613,
										67622
									],
									[
										67669,
										67678
									],
									[
										67769,
										67778
									],
									[
										67852,
										67861
									],
									[
										67890,
										67899
									],
									[
										68044,
										68053
									],
									[
										68280,
										68289
									],
									[
										68344,
										68353
									],
									[
										68624,
										68633
									],
									[
										68688,
										68697
									],
									[
										68752,
										68761
									],
									[
										68815,
										68824
									],
									[
										69136,
										69145
									],
									[
										69192,
										69201
									],
									[
										69208,
										69217
									],
									[
										69285,
										69294
									],
									[
										69512,
										69521
									],
									[
										69644,
										69653
									],
									[
										69915,
										69924
									],
									[
										70144,
										70153
									],
									[
										70207,
										70216
									],
									[
										70410,
										70419
									],
									[
										70555,
										70564
									],
									[
										70715,
										70724
									],
									[
										71055,
										71064
									],
									[
										71232,
										71241
									],
									[
										71639,
										71648
									],
									[
										72405,
										72414
									],
									[
										73019,
										73028
									],
									[
										73061,
										73070
									],
									[
										73099,
										73108
									],
									[
										73112,
										73121
									],
									[
										73531,
										73540
									],
									[
										73787,
										73796
									],
									[
										74055,
										74064
									],
									[
										74070,
										74079
									],
									[
										74124,
										74133
									],
									[
										74276,
										74285
									],
									[
										74511,
										74520
									],
									[
										74597,
										74606
									],
									[
										74932,
										74941
									],
									[
										75449,
										75458
									],
									[
										75753,
										75762
									],
									[
										75793,
										75802
									],
									[
										75812,
										75821
									],
									[
										75850,
										75859
									],
									[
										75904,
										75913
									],
									[
										75942,
										75951
									],
									[
										75986,
										75995
									],
									[
										76029,
										76038
									],
									[
										76070,
										76079
									],
									[
										76394,
										76403
									],
									[
										76944,
										76953
									],
									[
										77260,
										77269
									],
									[
										77300,
										77309
									],
									[
										77319,
										77328
									],
									[
										77357,
										77366
									],
									[
										77411,
										77420
									],
									[
										77449,
										77458
									],
									[
										77490,
										77499
									],
									[
										77653,
										77662
									],
									[
										77853,
										77862
									],
									[
										77964,
										77973
									],
									[
										77983,
										77992
									],
									[
										78033,
										78042
									],
									[
										78051,
										78060
									]
								],
								"scope": ""
							}
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"BracketHighlighterBusy": false,
							"bh_regions":
							[
								"bh_square",
								"bh_square_center",
								"bh_square_open",
								"bh_square_close",
								"bh_square_content",
								"bh_unmatched",
								"bh_unmatched_center",
								"bh_unmatched_open",
								"bh_unmatched_close",
								"bh_unmatched_content",
								"bh_c_define",
								"bh_c_define_center",
								"bh_c_define_open",
								"bh_c_define_close",
								"bh_c_define_content",
								"bh_curly",
								"bh_curly_center",
								"bh_curly_open",
								"bh_curly_close",
								"bh_curly_content",
								"bh_double_quote",
								"bh_double_quote_center",
								"bh_double_quote_open",
								"bh_double_quote_close",
								"bh_double_quote_content",
								"bh_angle",
								"bh_angle_center",
								"bh_angle_open",
								"bh_angle_close",
								"bh_angle_content",
								"bh_single_quote",
								"bh_single_quote_center",
								"bh_single_quote_open",
								"bh_single_quote_close",
								"bh_single_quote_content",
								"bh_default",
								"bh_default_center",
								"bh_default_open",
								"bh_default_close",
								"bh_default_content",
								"bh_regex",
								"bh_regex_center",
								"bh_regex_open",
								"bh_regex_close",
								"bh_regex_content",
								"bh_round",
								"bh_round_center",
								"bh_round_open",
								"bh_round_close",
								"bh_round_content",
								"bh_tag",
								"bh_tag_center",
								"bh_tag_open",
								"bh_tag_close",
								"bh_tag_content"
							],
							"codeintel": true,
							"codeintel_config":
							{
								"JavaScript":
								{
									"codeintel_max_recursive_dir_depth": 2,
									"codeintel_scan_files_in_project": false,
									"javascriptExtraPaths":
									[
									]
								},
								"PHP":
								{
									"codeintel_max_recursive_dir_depth": 5,
									"codeintel_scan_files_in_project": false,
									"phpExtraPaths":
									[
									]
								},
								"Python":
								{
									"env":
									{
									}
								}
							},
							"codeintel_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_live": true,
							"codeintel_live_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_max_recursive_dir_depth": 10,
							"codeintel_scan_exclude_dir":
							{
								"JavaScript":
								[
									"/build/",
									"/min/"
								]
							},
							"codeintel_scan_files_in_project": true,
							"codeintel_selected_catalogs":
							[
								"PyWin32",
								"jQuery",
								"Rails"
							],
							"codeintel_snippets": true,
							"codeintel_syntax_map":
							{
								"Python Django": "Python"
							},
							"codeintel_tooltips": "popup",
							"detect_indentation": false,
							"function_name_status_row": 0,
							"incomplete_sync": null,
							"line_numbers": false,
							"output_tag": 1,
							"result_base_dir": "",
							"result_file_regex": "^([A-Za-z\\\\/<].*):$",
							"result_line_regex": "^ +([0-9]+):",
							"scroll_past_end": true,
							"sublime_auto_complete": true,
							"syntax": "Packages/Default/Find Results.hidden-tmLanguage",
							"tabs_extra_last_activated": 1417575028.18,
							"tabs_extra_last_activated_sheet_index": 10
						},
						"translation.x": 0.0,
						"translation.y": 4370.0,
						"zoom_level": 1.0
					},
					"stack_index": 8,
					"type": "text"
				}
			]
		},
		{
			"selected": 1,
			"sheets":
			[
				{
					"buffer": 15,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1157,
						"regions":
						{
						},
						"selection":
						[
							[
								680,
								680
							]
						],
						"settings":
						{
							"BracketHighlighterBusy": false,
							"bh_regions":
							[
								"bh_square",
								"bh_square_center",
								"bh_square_open",
								"bh_square_close",
								"bh_square_content",
								"bh_unmatched",
								"bh_unmatched_center",
								"bh_unmatched_open",
								"bh_unmatched_close",
								"bh_unmatched_content",
								"bh_c_define",
								"bh_c_define_center",
								"bh_c_define_open",
								"bh_c_define_close",
								"bh_c_define_content",
								"bh_curly",
								"bh_curly_center",
								"bh_curly_open",
								"bh_curly_close",
								"bh_curly_content",
								"bh_double_quote",
								"bh_double_quote_center",
								"bh_double_quote_open",
								"bh_double_quote_close",
								"bh_double_quote_content",
								"bh_angle",
								"bh_angle_center",
								"bh_angle_open",
								"bh_angle_close",
								"bh_angle_content",
								"bh_single_quote",
								"bh_single_quote_center",
								"bh_single_quote_open",
								"bh_single_quote_close",
								"bh_single_quote_content",
								"bh_default",
								"bh_default_center",
								"bh_default_open",
								"bh_default_close",
								"bh_default_content",
								"bh_regex",
								"bh_regex_center",
								"bh_regex_open",
								"bh_regex_close",
								"bh_regex_content",
								"bh_round",
								"bh_round_center",
								"bh_round_open",
								"bh_round_close",
								"bh_round_content",
								"bh_tag",
								"bh_tag_center",
								"bh_tag_open",
								"bh_tag_close",
								"bh_tag_content"
							],
							"codeintel": true,
							"codeintel_config":
							{
								"JavaScript":
								{
									"codeintel_max_recursive_dir_depth": 2,
									"codeintel_scan_files_in_project": false,
									"javascriptExtraPaths":
									[
									]
								},
								"PHP":
								{
									"codeintel_max_recursive_dir_depth": 5,
									"codeintel_scan_files_in_project": false,
									"phpExtraPaths":
									[
									]
								},
								"Python":
								{
									"env":
									{
									}
								}
							},
							"codeintel_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_live": true,
							"codeintel_live_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_max_recursive_dir_depth": 10,
							"codeintel_scan_exclude_dir":
							{
								"JavaScript":
								[
									"/build/",
									"/min/"
								]
							},
							"codeintel_scan_files_in_project": true,
							"codeintel_selected_catalogs":
							[
								"PyWin32",
								"jQuery",
								"Rails"
							],
							"codeintel_snippets": true,
							"codeintel_syntax_map":
							{
								"Python Django": "Python"
							},
							"codeintel_tooltips": "popup",
							"function_name_status_row": 9,
							"incomplete_sync": null,
							"is_xml": false,
							"sublime_auto_complete": true,
							"syntax": "Packages/SQL/SQL.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1417588123.9,
							"tabs_extra_last_activated_sheet_index": 0,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 7,
					"type": "text"
				},
				{
					"buffer": 16,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 3991,
						"regions":
						{
						},
						"selection":
						[
							[
								2772,
								2772
							]
						],
						"settings":
						{
							"BracketHighlighterBusy": false,
							"auto_name": "CREATE TABLE `tp30_order_info` (",
							"bh_regions":
							[
								"bh_square",
								"bh_square_center",
								"bh_square_open",
								"bh_square_close",
								"bh_square_content",
								"bh_unmatched",
								"bh_unmatched_center",
								"bh_unmatched_open",
								"bh_unmatched_close",
								"bh_unmatched_content",
								"bh_c_define",
								"bh_c_define_center",
								"bh_c_define_open",
								"bh_c_define_close",
								"bh_c_define_content",
								"bh_curly",
								"bh_curly_center",
								"bh_curly_open",
								"bh_curly_close",
								"bh_curly_content",
								"bh_double_quote",
								"bh_double_quote_center",
								"bh_double_quote_open",
								"bh_double_quote_close",
								"bh_double_quote_content",
								"bh_angle",
								"bh_angle_center",
								"bh_angle_open",
								"bh_angle_close",
								"bh_angle_content",
								"bh_single_quote",
								"bh_single_quote_center",
								"bh_single_quote_open",
								"bh_single_quote_close",
								"bh_single_quote_content",
								"bh_default",
								"bh_default_center",
								"bh_default_open",
								"bh_default_close",
								"bh_default_content",
								"bh_regex",
								"bh_regex_center",
								"bh_regex_open",
								"bh_regex_close",
								"bh_regex_content",
								"bh_round",
								"bh_round_center",
								"bh_round_open",
								"bh_round_close",
								"bh_round_content",
								"bh_tag",
								"bh_tag_center",
								"bh_tag_open",
								"bh_tag_close",
								"bh_tag_content"
							],
							"codeintel": true,
							"codeintel_config":
							{
								"JavaScript":
								{
									"codeintel_max_recursive_dir_depth": 2,
									"codeintel_scan_files_in_project": false,
									"javascriptExtraPaths":
									[
									]
								},
								"PHP":
								{
									"codeintel_max_recursive_dir_depth": 5,
									"codeintel_scan_files_in_project": false,
									"phpExtraPaths":
									[
									]
								},
								"Python":
								{
									"env":
									{
									}
								}
							},
							"codeintel_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_live": true,
							"codeintel_live_enabled_languages":
							[
								"JavaScript",
								"Mason",
								"XBL",
								"XUL",
								"RHTML",
								"SCSS",
								"Python",
								"HTML",
								"Ruby",
								"Python3",
								"XML",
								"Sass",
								"XSLT",
								"Django",
								"HTML5",
								"Perl",
								"CSS",
								"Twig",
								"Less",
								"Smarty",
								"Node.js",
								"Tcl",
								"TemplateToolkit",
								"PHP"
							],
							"codeintel_max_recursive_dir_depth": 10,
							"codeintel_scan_exclude_dir":
							{
								"JavaScript":
								[
									"/build/",
									"/min/"
								]
							},
							"codeintel_scan_files_in_project": true,
							"codeintel_selected_catalogs":
							[
								"PyWin32",
								"jQuery",
								"Rails"
							],
							"codeintel_snippets": true,
							"codeintel_syntax_map":
							{
								"Python Django": "Python"
							},
							"codeintel_tooltips": "popup",
							"function_name_status_row": 31,
							"incomplete_sync": null,
							"is_xml": false,
							"sublime_auto_complete": true,
							"syntax": "Packages/SQL/SQL.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1417590317.12,
							"tabs_extra_last_activated_sheet_index": 1,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 5.0,
						"translation.y": 367.0,
						"zoom_level": 1.0
					},
					"stack_index": 4,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 30.0
	},
	"input":
	{
		"height": 36.0
	},
	"layout":
	{
		"cells":
		[
			[
				0,
				0,
				1,
				1
			],
			[
				1,
				0,
				2,
				1
			]
		],
		"cols":
		[
			0.0,
			0.708725450082,
			1.0
		],
		"rows":
		[
			0.0,
			1.0
		]
	},
	"menu_visible": true,
	"output.find_results":
	{
		"height": 0.0
	},
	"output.sftp":
	{
		"height": 118.0
	},
	"project": "jj.sublime-project",
	"replace":
	{
		"height": 68.0
	},
	"save_all_on_build": true,
	"select_file":
	{
		"height": 0.0,
		"selected_items":
		[
			[
				"includes/modules/payment/",
				"includes/modules/payment/alipay.php"
			],
			[
				"flow.dwt",
				"themes/jd2013/flow.dwt"
			],
			[
				"languages/zh_cn/flow",
				"languages/zh_cn/shopping_flow.php"
			],
			[
				"user_transaction.dwt",
				"themes/jd2013/user_transaction.dwt"
			],
			[
				"user",
				"user.php"
			],
			[
				"flow.php",
				"flow.php"
			],
			[
				"index.d",
				"themes/jd2013/index.dwt"
			],
			[
				"user_men",
				"themes/default/library/user_menu.lbi"
			],
			[
				"user_menu",
				"themes/jd2013/library/user_menu.lbi"
			],
			[
				"user_tr",
				"themes/jd2013/user_transaction.dwt"
			],
			[
				"flow.d",
				"themes/jd2013/flow.dwt"
			],
			[
				"flow.dw",
				"themes/default/flow.dwt"
			],
			[
				"base",
				"themes/jd2013/base.css"
			],
			[
				"msc",
				"themes/jd2013/js/MSClass.js"
			],
			[
				"diyf",
				"themes/hong2014/diyfile.php"
			],
			[
				"lib_main",
				"includes/lib_main.php"
			],
			[
				"config",
				"data/config.php"
			],
			[
				"index.dw",
				"themes/jd2013/index.dwt"
			],
			[
				"goods.dw",
				"themes/default/goods.dwt"
			],
			[
				"user.php",
				"user.php"
			],
			[
				"admin/order",
				"admin/order.php"
			],
			[
				"udes/init.php",
				"includes/init.php"
			],
			[
				"u",
				"user.php"
			],
			[
				"ser_transaction.d",
				"themes/default/user_transaction.dwt"
			],
			[
				"article_in",
				"admin/templates/article_info.htm"
			],
			[
				"admin/artic",
				"admin/article.php"
			],
			[
				"goods.php",
				"admin/goods.php"
			],
			[
				"goods_info",
				"admin/templates/goods_info.htm"
			],
			[
				"order_query",
				"admin/templates/order_query.htm"
			],
			[
				"order_step",
				"admin/templates/order_step.htm"
			],
			[
				"order_info.htm",
				"admin/templates/order_info.htm"
			],
			[
				"r_transaction.dwt",
				"themes/default/user_transaction.dwt"
			],
			[
				"order_list.htm",
				"admin/templates/order_list.htm"
			],
			[
				"order",
				"admin/order.php"
			],
			[
				"er_transaction.dwt",
				"themes/default/user_transaction.dwt"
			],
			[
				"txt",
				"sql.txt"
			],
			[
				"flow",
				"themes/default/flow.dwt"
			],
			[
				"1706210fa50fcf6c498fa7ec01d10730.php",
				"boc/Runtime/Cache/1706210fa50fcf6c498fa7ec01d10730.php"
			],
			[
				"award_list",
				"boc/Tpl/Award/award_list.html"
			],
			[
				"execl",
				"ThinkPHP/Extend/Library/ORG/PHPExcel.class.php"
			],
			[
				"award",
				"boc/Lib/Action/AwardAction.class.php"
			],
			[
				"codepage.php",
				"ThinkPHP/Extend/Library/ORG/PHPExcel/Shared/CodePage.php"
			],
			[
				"page",
				"Public/css/media/page.css"
			],
			[
				"cachefile.class.php",
				"ThinkPHP/Extend/Engine/Cluster/Lib/Driver/Cache/CacheFile.class.php"
			],
			[
				"choujiang",
				"bocp/Lib/Action/choujiangAction.class.php"
			],
			[
				"statistics",
				"boc/Tpl/Bank/statistics.html"
			],
			[
				"cjrecord",
				"Public/third_party/jqueryUI/development-bundle/ui/minified/jquery.ui.accordion.min.js"
			],
			[
				"tabmenu",
				"boc/Tpl/Choujiang/tabmenu.html"
			],
			[
				"wxhactive",
				"boc/Lib/Action/WxhactiveAction.class.php"
			],
			[
				"ebank",
				"msgImage2/4wrBGywictFRXX9W4aNvwWyWcQwMiaHk8Wib7NeiarQFtcW4lgjabkeY3lsLJZjTXIhiaudS7Idxx38RzGg4gkJ85yQ"
			],
			[
				"chouji",
				"choujiang.txt"
			],
			[
				"chou",
				"bocp/Lib/Action/choujiangAction.class.php"
			],
			[
				"register",
				"bocp/Tpl/shop/register.html"
			],
			[
				"shop",
				"Public/css/boc/shop.css"
			],
			[
				"runtime/",
				"boc/Runtime/Cache/01fb6739da9c24faf58de9a8123a116c.php"
			],
			[
				"run",
				"ThinkPHP/Common/runtime.php"
			],
			[
				"bocp",
				"bocp.php"
			],
			[
				"con",
				"bocp/Conf/config.php"
			],
			[
				"config.php",
				"boc/Conf/config.php"
			],
			[
				"siteconfig.inc.php",
				"Public/conf/siteconfig.inc.php"
			],
			[
				"confi",
				"data/config.php"
			],
			[
				"style",
				"themes/default/style.css"
			],
			[
				"goods_list.l",
				"themes/default/library/goods_list.lbi"
			],
			[
				"categor",
				"category.php"
			],
			[
				"lib_goods",
				"includes/lib_goods.php"
			],
			[
				"category.d",
				"themes/default/category.dwt"
			],
			[
				"brand.d",
				"themes/default/brand.dwt"
			],
			[
				"style.css",
				"themes/default/style.css"
			],
			[
				"taobao",
				"themes/default/library/taobao_ad.lbi"
			],
			[
				"index_ad",
				"themes/default/library/index_ad.lbi"
			],
			[
				"obao_ad.lb",
				"themes/default/library/taobao_ad.lbi"
			],
			[
				"index.dwt",
				"themes/default/index.dwt"
			],
			[
				"hg_",
				"admin/hg_xiadan_1.php"
			],
			[
				".lib",
				"themes/default/library/history.lbi"
			],
			[
				"home.css",
				"mobile/css/home.css"
			],
			[
				"cate",
				"category.php"
			],
			[
				"index.php",
				"index.php"
			],
			[
				"includes/lib_insert.php",
				"includes/lib_insert.php"
			],
			[
				"cat_goods.lbi",
				"themes/default/library/cat_goods.lbi"
			],
			[
				"ry/goods_list.lb",
				"themes/default/library/goods_list.lbi"
			],
			[
				"category.dwt",
				"mobile/templates/category.dwt"
			],
			[
				"category.php",
				"category.php"
			]
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 500.0,
		"selected_items":
		[
		],
		"width": 380.0
	},
	"select_symbol":
	{
		"height": 27.0,
		"selected_items":
		[
			[
				"price_format",
				"price_format"
			],
			[
				"errno",
				"errno"
			],
			[
				"autoExecute",
				"autoExecute"
			],
			[
				"get_order_sn",
				"get_order_sn"
			],
			[
				"affiliate",
				"get_affiliate"
			],
			[
				"order_fee",
				"order_fee"
			],
			[
				"get_user_orders",
				"get_user_orders"
			],
			[
				"get_pager",
				"get_pager"
			],
			[
				"get_advimg",
				"get_advimg"
			],
			[
				"get_cat_bran",
				"get_cat_brands"
			],
			[
				"select",
				"select"
			],
			[
				"getCol",
				"getCol"
			],
			[
				"ayment_id_list",
				"payment_id_list"
			],
			[
				"db_create_in",
				"db_create_in"
			],
			[
				"order_query_sql",
				"order_query_sql"
			],
			[
				"upload_article_file",
				"upload_article_file"
			],
			[
				"showCalendar",
				"showCalendar"
			],
			[
				"order_info",
				"order_info"
			],
			[
				"insertAll",
				"insertAll"
			],
			[
				"addAll",
				"addAll"
			],
			[
				"write_file",
				"Smarty_Internal_Write_File"
			],
			[
				"getCellByColumnAndRow",
				"getCellByColumnAndRow"
			],
			[
				"getHighestColumn",
				"getHighestColumn"
			],
			[
				"getValue",
				"getValue"
			],
			[
				"firstDayOfMonth",
				"firstDayOfMonth"
			]
		],
		"width": 381.0
	},
	"selected_group": 0,
	"settings":
	{
		"fss_on_distraction_free": false,
		"fss_on_full_screen": false
	},
	"show_minimap": true,
	"show_open_files": true,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 210.0,
	"status_bar_visible": true,
	"template_settings":
	{
		"max_columns": 1
	}
}
